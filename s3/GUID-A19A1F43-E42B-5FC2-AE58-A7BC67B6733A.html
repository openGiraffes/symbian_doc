
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-A19A1F43-E42B-5FC2-AE58-A7BC67B6733A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:59:55 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Migrating from CommDb to the CommsDat API" /><meta name="abstract" content="This section highlights some of the issues in the migration from the CommDb to the CommsDat API." /><meta name="description" content="This section highlights some of the issues in the migration from the CommDb to the CommsDat API." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04" /><meta name="DC.Relation" scheme="URI" content="GUID-C3018CEE-865B-595A-A735-40E11665E50A" /><meta name="DC.Relation" scheme="URI" content="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-A19A1F43-E42B-5FC2-AE58-A7BC67B6733A" /><meta name="DC.Language" content="en" /><title>Migrating
from CommDb to the CommsDat API </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-A19A1F43-E42B-5FC2-AE58-A7BC67B6733A">Migrating
from CommDb to the CommsDat API</h1><div><p>This section highlights some of the issues in the migration from
the CommDb to the CommsDat API. </p>
<p>The CommsDat API replaces CommDb. Users of CommDb do not need to make changes
to their code. Symbian platform provides a shim that translates the calls
to the CommDb API to calls to the CommsDat API. </p>
<p>The CommDb API will be withdrawn in the future. Developers are recommended
to migrate to the CommsDat API. </p>
<div id="GUID-BAAA18F6-2276-4F0A-A705-7E48D28CD452"><h3 class="section-title">Removal of the CommDb SQL API</h3> <p>The Commdb SQL API
is removed. </p> <p>The CommDb API allows tools and applications to select
views of database tables that match field values. The CommDb API also allows
tools and applications to create new user defined tables in the database at
run time. </p> <p>The CommsDat keeps this behaviour. Tools and applications
can select sets of records by pattern matching fields in a primed table, record
or field object with records in the database. Tools and applications can also
use the CommsDat API to define and store user defined records. </p> </div>
<div id="GUID-DC5B7004-27F4-4883-ABBA-0747EE90738E"><h3 class="section-title">Referring to database elements by Id instead of by       
   Name</h3> <p>The Commdb API has an interface based on column names.
This method is not efficient. </p> <p>The CommsDat API allows tools and applications
to find elements in the database by numeric id and to provide direct access
through mapped data objects. You can continue to find elements in the Comms
Database by name. The Nifman API continues to use this method. This method
is not recommended, because it is very inefficient. </p> </div>
<div id="GUID-1452DF5C-BF8B-4103-8DBB-3DD41BD2370B"><h3 class="section-title">Retrieving small amounts of data</h3> <p>Tools and applications
do not need to simulate the use of a whole view when they use the <strong class="conversion-error-message" title="[NOKX000E] Unable to find definition for key reference 'CommsDat'">[[[ERROR: [NOKX000E] Unable to find definition for key reference 'CommsDat']]]</strong><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html"><code class="apiname">CMDBRecordSet</code></a> &lt;T&gt; class. Tools and applications
can use <strong class="conversion-error-message" title="[NOKX000E] Unable to find definition for key reference 'CommsDat'">[[[ERROR: [NOKX000E] Unable to find definition for key reference 'CommsDat']]]</strong><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html"><code class="apiname">CMDBRecordSet</code></a> &lt;T&gt; objects
for data retrieval. </p> </div>
<div id="GUID-B5926C0D-AAE9-4030-B35B-E2D616E81768"><h3 class="section-title">Use record tags instead of record names in user defined  
        fields</h3> <p>Many CommDb searches are for records by user defined
record name. This type of search is not efficient. </p> <p>The use of numeric
Ids improves the performance of searches. User defined records can define
a record tag field. Tools and applications give this field the unique numeric
Id <strong class="conversion-error-message" title="[NOKX000E] Unable to find definition for key reference 'CommsDat'">[[[ERROR: [NOKX000E] Unable to find definition for key reference 'CommsDat']]]</strong><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-1CDD0B97-8B00-3373-9908-512C9BC1CF51.html"><code class="apiname">KCDTIdRecordTag</code></a>. Current procedure
fills this field with the record Id of the record. This procedure provides
backward compatibility with CommdbId. The field value can be any numeric record
tag. For example, a <em>UID</em> value gives a convenient way to
link records . </p> <p>See <a href="GUID-A96ABD2C-A338-58E5-A674-E840B1F53670.html">Creating
a User Defined Table: Tutorial</a> </p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated February 4th, 2010</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-A19A1F43-E42B-5FC2-AE58-A7BC67B6733A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:59:55 GMT -->
</html>