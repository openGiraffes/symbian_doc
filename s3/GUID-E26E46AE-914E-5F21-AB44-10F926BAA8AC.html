
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-E26E46AE-914E-5F21-AB44-10F926BAA8AC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:03:18 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="EUserHlExample: EUser High Level example" /><meta name="abstract" content="This example demonstrates how to use the EUser High Level library and includes the ceratian features supported by the library. It also demonstrates the usage of specific APIs associated with the EUser High Level Library." /><meta name="description" content="This example demonstrates how to use the EUser High Level library and includes the ceratian features supported by the library. It also demonstrates the usage of specific APIs associated with the EUser High Level Library." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF" /><meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD" /><meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-E26E46AE-914E-5F21-AB44-10F926BAA8AC" /><meta name="DC.Language" content="en" /><title>EUserHlExample: EUser High Level example </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-E26E46AE-914E-5F21-AB44-10F926BAA8AC">EUserHlExample: EUser High Level example</h1><div><p>This example demonstrates how to use the EUser High Level
library and includes the ceratian features supported by the library.
It also demonstrates the usage of specific APIs associated with the
EUser High Level Library. </p>
<div id="GUID-EB6346F5-1C3C-5DEB-AD3A-36474C372E1C"><h3 class="section-title">Purpose</h3> <p>This example demonstrates the following features of EUserHL: </p> <ul>
<li id="GUID-31A8E1A2-F2A9-5DDB-A880-FF27A41F1C3B"><a name="GUID-31A8E1A2-F2A9-5DDB-A880-FF27A41F1C3B"><!-- --></a><p>String handling </p> </li>
<li id="GUID-C09DC120-E1B8-5F60-9E90-2078E122C8EF"><a name="GUID-C09DC120-E1B8-5F60-9E90-2078E122C8EF"><!-- --></a><p>Object creation
and automatic resource management </p> </li>
<li id="GUID-D7F1F68F-B9FC-524C-8B3B-D987582AEE76"><a name="GUID-D7F1F68F-B9FC-524C-8B3B-D987582AEE76"><!-- --></a><p>Memory usage
by EUserHL classes </p> </li>
</ul> </div>
<div id="GUID-4BE93C59-6FBA-5F1B-90AE-1A8D30FB084C"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-66d31721-b6a6-4c84-b51d-c92f3927df4c.zip" target="_blank">EUserHlExample.zip</a></p><p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-66d31721-b6a6-4c84-b51d-c92f3927df4c.html#guid-6013a680-57f9-415b-8851-c4fa63356636/guid-66d31721-b6a6-4c84-b51d-c92f3927df4c.html">browse</a> to view the example code. </p> </div>
<div id="GUID-62A4FC58-6832-5282-9E14-DCAB88913E8F"><h3 class="section-title">Design
and implementation</h3> <p>The example implements three main functions: </p> <ul>
<li id="GUID-5B20BDEE-B5A1-5D07-A19A-5CA298D1CEAA"><a name="GUID-5B20BDEE-B5A1-5D07-A19A-5CA298D1CEAA"><!-- --></a><p> <code class="codeph">WalkthroughStringsL()</code> demonstrates string handling. </p> </li>
<li id="GUID-FC833C89-5A32-52E6-93D3-F45DC0A7E865"><a name="GUID-FC833C89-5A32-52E6-93D3-F45DC0A7E865"><!-- --></a><p> <code class="codeph">WalkthroughManagedL()</code> demonstrates object creation and resource management. </p> </li>
<li id="GUID-7914F607-47BC-557A-B7F4-1432A294F743"><a name="GUID-7914F607-47BC-557A-B7F4-1432A294F743"><!-- --></a><p> <code class="codeph">WalkthroughUsageL()</code> demonstrates memory usage by EUserHL library classes. </p> </li>
</ul> <p><strong>String handling</strong> </p> <p> LString is designed to be a self-managing, resizable alternative to some
of the existing descriptor types. </p> <p> <code class="codeph">WalkthroughStringsL()</code> demonstrates how <code class="codeph">LString</code> can be used in similar
ways to the existing <code class="codeph">TDesC</code> and <code class="codeph">TDes</code> descriptor classes, as well as showing some additional functions,
including: </p> <ul>
<li id="GUID-DA576055-E813-51DE-8232-9E961596E34D"><a name="GUID-DA576055-E813-51DE-8232-9E961596E34D"><!-- --></a><p> LString::SetMaxlengthL() </p> </li>
<li id="GUID-7A845FEC-A1B6-592F-A4E4-B93F301E3E1A"><a name="GUID-7A845FEC-A1B6-592F-A4E4-B93F301E3E1A"><!-- --></a><p> LString::ReserveFreeCapacityL() </p> </li>
<li id="GUID-3883BD67-A7AA-5E55-8281-D41BC5871815"><a name="GUID-3883BD67-A7AA-5E55-8281-D41BC5871815"><!-- --></a><p> LString::Compress() </p> </li>
<li id="GUID-F7BC1D06-38E9-582A-870F-CE38A6DC4FD5"><a name="GUID-F7BC1D06-38E9-582A-870F-CE38A6DC4FD5"><!-- --></a><p> LString::Reset() </p> </li>
</ul> <p> <code class="codeph">CStringUserTwoPhase</code> is used to demonstrate
the use of <code class="codeph">LString</code> s in the two-phase construction
pattern. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html"><code class="apiname">LCleanedupPtr</code></a> is used in place of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html"><code class="apiname">CleanupStack</code></a> in the <code class="codeph">NewL()</code> function. </p> <p> <code class="codeph">CStringUserSinglePhase</code> is used to demonstrate
the use of LString s in the single phase construction
pattern. A macro <code class="codeph">CONSTRUCTORS_MAY_LEAVE</code> is declared
to ensure cleanup is correctly handled if the constructor leaves. </p> <p><strong>Object creation and automatic resource management</strong> </p> <p>The <code class="codeph">LCleanedUpXxx</code> classes <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html"><code class="apiname">LCleanedupPtr</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9ECEAE0C-3D5A-3B1F-88DD-28B37CE9950D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9ECEAE0C-3D5A-3B1F-88DD-28B37CE9950D.html"><code class="apiname">LCleanedupHandle</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A7B3BEBB-3805-3149-A9DB-075FFF3DED3F.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A7B3BEBB-3805-3149-A9DB-075FFF3DED3F.html"><code class="apiname">LCleanedupArray</code></a>, <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E6D04730-8064-3846-99E4-FB638C5EAA65.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E6D04730-8064-3846-99E4-FB638C5EAA65.html"><code class="apiname">LCleanedupGuard</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-83938A18-23EF-301A-9D40-C89AEDB5DFF0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-83938A18-23EF-301A-9D40-C89AEDB5DFF0.html"><code class="apiname">LCleanedupRef</code></a> classes provide automatic resource management that avoids the need
for the programmer to use the cleanup stack. </p> <p> <code class="codeph">WalkthroughManagedL()</code> shows how the various <code class="codeph">LCleanedUpXxx</code> classes are
used. It shows how objects declared locally to a function (a pointer,
a resource handle, an array, and an object cleaned up using a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CD0A798E-7E42-3689-8E86-F5FD43C758FC.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CD0A798E-7E42-3689-8E86-F5FD43C758FC.html"><code class="apiname">TCleanupItem</code></a>) are deleted automatically when they go out
of scope. </p> <p> <code class="codeph">CManagedUserTwoPhase</code> demonstrates
the use of the management classes in the two-phase construction pattern. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html"><code class="apiname">LCleanedupPtr</code></a> is used in the <code class="codeph">NewL()</code> function
in place of the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html"><code class="apiname">CleanupStack</code></a>. <code class="codeph">LManagedXxx</code> classes (for example <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-166B7262-50A5-3C2E-B7DD-3291F96B31AA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-166B7262-50A5-3C2E-B7DD-3291F96B31AA.html"><code class="apiname">LManagedPtr</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-FCBCB7A9-AF28-3591-A54D-8AF354E01D11.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-FCBCB7A9-AF28-3591-A54D-8AF354E01D11.html"><code class="apiname">LManagedHandle</code></a>) are used to handle cleanup of member data. </p> <p><strong>Related APIs</strong></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html"><code class="apiname">CleanupStack</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A7B3BEBB-3805-3149-A9DB-075FFF3DED3F.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A7B3BEBB-3805-3149-A9DB-075FFF3DED3F.html"><code class="apiname">LCleanedupArray</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E6D04730-8064-3846-99E4-FB638C5EAA65.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E6D04730-8064-3846-99E4-FB638C5EAA65.html"><code class="apiname">LCleanedupGuard</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9ECEAE0C-3D5A-3B1F-88DD-28B37CE9950D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9ECEAE0C-3D5A-3B1F-88DD-28B37CE9950D.html"><code class="apiname">LCleanedupHandle</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BD4E0CC4-75A2-306D-A860-06B4138F86EB.html"><code class="apiname">LCleanedupPtr</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-83938A18-23EF-301A-9D40-C89AEDB5DFF0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-83938A18-23EF-301A-9D40-C89AEDB5DFF0.html"><code class="apiname">LCleanedupRef</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-FCBCB7A9-AF28-3591-A54D-8AF354E01D11.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-FCBCB7A9-AF28-3591-A54D-8AF354E01D11.html"><code class="apiname">LManagedHandle</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-166B7262-50A5-3C2E-B7DD-3291F96B31AA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-166B7262-50A5-3C2E-B7DD-3291F96B31AA.html"><code class="apiname">LManagedPtr</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CD0A798E-7E42-3689-8E86-F5FD43C758FC.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CD0A798E-7E42-3689-8E86-F5FD43C758FC.html"><code class="apiname">TCleanupItem</code></a></p><p><strong>Memory usage</strong> </p> <p> <code class="codeph">WalkthroughUsageL()</code> API demonstrates the memory overhead of using EUserHL. </p> </div>
<div id="GUID-1BB8D12F-2303-5F46-BF3F-78416EAB2DBE"><h3 class="section-title">Building
and configuring</h3> <p>To build the example: </p> <ul>
<li id="GUID-324858E0-CD22-533E-A291-4CD4C88935BC"><a name="GUID-324858E0-CD22-533E-A291-4CD4C88935BC"><!-- --></a><p>You can build
the example from your IDE or the command line. </p> <p>If you use
an IDE, import the <code>bld.inf</code> file of the example
into your IDE, and use the build command of the IDE. </p> <p>If you
use the command line, open a command prompt, and set the current directory
to the source code directory of the example. You can then build the
example with the SBSv1 build tools with the following commands: </p> <p><kbd class="userinput">bldmake bldfiles</kbd> </p> <p><kbd class="userinput">abld
build</kbd> </p> </li>
<li id="GUID-01951689-451E-5B11-8A71-08B263B4CA8A"><a name="GUID-01951689-451E-5B11-8A71-08B263B4CA8A"><!-- --></a><p>For the emulator,
the example builds an executable called <code>euserhlexample.exe</code> in the <code>epoc32\release\winscw\&lt;udeb or             
   urel&gt;\</code> folder. </p> </li>
</ul> </div>
<div id="GUID-B4B61C60-2DAF-5279-A934-DF5B5FCA29E7"><h3 class="section-title">Running
the example</h3> <p>This is a console application. The user presses
any key to step through it and the emulator closes down on exit. </p> </div>
<div id="GUID-4D11EB1C-F2C4-4B0F-8DFC-3ECB15141A20"><h3 class="section-title">See also:</h3><p><a href="GUID-B007634D-4D55-528A-8B85-6120C633AC8B.html">EUser High Level
Library</a></p></div>
</div></div></div><div class="footer"><p class="metadata">Last updated July 8th, 2010</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-E26E46AE-914E-5F21-AB44-10F926BAA8AC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:03:18 GMT -->
</html>