
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-7CE86E8C-0187-5679-B87D-71ABDE479048.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:18:25 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Externalising and internalising descriptors" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A" /><meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE" /><meta name="DC.Relation" scheme="URI" content="GUID-3FAB9077-3EC3-5539-B391-D11456362513" /><meta name="DC.Relation" scheme="URI" content="GUID-6BF09365-09D7-5596-B802-1BE1757F51F6" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-7CE86E8C-0187-5679-B87D-71ABDE479048" /><meta name="DC.Language" content="en" /><title>Externalising and internalising descriptors </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-7CE86E8C-0187-5679-B87D-71ABDE479048">Externalising and internalising descriptors</h1><div><div><h3 class="section-title">Externalising</h3> <p>Descriptors can be externalised in one of two ways:</p> <ul><li id="GUID-184B3A20-23C7-5F6C-80B0-B8902CC56DE8"><a name="GUID-184B3A20-23C7-5F6C-80B0-B8902CC56DE8"><!-- --></a><p>using the <code class="codeph">WriteL()</code> member functions of the <code class="codeph">RWriteStream</code> class.</p> </li> <li id="GUID-8593FABC-5C26-5155-8181-A9614126D678"><a name="GUID-8593FABC-5C26-5155-8181-A9614126D678"><!-- --></a><p>using the templated stream <code class="codeph">operator&lt;&lt;</code> </p> </li> </ul> <p>The <code class="codeph">WriteL()</code> member functions of <code class="codeph">RWriteStream</code> write only the <em>content</em> of a descriptor to the stream; they do not write any length information.</p> <p>The <code class="codeph">operator&lt;&lt;</code> is implemented by the Store framework to write <em>both</em> the length of the descriptor content and the content itself to the stream.</p> <p>Use of the <code class="codeph">operator&lt;&lt;</code> is preferred because descriptors can then be internalised using either the corresponding <code class="codeph">operator&gt;&gt;</code> or the variants of <code class="codeph">HBufC::NewL()</code> or <code class="codeph">HBufC::NewLC()</code> that take a read stream.</p> </div> <div><h3 class="section-title">Internalising</h3> <p>Descriptors can be internalised in one of three ways:</p> <ul><li id="GUID-62935D77-6E8A-572C-AD28-94F1287DBD59"><a name="GUID-62935D77-6E8A-572C-AD28-94F1287DBD59"><!-- --></a><p>using the <code class="codeph">ReadL()</code> member functions of the <code class="codeph">RReadStream</code> class.</p> </li> <li id="GUID-4B78612E-1338-5205-95BC-757EB0CD0C00"><a name="GUID-4B78612E-1338-5205-95BC-757EB0CD0C00"><!-- --></a><p>using the templated stream <code class="codeph">operator&gt;&gt;</code> </p> </li> <li id="GUID-02D55084-3194-54E2-BCD7-5609819BCD91"><a name="GUID-02D55084-3194-54E2-BCD7-5609819BCD91"><!-- --></a><p>using the variants of <code class="codeph">HBufC::NewL()</code> or <code class="codeph">HBufC::NewLC()</code> that take a read stream.</p> </li> </ul> <p>The <code class="codeph">ReadL()</code> member functions of <code class="codeph">RReadStream</code> assume that the stream contains only the content of a descriptor.</p> <p>Note that the specific variant, <code class="codeph">ReadL(TDes&amp; aDes)</code>, assumes that the length of data to be read from the stream is the same as the maximum length of the target descriptor.</p> <p>The templated stream <code class="codeph">operator&gt;&gt;</code> is implemented by the Store framework to read both the length of the descriptor content and the content itself and assumes that the descriptor was originally externalised using the templated <code class="codeph">operator&lt;&lt;</code>.</p> <p>The <code class="codeph">NewLC()</code> and <code class="codeph">NewL()</code> member functions of <code class="codeph">HBufC</code> heap descriptors allocate the heap descriptor before internalising from the stream and also assume that the descriptor was originally externalised using the <code class="codeph">operator&lt;&lt;</code>.</p> </div> </div></div></div><div class="footer"><p class="metadata">Last updated October 10th, 2009</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-7CE86E8C-0187-5679-B87D-71ABDE479048.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:18:25 GMT -->
</html>