
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-CD8A3420-6C9B-5774-86FA-85CFE062C400.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:17:08 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Calendar Views" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-F22B8035-CD08-4181-B03A-759E92CA967B" /><meta name="DC.Relation" scheme="URI" content="GUID-00631ED2-1B7F-5FC4-9E81-4B6DF7946631" /><meta name="DC.Relation" scheme="URI" content="GUID-B82FBA26-6B34-4387-A5BC-758B74F37E5F" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-CD8A3420-6C9B-5774-86FA-85CFE062C400" /><meta name="DC.Language" content="en" /><title>Calendar Views </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-CD8A3420-6C9B-5774-86FA-85CFE062C400">Calendar Views</h1><div><p>The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html"><code class="apiname">CCalSession</code></a> class provides the following views for accessing the calendar: </p> <ul><li id="GUID-5A7CA871-9C20-52DC-9C2F-E931BF6F7F72"><a name="GUID-5A7CA871-9C20-52DC-9C2F-E931BF6F7F72"><!-- --></a><p>Entry view </p> <p>You can access and manipulate calendar entries with <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html"><code class="apiname">CCalEntryView</code></a>. </p> </li> <li id="GUID-DDF2375F-D209-569D-AA58-FC03C2A5182F"><a name="GUID-DDF2375F-D209-569D-AA58-FC03C2A5182F"><!-- --></a><p>Instance view </p> <p>With <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html"><code class="apiname">CCalInstanceView</code></a> you can access and delete multiple calendar instances generated from an entry. </p> </li> </ul> <div><h3 class="section-title">Entry view </h3> <p>You can use the entry view object to perform the following functions on a calendar entry: </p> <ul><li id="GUID-4679329D-7D83-59FD-9BDD-2445EF9D3637"><a name="GUID-4679329D-7D83-59FD-9BDD-2445EF9D3637"><!-- --></a><p>Fetch by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-43FA0568-E254-3C7C-BC4C-1C73AFB6421A"><code class="apiname">CCalEntryView::FetchL()</code></a>. </p> </li> <li id="GUID-F27E0D76-CA84-5CED-8230-82761200F2FB"><a name="GUID-F27E0D76-CA84-5CED-8230-82761200F2FB"><!-- --></a><p>Update by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-536FA411-5D58-3CE5-8F10-22FA8089FBBF"><code class="apiname">CCalEntryView::UpdateL()</code></a>. </p> </li> <li id="GUID-319DCEBE-B91E-525C-BA5C-3581C865B432"><a name="GUID-319DCEBE-B91E-525C-BA5C-3581C865B432"><!-- --></a><p>Save by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-41282158-9CC7-3563-A542-834BE2B10D78"><code class="apiname">CCalEntryView::StoreL()</code></a>. </p> </li> <li id="GUID-5C6E0994-70D8-5267-9507-CFC7BCCD150E"><a name="GUID-5C6E0994-70D8-5267-9507-CFC7BCCD150E"><!-- --></a><p>Delete by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-4B78A543-8F12-3E68-8C09-D178FBB8F83E"><code class="apiname">CCalEntryView::DeleteL()</code></a>. </p> </li> </ul> <p>To access a calendar entry, you need to create an entry view with the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D2835D4E-F0A8-3EDE-BC13-B45E52170556.html#GUID-795FE89C-9074-3DFB-9C67-99E002DE386C"><code class="apiname">CCalEntryView::NewL()</code></a> function. </p> </div> <div><h3 class="section-title">Instance view</h3> <p>A calendar event can have one or more occurrences. An event occurs more than once if a repeat rule has been set. Each occurrence is known as an instance (also called a schedule). </p> <p>An instance view can be created with a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html"><code class="apiname">CCalSession</code></a> object array. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-961D3CE4-3C92-3A15-BDD1-19FF3D970F83"><code class="apiname">CCalInstanceView::FindInstanceL()</code></a> allows you to search all files within the array. </p> <pre class="codeblock">void FindInstanceL(RPointerArray&lt; CCalInstance &gt;
    &amp;aMatchedInstanceList, CalCommon::TCalViewFilter aCalViewFilter, const
    CalCommon::TCalTimeRange &amp;aTimeRange, const TCalSearchParams
    &amp;aSearchParams) const;</pre> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-961D3CE4-3C92-3A15-BDD1-19FF3D970F83"><code class="apiname">CCalInstanceView::FindInstanceL()</code></a> returns instances across multiple files in the form of an <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html"><code class="apiname">RPointerArray</code></a> object. The other parameters specify the following filtering criteria: </p> <ul><li id="GUID-4565DEFA-7536-56FC-9FF5-29A6D59B5E6C"><a name="GUID-4565DEFA-7536-56FC-9FF5-29A6D59B5E6C"><!-- --></a><p>entry type </p> </li> <li id="GUID-55CAF240-089B-5976-836E-0E93B38501ED"><a name="GUID-55CAF240-089B-5976-836E-0E93B38501ED"><!-- --></a><p>time range within which the entries need to be found </p> </li> <li id="GUID-A60A6082-A5A8-5176-9EE7-AEE04042289F"><a name="GUID-A60A6082-A5A8-5176-9EE7-AEE04042289F"><!-- --></a><p>search text along with the search options. </p> </li> </ul> <p>You can get the next and previous instances relative to a specified time using <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-1B622C9A-BAD5-3BF2-9D50-DB490C4A30A4"><code class="apiname">CCalInstanceView::NextInstanceL()</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-6397E6CA-122F-3CC7-93F1-75CFA1FBF921"><code class="apiname">CCalInstanceView::PreviousInstanceL()</code></a> respectively. </p> <p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-0960F4DF-AC2F-3E79-AACD-DC16DC364FB8"><code class="apiname">CCalInstanceView::DeleteL()</code></a> to delete any instance returned by <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-961D3CE4-3C92-3A15-BDD1-19FF3D970F83"><code class="apiname">CCalInstanceView::FindInstanceL()</code></a>. If all the instances are deleted, the entry gets deleted automatically. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-0960F4DF-AC2F-3E79-AACD-DC16DC364FB8"><code class="apiname">CCalInstanceView::DeleteL()</code></a> must be used in conjunction with <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-58BA8611-A364-3E30-B5F0-E5787E19C48C.html#GUID-961D3CE4-3C92-3A15-BDD1-19FF3D970F83"><code class="apiname">CCalInstanceView::FindInstanceL()</code></a>. </p> <p><strong>Multiple Calendar File Searching</strong> </p> <p>The following functions find instances across calendar collections (multiple calendar files). </p> <ul><li id="GUID-35F941B6-B325-5C56-A39B-EFED498B6AFB"><a name="GUID-35F941B6-B325-5C56-A39B-EFED498B6AFB"><!-- --></a><pre class="codeblock">CCalInstanceIterator* FindInstanceByUidL(TCalCollectionId aCollectionId, const TDesC8&amp; aUid, const TCalTime&amp; aInstanceTime) const;</pre> <p>This function creates an instance iterator containing instances that relate to a UID (unique identifier). The iterator contains a collection ID, a global UID (GUID) and a time. The parameters are used to tell the iterator which instance to start iterating from. The aCollectionId parameter identifies the file from which the starting instance comes. The aInstanceTime parameter identifies the time of the starting instance. </p> </li> <li id="GUID-634BB40B-A31C-5190-BB5A-FE022467478D"><a name="GUID-634BB40B-A31C-5190-BB5A-FE022467478D"><!-- --></a><pre class="codeblock">CCalInstance* FindInstanceL(const TCalInstanceId&amp; aLocalId)</pre> <p>In the function above <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A9EAAEB8-411D-33DD-9BA4-0D9356A999BC.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A9EAAEB8-411D-33DD-9BA4-0D9356A999BC.html"><code class="apiname">TCalInstanceId</code></a> is a datatype that contains TCalCollectionId, CCalLocalUid and CCalTime. </p> <p>This function only returns a single instance. </p> </li> <li id="GUID-16E1142E-2F3D-5A22-9377-151E47C20E10"><a name="GUID-16E1142E-2F3D-5A22-9377-151E47C20E10"><!-- --></a><pre class="codeblock">CCalInstanceIterator* FindInstanceL(const CCalFindInstanceSettings&amp; aSettings, const TCalInstanceId&amp; aInstanceId);</pre> <p>This function contains a <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BB7C2921-86A6-30B3-8092-4338A88C36CE.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-BB7C2921-86A6-30B3-8092-4338A88C36CE.html"><code class="apiname">CCalFindInstanceSettings</code></a> parameter that sets filtering criteria. As before <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A9EAAEB8-411D-33DD-9BA4-0D9356A999BC.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A9EAAEB8-411D-33DD-9BA4-0D9356A999BC.html"><code class="apiname">TCalInstanceId</code></a> identifies the starting instance. </p> </li> </ul> <p>The functions above are based on the following deprecated functions: </p> <pre class="codeblock">CCalInstanceIterator* FindInstanceByUidL(const TDesC8 &amp;aUid, const TCalTime &amp;aInstanceTime);</pre> <pre class="codeblock">CCalInstance* FindInstanceL(TCalLocalUid aLocalId, const TCalTime&amp; aInstanceTime);</pre> <pre class="codeblock">CCalInstanceIterator* FindInstanceL(const CCalFindInstanceSettings&amp; aSettings, TCalLocalUid aLocalId, const TCalTime&amp; aInstanceTime);
        </pre> </div> </div></div></div><div class="footer"><p class="metadata">Last updated October 8th, 2009</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-CD8A3420-6C9B-5774-86FA-85CFE062C400.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:17:08 GMT -->
</html>