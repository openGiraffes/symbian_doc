
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:02:25 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Manipulating URI Data" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013" /><meta name="DC.Relation" scheme="URI" content="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382" /><meta name="DC.Relation" scheme="URI" content="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9" /><meta name="DC.Relation" scheme="URI" content="GUID-5D4616AC-42AB-52C3-9092-4463C3687E58" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3" /><meta name="DC.Language" content="en" /><title>Manipulating
URI Data  </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3">Manipulating
URI Data </h1><div>
<p>This tutorial describes the steps to manipulate the URI data. </p>
<div><h3 class="section-title">Introduction</h3> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html"><code class="apiname">InetProtTextUtils</code></a> provides
various text parsing utilities for manipulating the data in HTTP headers.
This includes: </p> <ul>
<li id="GUID-81BF0E64-8463-534B-84E3-73BE5A84C195"><a name="GUID-81BF0E64-8463-534B-84E3-73BE5A84C195"><!-- --></a><p>removing the white space </p> </li>
<li id="GUID-269D1163-D6FB-5A15-AC0F-52D565F40C85"><a name="GUID-269D1163-D6FB-5A15-AC0F-52D565F40C85"><!-- --></a><p>converting the data. </p> </li>
</ul> </div>
<div><h3 class="section-title">Removing white spaces</h3><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-2315E4AF-99EE-32B4-BA13-79A643F8A929"><code class="apiname">InetProtTextUtils::RemoveWhiteSpace()</code></a> removes
any contiguous white spaces at either or both the ends of the data, as specified
by the mode (right, left, or both). A white space includes blank spaces, tabs
and separators. For example, new line. </p><p>The following code removes the
white spaces on the left side of the URI. </p><pre class="codeblock">_LIT( KFullUriPath," P:\\DV3\\gothere\\moveon.htm" ); // URI 
TPtrC uriName(KFullUriPath);                          //pointer to the URI
//Remove the white space on the left side of URI
Tint consumedWhiteSpacesLeft = InetProtTextUtils::RemoveWhiteSpace( uriName, InetProtTextUtils::ERemoveLeft );</pre> <p>If
the white space is removed, it returns <code class="codeph">KErrNone</code>, else it
returns <code class="codeph">KErrNotFound</code>. <code class="codeph">ERemoveRight</code> or <code class="codeph">ERemoveBoth</code> is
used to remove white spaces on right side or both sides of the URI, respectively. </p> <p> <strong>Note</strong>:
The white spaces within the URI cannot be removed using <code class="codeph">RemoveWhiteSpace()</code>. </p> </div>
<div><h3 class="section-title">Converting the data </h3><p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html"><code class="apiname">InetProtTextUtils</code></a> class
provides various data conversion methods. The methods can be used to convert
decimal and hex descriptors into its integer representations and vice versa.
The following are the methods: </p> <p> <strong> Converting data from an integer
to a string </strong> </p> <p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-F030F4B9-0C66-3548-A19D-8D06204E11B0"><code class="apiname">InetProtTextUtils::ConvertIntToDescriptorL()</code></a> or <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-E28E1DDF-318C-3B59-8413-722438E748EA"><code class="apiname">InetProtTextUtils::ConvertHexToDescriptorL()</code></a> to convert an integer into a decimal or hexademial number respectively.
The following code converts the integer value of the data to a string: </p> <pre class="codeblock">// Convert the integer value of the data to a string
TInt intVal = 489;
HBufC8* abuf = HBufC8::NewL( 32 );//a descriptor is allocated on the heap to hold the data.
InetProtTextUtils::ConvertIntToDescriptorL( intVal,abuf );// abuf contains "489", the extracted value.</pre> <p>where, <code class="codeph">intVal</code> stores the data to be converted. The converted <code class="codeph">abuf</code> contains
the extracted descriptor. </p> <pre class="codeblock">TInt intVal=489;
HBufC8* abuf = HBufC8::NewL( 32 );
InetProtTextUtils::ConvertHexToDescriptorL( intVal,abuf );//abuf contains 1E9</pre> <p>where, <code class="codeph">intVal</code> stores
the data to be converted. The converted value will be stored in the buffer <code class="codeph">abuf</code>. </p> <p> <strong>Converting
data from a string to a number</strong> </p> <p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-48074038-1E1E-350A-8D21-3949102DF99B"><code class="apiname">InetProtTextUtils::ConvertDescriptorToIntL()</code></a> to
convert the character representation of an integer into its numeric value.
Preceding white space is ignored and the integer is delimited by either the
end of the data, whitespace or any character other than 0 to 9. </p> <pre class="codeblock">//Convert the string to an integer
TInt intVal = 0;
_LIT8( KNumber,"489" );
InetProtTextUtils::ConvertDescriptorToInt( KNumber,intVal ); // the intVal now holds the integer 489</pre> <p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-BB5036C8-DFC8-310B-9CE5-7F8131F477C4"><code class="apiname">InetProtTextUtils::ConvertDescriptorToHex()</code></a> to convert the character representation of an integer to its hexadecimal
value. </p> <pre class="codeblock">TInt intVal = 0;
_LIT8( KNumber,"64" );
InetProtTextUtils::ConvertDescriptorToHex( KNumber,intVal ); //intVal = 100</pre> <p>This
function extracts the value contained in the buffer <code class="codeph">intVal</code> and
considers a hexadecimal number. </p> <p> <strong>Extracting the quoted string</strong> </p> <p> <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-FC38525A-7C9B-3AAB-834D-3354DB86BA46"><code class="apiname">InetProtTextUtils::ExtractQuotedStringL()</code></a> extracts the quoted string within an URI. </p> <pre class="codeblock">_LIT8( KQuotedBuffer0,    "this is the \"inside quotes\" outside quotes" ); // the string to be manipulated
TBuf8&lt;64&gt;  quotedString;
TPtrC8 ptr( KQuotedBuffer0() ); //pointer to the string
TPtrC8 ptr1( quotedString );
//ptr contains "outside quotes" and ptr1 contains "inside quotes"
InetProtTextUtils::ExtractQuotedStringL( ptr, ptr1 ); </pre> <p>where, <code class="codeph">ptr1</code> is
a pointer that points to the quoted string "<code class="codeph">inside quotes</code> " </p></div>
<div><h3 class="section-title">See also</h3> <p><a href="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html">HTTP
Utilities Library Overview</a> </p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated October 27th, 2009</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:02:25 GMT -->
</html>