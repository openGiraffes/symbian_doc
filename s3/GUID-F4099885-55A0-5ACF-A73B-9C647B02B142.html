
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-F4099885-55A0-5ACF-A73B-9C647B02B142.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:19:46 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Customising a Parser Plug-in" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-82AF5F49-EE25-54C7-AEE9-D1F41BD5190F" /><meta name="DC.Relation" scheme="URI" content="GUID-A25E730C-F34D-5464-BE78-650B3DEA4A88" /><meta name="DC.Relation" scheme="URI" content="GUID-AF28D930-6BD1-5DC5-9BE5-7512241E90CD" /><meta name="DC.Relation" scheme="URI" content="GUID-4A9255D1-42A4-57FA-A4B4-42C552964047" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-F4099885-55A0-5ACF-A73B-9C647B02B142" /><meta name="DC.Language" content="en" /><title>Customising a Parser Plug-in </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-F4099885-55A0-5ACF-A73B-9C647B02B142">Customising a Parser Plug-in</h1><div><p>The parser plug-ins supplied with the XML framework can be customised to suit the structure of a particular document. This section explains how to customise the WBXML parser. </p> <div><h3 class="section-title">Introduction</h3> <p>To parse a WBXML document with a DTD which has not previously been implemented for the Symbian platform XML framework, add a new string table representing the DTD. </p> <p>Parsers use <a href="GUID-0D16866C-F46B-5A2B-B974-324278588A1B.html">string dictionaries</a> to convert a file of text strings into a <a href="GUID-27340D18-A31D-512E-920A-B06C784A978A.html">string pool</a> of <code class="codeph">RString</code> objects. The strings within the dictionary are linked to the String Table statically at compile time. A string table is a text file having a <code class="codeph">.st</code> extension. It contains the name of C++ enumeration constants paired with the strings they refer to. Each pair occupies a line of text and its two elements are separated by white space, as shown in the following example: </p> <pre class="codeblock">
stringtable Wml1_1CodePage00TagTable
EA          a
EAnchor     anchor
EAccess     access
</pre> <p>The simplest use of a string table arises when WBXML is used as a method of compressing generic XML. In such scenario, create a single .st file for all frequently used strings. In the example scenario, the task is slightly complex because a specific XML application which conforms to a DTD is being parsed. A DTD specifies elements along with attributes. Create three separate <code class="codeph">.st</code> files as to place these attribute values, as shown in the above example. It is the file containing attribute values which are required. The left hand column of an attribute value string table must be exactly the same as the left hand column of the corresponding attribute string table. That is, it must list the same constant names and list them in the same order. The right hand column of an attribute value table contains the values defined for the attributes. However, it may be that no value is defined for some attributes. In such scenario, the attribute value table contains a line consisting only of the constant name, followed not by white space but by the end of the line. </p> <p>The following two examples show a fragment of an attribute string table and the corresponding attribute value string table: </p> <pre class="codeblock">
EAcceptcharset                  accept-charset
EAlign1                         align
EAlign2                         align
EAlign3                         align
</pre> <pre class="codeblock">
EAcceptcharset
EAlign1
EAlign2                         bottom
EAlign3                         top
</pre> <p>In this example, the <code class="codeph">accept-charset</code> attribute has no value defined for it. Hence, the constant name <code class="codeph">EAcceptCharset</code> is paired with nothing in the attribute value table. The attribute 'align' may take no value or the values 'bottom' and 'top'. Therefore, the first table pairs it with three different constant names and the second table pairs the constant names with nothing, 'bottom' and 'top'. </p> </div> <div><h3 class="section-title">Procedure</h3> <ol id="GUID-B4CC5842-72DA-5F42-8E7E-D03CF7B6FA0D"><li id="GUID-C7C894E1-75F2-5908-90C1-3560FCEFB38B"><a name="GUID-C7C894E1-75F2-5908-90C1-3560FCEFB38B"><!-- --></a><p>Implement a new string table. </p> </li> <li id="GUID-B2B0C09F-2088-54E6-9CA4-38B011EDAE53"><a name="GUID-B2B0C09F-2088-54E6-9CA4-38B011EDAE53"><!-- --></a><p>Convert the string table to the code. </p> <p>Convert the string tables to C++ by invoking the conversion tool from the build files when you compile your parser. The conversion tool can be found in <code>...\epoc32\tools\</code>. For more information about the tool, refer to <a href="GUID-27340D18-A31D-512E-920A-B06C784A978A.html">String pools</a>. </p> </li> </ol> </div> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-F4099885-55A0-5ACF-A73B-9C647B02B142.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:19:46 GMT -->
</html>