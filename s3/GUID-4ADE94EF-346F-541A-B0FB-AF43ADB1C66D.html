
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:51:06 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="SMS Protocol Modules" /><meta name="abstract" content="This section describes the SMS protocol module of the SMS stack." /><meta name="description" content="This section describes the SMS protocol module of the SMS stack." /><meta name="DC.Relation" scheme="URI" content="GUID-3D1E5144-00BC-51AF-8887-4C97167E73FB" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93" /><meta name="DC.Relation" scheme="URI" content="GUID-6BA58045-3864-599A-878E-0C7AE7E9741B" /><meta name="DC.Relation" scheme="URI" content="GUID-E0DA7DE7-FD5A-5C1D-A53C-870966F00445" /><meta name="DC.Relation" scheme="URI" content="GUID-30C21015-C433-5465-87A7-DA5A9C4AD7BD" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D" /><meta name="DC.Language" content="en" /><title>SMS Protocol Modules </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D">SMS Protocol Modules</h1><div><p>This section describes the SMS protocol module of the SMS stack. </p><p>The SMS stack is created when the first request for a socket is received by the socket server. The socket server creates an instance of the CSmsProtocol system class, which co-ordinates the SMS stack activities. The SMS protocol does not publish any APIs for the client applications but internally it provides the methods to support the following functionality: </p> <ul><li id="GUID-24B0BFF5-0193-5BB6-A302-762C01F0E61D"><a name="GUID-24B0BFF5-0193-5BB6-A302-762C01F0E61D"><!-- --></a><p> <a href="#GUID-B7D5B90F-57A4-522C-A2C6-DBE5CC615EB8">Send a message</a> </p> </li> <li id="GUID-FCF1072A-872D-5036-BEA7-35EBB3E55EC4"><a name="GUID-FCF1072A-872D-5036-BEA7-35EBB3E55EC4"><!-- --></a><p> <a href="#GUID-EC6DA4EE-264E-57CF-9D96-AC590DF4C7A4">Receive a message</a> </p> </li> <li id="GUID-7CCC3D59-BB59-5FE3-B03A-B6B7E94E05C4"><a name="GUID-7CCC3D59-BB59-5FE3-B03A-B6B7E94E05C4"><!-- --></a><p> <a href="#GUID-964CDB3F-F67E-5B52-8CFC-911FC469DE06">Write a message</a> </p> </li> <li id="GUID-DBB0F679-16BC-5A9D-AA4A-82562106A969"><a name="GUID-DBB0F679-16BC-5A9D-AA4A-82562106A969"><!-- --></a><p> <a href="#GUID-0A3A192E-A0BC-5C5B-B100-822ED4616BD8">Delete a message</a> </p> </li> <li id="GUID-E0BD0F90-0899-5CD8-A9A6-71C32244183E"><a name="GUID-E0BD0F90-0899-5CD8-A9A6-71C32244183E"><!-- --></a><p> <a href="#GUID-EB175A07-1EDE-54DD-AFEA-936C6E2CAD1A">Read a message</a> </p> </li> <li id="GUID-6314B160-0C98-503C-B76C-4405EE26DB73"><a name="GUID-6314B160-0C98-503C-B76C-4405EE26DB73"><!-- --></a><p> <a href="#GUID-6CD8735A-425A-548B-BECC-36D9C6719C8C">Read and write SMS parameters</a> </p> </li> </ul> <p>The clients use the multimode telephony APIs to initiate the use cases, but the SMS protocol checks the stores before the clients can use them. The SMS protocol contains the observers and disk monitors. Refer to the <a href="GUID-102CD904-4217-53DA-A9F0-77D76C938FB5.html">SMS Stack Observers</a> and <a href="GUID-C74F8B29-0440-50FE-BF93-83AF7868B00D.html">SMS Disk Monitor</a> for more details. The messaging clients calls the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-1DEB83AF-C681-30D4-951C-4C2A5572E59C"><code class="apiname">RSocket::Ioctl()</code></a> to perform the uses cases mentioned in this section. </p> <div id="GUID-B7D5B90F-57A4-522C-A2C6-DBE5CC615EB8"><h3 class="section-title">Send a message</h3> <p>The SMS protocol send message provides the methods to send an SMS message to the network through the telephony system. The SMS protocol module splits the messages into one or more PDUs depending on the message data. The SMS stack processes the message. When the PDUs are created they are sent to the network. The SMS protocol module also enables the clients to resend a message if an earlier attempt to send fails. If the mobile is configured to receive delivery reports a SUBMIT REPORT is sent to the network to get the delivery report. The sent messages are logged in the log engine using a unique Log ID, if the Log engine is installed in the device. The messages are stored in the segmentation of the SMS stack before sending them to the network, which enables the clients to resend the messages in case of failures. The SMS stack only re-sends the message PDUs marker as 'unsent'. </p> </div> <div id="GUID-EC6DA4EE-264E-57CF-9D96-AC590DF4C7A4"><h3 class="section-title">Receive a message 
          </h3> <p>The SMS protocol provides methods to receive incoming messages and status reports of the sent messages. The incoming messages are decoded and stored in the reassembly store for processing. When all the PDUs of a message are received the message is forwarded to the messaging client. The SMS protocol receives the status reports of the sent PDUs. The status report is compared to the original message in the segmentation store. When the status report of all the PDUs of a message is received, the SMS protocol notifies the messaging clients. The storage of PDUs in the SMS stack or the TSY depends on the receive mode configuration in the smswap.sms.esk file. </p> </div> <div id="GUID-964CDB3F-F67E-5B52-8CFC-911FC469DE06"><h3 class="section-title">Write a message</h3> <p>The SMS protocol provides methods for messaging clients to write messages in the phone stores. The module enables the clients to save the unread and draft messages in the phone stores. The messaging clients send a store name to store the messages, the SMS protocol searches for the requested store name and if the store supports 'WRITE' functionality the messages are stored. </p> </div> <div id="GUID-0A3A192E-A0BC-5C5B-B100-822ED4616BD8"><h3 class="section-title">Delete a message</h3> <p>The SMS message provides methods for messaging clients to delete messages from the phone stores. The SMS protocol supports the messaging clients to delete incomplete messages as well. </p> </div> <div id="GUID-EB175A07-1EDE-54DD-AFEA-936C6E2CAD1A"><h3 class="section-title">Read a message</h3> <p>The SMS protocol provides methods for messaging clients to read the messages from the phone stores. The phone store can be a internal memory or the memory in Subscriber Identity Module (SIM). The SMS protocol checks the phone stores during the initialisation process of the SMS stack. </p> </div> <div id="GUID-6CD8735A-425A-548B-BECC-36D9C6719C8C"><h3 class="section-title">Read and write SMS parameters</h3> <p>The SMS protocol enables the messaging clients to read and write the SMS parameters such as default coding schemes, service centre address and the validity periods in the messages stored in the phone stores. </p> </div> </div><h3>Related concepts</h3><ul><li><a href="GUID-3D1E5144-00BC-51AF-8887-4C97167E73FB.html">SMS Stack Tutorial</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated January 4th, 2010</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:51:06 GMT -->
</html>