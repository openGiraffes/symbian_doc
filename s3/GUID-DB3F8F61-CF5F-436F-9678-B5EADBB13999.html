
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-DB3F8F61-CF5F-436F-9678-B5EADBB13999.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:17:00 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="NFC Tags Example" /><meta name="abstract" content="This example demonstrates the usage of Tag discovery and NDEF discovery APIs and various read\write operations, which can be performed with the tags." /><meta name="description" content="This example demonstrates the usage of Tag discovery and NDEF discovery APIs and various read\write operations, which can be performed with the tags." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-76C9285D-5C89-4CBC-AB05-F14D6A95BC90" /><meta name="DC.Relation" scheme="URI" content="GUID-7A72B008-901E-454D-AD93-F99555CA904A" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-DB3F8F61-CF5F-436F-9678-B5EADBB13999" /><meta name="DC.Language" content="en" /><title>NFC Tags Example </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-DB3F8F61-CF5F-436F-9678-B5EADBB13999">NFC Tags Example</h1><div><p>This example demonstrates the usage of Tag discovery and
NDEF discovery APIs and various read\write operations, which can be
performed with the tags.</p>
<p>Note: This example is developed for devices with NFC support.</p>
<p> </p>
<div id="GUID-AF7C1D8A-7F5C-4F70-AEC0-7069C4AC2B24"><h3 class="section-title">Download</h3><p>Click on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-febaa003-dbf9-456c-a478-f14105acffc5.zip" target="_blank">nfctags.zip</a></p><p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-febaa003-dbf9-456c-a478-f14105acffc5.html#guid-6013a680-57f9-415b-8851-c4fa63356636/guid-febaa003-dbf9-456c-a478-f14105acffc5.html">browse</a> to view the example code. </p></div>
<div id="GUID-58D9D160-026D-47E7-B658-3E254292A16D"><h3 class="section-title">Use
cases</h3><p>The following use cases are demonstrated by the example:</p><ul>
<li><p>Tag Discovery : How to detect Type 1, Type 2, Type 3, Type
4 and MIFARE Classic type tags.</p></li>
<li><p>NDEF Discovery: How to detect different types of NDEF messages.</p></li>
<li><p>Operations on tags: How to do read\write operations on the
tags.</p></li>
</ul></div>
<div id="GUID-C55B94F9-D252-4F84-8DB4-B5EA289E5AA9"><h3 class="section-title">Classes
demonstrated</h3><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19C8DD18-0229-373D-A4F8-CBB9EBEE8507.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-19C8DD18-0229-373D-A4F8-CBB9EBEE8507.html"><code class="apiname">RNfcServer</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-96F4B66D-CA74-316C-A5FE-A004026E00DF.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-96F4B66D-CA74-316C-A5FE-A004026E00DF.html"><code class="apiname">MNfcTagConnectionListener</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7A1708BC-CE8E-3C09-815D-E01E80E78858.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7A1708BC-CE8E-3C09-815D-E01E80E78858.html"><code class="apiname">MNdefMessageListener</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html"><code class="apiname">CNfcTagDiscovery</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-48A29CE2-ED2F-3282-9FE8-8076FA5881D0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-48A29CE2-ED2F-3282-9FE8-8076FA5881D0.html"><code class="apiname">CNfcTagSubscription</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html"><code class="apiname">CNdefDiscovery</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2DD76AD2-AC6F-3361-B8D0-94E5DE5EF057.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2DD76AD2-AC6F-3361-B8D0-94E5DE5EF057.html"><code class="apiname">CNdefRecord</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F87C2E0-A217-32FD-8488-9B906D58DB6A.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F87C2E0-A217-32FD-8488-9B906D58DB6A.html"><code class="apiname">CNdefMessage</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html"><code class="apiname">CNdefDiscovery</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E445A14A-6C93-361E-BB84-C96EE97260F6.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E445A14A-6C93-361E-BB84-C96EE97260F6.html"><code class="apiname">CIso14443Connection</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6D102F2B-F74B-3B80-B244-C8BF902449B4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6D102F2B-F74B-3B80-B244-C8BF902449B4.html"><code class="apiname">CNfcType1Connection</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDE7C968-FA04-368D-9189-00AEC2BE0B24.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDE7C968-FA04-368D-9189-00AEC2BE0B24.html"><code class="apiname">CNfcType2Connection</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2B1CEAFC-83C3-3D63-B347-46ADF6B40BFE.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2B1CEAFC-83C3-3D63-B347-46ADF6B40BFE.html"><code class="apiname">CNfcType3Connection</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-087DD3CF-F9C0-31AE-946F-897932BB0C03.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-087DD3CF-F9C0-31AE-946F-897932BB0C03.html"><code class="apiname">CMifareClassicConnection</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-48A29CE2-ED2F-3282-9FE8-8076FA5881D0.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-48A29CE2-ED2F-3282-9FE8-8076FA5881D0.html"><code class="apiname">CNfcTagSubscription</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4278615F-1C20-31D7-87D4-996F988B732B.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4278615F-1C20-31D7-87D4-996F988B732B.html"><code class="apiname">MNfcTag</code></a></p></div>
<div id="GUID-A519D87E-DA4D-4DEB-867D-E89DE241AAB8"><h3 class="section-title">APIs
demonstrated</h3><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-96F4B66D-CA74-316C-A5FE-A004026E00DF.html#GUID-8E11C63E-E4ED-3459-9495-F3F8EDD4ADBD"><code class="apiname">MNfcTagConnectionListener::TagDetected(
MNfcTag* )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-96F4B66D-CA74-316C-A5FE-A004026E00DF.html#GUID-BE725832-935E-33AF-BFDD-8665083AE4CB"><code class="apiname">MNfcTagConnectionListener::TagLost()</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-7A1708BC-CE8E-3C09-815D-E01E80E78858.html#GUID-2ABB60E0-D0AE-3F12-9534-97BEBB4235FA"><code class="apiname">MNdefMessageListener::MessageDetected( CNdefMessage*
)</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-48A29CE2-ED2F-3282-9FE8-8076FA5881D0.html#GUID-4CC17CF4-BFA6-330A-889B-8AEE40FAB7BA"><code class="apiname">CNfcTagSubscription::AddConnectionModeL(TNfcConnectionInfo::TNfcConnectionMode
)</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html#GUID-F968CD04-CD01-32A2-8470-76A88EED297F"><code class="apiname">CNfcTagDiscovery::AddTagSubscriptionL(
const CNfcTagSubscription&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4278615F-1C20-31D7-87D4-996F988B732B.html#GUID-4C10665E-7FEC-37FD-A23B-761EF96882C5"><code class="apiname">MNfcTag::OpenConnection(
MNfcConnection&amp; )</code></a></p><p>CNdefDiscoveryr::AddNdefMessageListener(
MNdefMessageListener&amp; )</p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-C2B183DE-C93A-38C2-BC5C-F502C9F26C1B"><code class="apiname">CNdefDiscovery::AddNdefSubscription(
const CNdefRecord::TNdefRecordTnf , const TDesC8&amp; aType )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-E4169840-F507-3826-9EF7-B96679CC3385"><code class="apiname">CNdefDiscovery::AddNdefMessageListener( MNdefMessageListener&amp;
)</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-F07E6045-094B-3502-8A67-9DED1CFA237D"><code class="apiname">CNdefDiscovery::RemoveNdefMessageListener()</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-33B74F36-DF13-3106-B1AF-52E7634046DA.html#GUID-9C8A08D6-F58B-3D29-83A2-EEF13AD158C3"><code class="apiname">CNdefDiscovery::RemoveAllNdefSubscription()</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html#GUID-2471A65F-FC76-3FB0-BC22-C2590CBC0B87"><code class="apiname">CNfcTagDiscovery::RemoveTagConnectionListener()</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html#GUID-E945CA10-E51B-3129-AA75-F9158FA3965C"><code class="apiname">CNfcTagDiscovery::RemoveTagSubscription()</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E445A14A-6C93-361E-BB84-C96EE97260F6.html#GUID-1AF34AEC-A6CA-33B8-BE50-ABCBA44D2185"><code class="apiname">CIso14443Connection::ExchangeData( TRequestStatus&amp;
, const TDesC8&amp; , TDes8&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6D102F2B-F74B-3B80-B244-C8BF902449B4.html#GUID-41F370AC-7CFF-3EBF-8830-667723025EB2"><code class="apiname">CNfcType1Connection::Write(
TRequestStatus&amp; , const TDesC8&amp; , const TNfcType1Address&amp;
)</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6D102F2B-F74B-3B80-B244-C8BF902449B4.html#GUID-BB4243FC-8A29-3F9D-A615-C5B1BFE65002"><code class="apiname">CNfcType1Connection::Read( TRequestStatus&amp;
, TDes8&amp;aBuffer, TUint , const TNfcType1Address&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDE7C968-FA04-368D-9189-00AEC2BE0B24.html#GUID-D040198A-4FAE-352B-B6AA-DB72AE707CD6"><code class="apiname">CNfcType2Connection::Read( TRequestStatus&amp; ,
TDes8&amp; aBuffer, TUint , const TNfcType2Address&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDE7C968-FA04-368D-9189-00AEC2BE0B24.html#GUID-64F789CF-424A-36C2-8787-86FA3AAA98F1"><code class="apiname">CNfcType2Connection::Write( TRequestStatus&amp; ,
const TDesC8&amp; , TUint32 )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2B1CEAFC-83C3-3D63-B347-46ADF6B40BFE.html#GUID-3001D4A0-3230-326E-9785-C15578188062"><code class="apiname">CNfcType3Connection::Check(
TRequestStatus&amp; , TDes8&amp; , TUint aAmount, const TNfcType3Address&amp;
aAddress )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-2B1CEAFC-83C3-3D63-B347-46ADF6B40BFE.html#GUID-67191C63-5127-3BE9-8E94-898F1A172AF5"><code class="apiname">CNfcType3Connection::Update( TRequestStatus&amp;
, const TDes8&amp; , const TNfcType3Address&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-087DD3CF-F9C0-31AE-946F-897932BB0C03.html#GUID-4B9A9DC0-1131-3233-9BAD-6EF78FB98D78"><code class="apiname">CMifareClassicConnection::ReadSector(TRequestStatus&amp;
aStatus,   CMifareClassicSector&amp; , TUint8 , const TDesC8&amp;
, const TDesC8&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-087DD3CF-F9C0-31AE-946F-897932BB0C03.html#GUID-082E6508-5340-356A-B631-E91ED850F707"><code class="apiname">CMifareClassicConnection::WriteSector(
TRequestStatus&amp; , const CMifareClassicSector&amp; , TUint8 , const
TDesC8&amp; , const TDesC8&amp; )</code></a></p><p><a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E5A8F386-C357-3B05-8EF8-618EFB999D46.html#GUID-E945CA10-E51B-3129-AA75-F9158FA3965C"><code class="apiname">CNfcTagDiscovery::RemoveTagSubscription()</code></a></p></div>
<div id="GUID-468DD0CB-F2E4-4F34-888E-FE5352A3049B"><h3 class="section-title">Building
and configuring</h3><p>You can build the example from your IDE
or the command line.  </p><p>If you use an IDE, import the nfcexample.pro
file of the example into your IDE, and use the build command of the
IDE.</p><p>If you use the command line, complete the following:</p><ol>
<li id="GUID-39EF9BB8-2E59-46C6-8D95-FE71ED56DA11"><a name="GUID-39EF9BB8-2E59-46C6-8D95-FE71ED56DA11"><!-- --></a><p>Open a command
prompt.</p></li>
<li id="GUID-15B68F05-4AF2-4051-A97B-24BB0A148C69"><a name="GUID-15B68F05-4AF2-4051-A97B-24BB0A148C69"><!-- --></a><p>Set the current
directory to the source code directory of the example.</p></li>
<li id="GUID-2AB245B2-DD5C-4804-B6C9-81F37A233974"><a name="GUID-2AB245B2-DD5C-4804-B6C9-81F37A233974"><!-- --></a><p>Build the example
with the following SBSv2 build commands: </p><ul>
<li><code class="codeph">qmake</code></li>
<li><code class="codeph">sbs</code></li>
</ul></li>
</ol><p>This example builds an executable called <code class="codeph">nfctags.exe</code> in the standard locations. </p></div>
<div id="GUID-5B140C87-CD59-40A8-B1F4-1B28A90C2711"><h3 class="section-title">Running
the example</h3><p>After running the example application, the user
is provided with the following menu options.</p><ul>
<li><p>Start Tag Discovery.</p></li>
<li><p>Start NDEF Discovery</p></li>
</ul><strong>Start Tag Discovery :</strong><p>If you select this menu option,
the NFC enabled device:</p><ol>
<li id="GUID-DA12C88D-C252-4E5E-93B9-9FAE24035E37"><a name="GUID-DA12C88D-C252-4E5E-93B9-9FAE24035E37"><!-- --></a><p>Detects the
tag, when in NFC range.</p></li>
<li id="GUID-B1390D3C-EAB3-4CFA-B08E-575FDCA132B1"><a name="GUID-B1390D3C-EAB3-4CFA-B08E-575FDCA132B1"><!-- --></a><p>Opens a connection
with the tag.</p></li>
<li id="GUID-DD5E3703-EBA8-4ED1-B6C3-7B20037E2EC5"><a name="GUID-DD5E3703-EBA8-4ED1-B6C3-7B20037E2EC5"><!-- --></a><p>Writes data
to the tag.</p></li>
<li id="GUID-98658E37-2C3B-4B2B-B092-66494C1D4846"><a name="GUID-98658E37-2C3B-4B2B-B092-66494C1D4846"><!-- --></a><p>Reads data from
the tag.</p></li>
<li id="GUID-CAB4B017-31AB-41D7-9682-BE5D1FC5A76E"><a name="GUID-CAB4B017-31AB-41D7-9682-BE5D1FC5A76E"><!-- --></a><p>Displays the
information read from the tag.</p></li>
</ol><p>The menu option then changes to <strong>Stop Tag Discovery</strong>,
you can stop discovering the tags by using this menu item.</p><p>Once <strong>Stop Tag discovery</strong> is selected, you will return to the main menu.</p><p></p><strong>Start NDEF Discovery:</strong><p>If you select this menu option,
the NFC enabled device:</p><ol>
<li id="GUID-518320B6-C826-4FA6-8AD3-B801202F5769"><a name="GUID-518320B6-C826-4FA6-8AD3-B801202F5769"><!-- --></a><p>Searches for
NDEF messages, according to the user subscription.</p></li>
<li id="GUID-11C32894-B833-46E7-A682-24C5F9222A58"><a name="GUID-11C32894-B833-46E7-A682-24C5F9222A58"><!-- --></a><p>On detection,
displays the message.</p></li>
</ol><p>The menu option then changes to <strong>Stop NDEF Discovery</strong>, you can stop discovering the NDEF messages by using this menu item.</p><p>Once <strong>Stop NDEF discovery</strong> is selected, you will return to
the main menu.</p></div>
</div></div></div><div class="footer"><p class="metadata">Last updated December 17th, 2010</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-DB3F8F61-CF5F-436F-9678-B5EADBB13999.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:17:01 GMT -->
</html>