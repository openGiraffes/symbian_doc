<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from devlib.symbian.slions.net/s3/guid-6013a680-57f9-415b-8851-c4fa63356636/05-comment_8xml_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:33:32 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Example Applications: examples/sfexamples/oggvorbiscodec/src/libvorbis/doc/xml/05-comment.xml Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<h1>examples/sfexamples/oggvorbiscodec/src/libvorbis/doc/xml/05-comment.xml</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> standalone=<span class="stringliteral">&quot;no&quot;</span>?&gt;
<a name="l00002"></a>00002 &lt;!DOCTYPE section PUBLIC <span class="stringliteral">&quot;-//OASIS//DTD DocBook XML V4.2//EN&quot;</span>
<a name="l00003"></a>00003                 <span class="stringliteral">&quot;http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd&quot;</span> [
<a name="l00004"></a>00004 &lt;!ENTITY % isolat1 SYSTEM <span class="stringliteral">&quot;http://www.oasis-open.org/docbook/xml/4.2/ent/iso-lat1.ent&quot;</span>&gt;
<a name="l00005"></a>00005 %isolat1;
<a name="l00006"></a>00006 ]&gt;
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 &lt;section <span class="keywordtype">id</span>=<span class="stringliteral">&quot;vorbis-spec-comment&quot;</span>&gt;
<a name="l00009"></a>00009 &lt;sectioninfo&gt;
<a name="l00010"></a>00010  &lt;releaseinfo&gt;
<a name="l00011"></a>00011  $Id: 05-comment.xml 10468 2005-11-28 00:58:48Z giles $
<a name="l00012"></a>00012 &lt;/releaseinfo&gt;
<a name="l00013"></a>00013 &lt;/sectioninfo&gt;
<a name="l00014"></a>00014 &lt;title&gt;comment field and header specification&lt;/title&gt;
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 &lt;section&gt;&lt;title&gt;Overview&lt;/title&gt;
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 &lt;para&gt;The Vorbis text comment header is the second (of three) header
<a name="l00020"></a>00020 packets that begin a Vorbis bitstream. It is meant <span class="keywordflow">for</span> <span class="keywordtype">short</span> text
<a name="l00021"></a>00021 comments, not arbitrary metadata; arbitrary metadata belongs in a
<a name="l00022"></a>00022 separate logical bitstream (usually an XML stream type) that provides
<a name="l00023"></a>00023 greater structure and machine parseability.&lt;/para&gt;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 &lt;para&gt;The comment field is meant to be used much like someone jotting a
<a name="l00026"></a>00026 quick note on the bottom of a CDR. It should be a little information to
<a name="l00027"></a>00027 remember the disc by and explain it to others; a short, to-the-point
<a name="l00028"></a>00028 text note that need not only be a couple words, but isn<span class="stringliteral">&#39;t going to be</span>
<a name="l00029"></a>00029 <span class="stringliteral">more than a short paragraph.  The essentials, in other words, whatever</span>
<a name="l00030"></a>00030 <span class="stringliteral">they turn out to be, eg:</span>
<a name="l00031"></a>00031 <span class="stringliteral"></span>
<a name="l00032"></a>00032 <span class="stringliteral">&lt;blockquote&gt;</span>
<a name="l00033"></a>00033 <span class="stringliteral">&lt;simpara&gt;Honest Bob and the Factory-to-Dealer-Incentives, &lt;citetitle&gt;I&#39;</span>m Still
<a name="l00034"></a>00034 Around&lt;/citetitle&gt;, opening <span class="keywordflow">for</span> Moxy Fr&amp;uuml;vous, 1997.&lt;/simpara&gt;
<a name="l00035"></a>00035 &lt;/blockquote&gt;
<a name="l00036"></a>00036 &lt;/para&gt;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 &lt;/section&gt;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 &lt;section&gt;&lt;title&gt;Comment encoding&lt;/title&gt;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 &lt;section&gt;&lt;title&gt;Structure&lt;/title&gt;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 &lt;para&gt;
<a name="l00045"></a>00045 The comment header is logically a list of eight-bit-clean vectors; the
<a name="l00046"></a>00046 number of vectors is bounded to 2^32-1 and the length of each vector
<a name="l00047"></a>00047 is limited to 2^32-1 bytes. The vector length is encoded; the vector
<a name="l00048"></a>00048 contents themselves are not null terminated. In addition to the vector
<a name="l00049"></a>00049 list, there is a single vector <span class="keywordflow">for</span> vendor name (also 8 bit clean,
<a name="l00050"></a>00050 length encoded in 32 bits). For example, the 1.0 release of libvorbis 
<a name="l00051"></a>00051 <span class="keyword">set</span> the vendor <span class="keywordtype">string</span> to <span class="stringliteral">&quot;Xiph.Org libVorbis I 20020717&quot;</span>.&lt;/para&gt;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 &lt;para&gt;The comment header is decoded as follows:
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 &lt;programlisting&gt;
<a name="l00056"></a>00056   1) [vendor_length] = read an <span class="keywordtype">unsigned</span> integer of 32 bits
<a name="l00057"></a>00057   2) [vendor_string] = read a UTF-8 vector as [vendor_length] octets
<a name="l00058"></a>00058   3) [user_comment_list_length] = read an <span class="keywordtype">unsigned</span> integer of 32 bits
<a name="l00059"></a>00059   4) iterate [user_comment_list_length] times {
<a name="l00060"></a>00060        5) [length] = read an <span class="keywordtype">unsigned</span> integer of 32 bits
<a name="l00061"></a>00061        6) <span class="keyword">this</span> iteration<span class="stringliteral">&#39;s user comment = read a UTF-8 vector as [length] octets</span>
<a name="l00062"></a>00062 <span class="stringliteral">     }</span>
<a name="l00063"></a>00063 <span class="stringliteral">  7) [framing_bit] = read a single bit as boolean</span>
<a name="l00064"></a>00064 <span class="stringliteral">  8) if ( [framing_bit] unset or end-of-packet ) then ERROR</span>
<a name="l00065"></a>00065 <span class="stringliteral">  9) done.</span>
<a name="l00066"></a>00066 <span class="stringliteral">&lt;/programlisting&gt;</span>
<a name="l00067"></a>00067 <span class="stringliteral">&lt;/para&gt;</span>
<a name="l00068"></a>00068 <span class="stringliteral"></span>
<a name="l00069"></a>00069 <span class="stringliteral">&lt;/section&gt;</span>
<a name="l00070"></a>00070 <span class="stringliteral"></span>
<a name="l00071"></a>00071 <span class="stringliteral">&lt;section&gt;&lt;title&gt;Content vector format&lt;/title&gt;</span>
<a name="l00072"></a>00072 <span class="stringliteral"></span>
<a name="l00073"></a>00073 <span class="stringliteral">&lt;para&gt;</span>
<a name="l00074"></a>00074 <span class="stringliteral">The comment vectors are structured similarly to a UNIX environment variable.</span>
<a name="l00075"></a>00075 <span class="stringliteral">That is, comment fields consist of a field name and a corresponding value and</span>
<a name="l00076"></a>00076 <span class="stringliteral">look like:&lt;/para&gt;</span>
<a name="l00077"></a>00077 <span class="stringliteral"></span>
<a name="l00078"></a>00078 <span class="stringliteral">&lt;blockquote&gt;&lt;programlisting&gt;</span>
<a name="l00079"></a>00079 <span class="stringliteral">comment[0]=&quot;ARTIST=me&quot;; </span>
<a name="l00080"></a>00080 <span class="stringliteral">comment[1]=&quot;TITLE=the sound of Vorbis&quot;; </span>
<a name="l00081"></a>00081 <span class="stringliteral">&lt;/programlisting&gt;&lt;/blockquote&gt;</span>
<a name="l00082"></a>00082 <span class="stringliteral"></span>
<a name="l00083"></a>00083 <span class="stringliteral">&lt;para&gt;</span>
<a name="l00084"></a>00084 <span class="stringliteral">The field name is case-insensitive and may consist of ASCII 0x20</span>
<a name="l00085"></a>00085 <span class="stringliteral">through 0x7D, 0x3D (&#39;</span>=<span class="stringliteral">&#39;) excluded. ASCII 0x41 through 0x5A inclusive</span>
<a name="l00086"></a>00086 <span class="stringliteral">(characters A-Z) is to be considered equivalent to ASCII 0x61 through </span>
<a name="l00087"></a>00087 <span class="stringliteral">0x7A inclusive (characters a-z).</span>
<a name="l00088"></a>00088 <span class="stringliteral">&lt;/para&gt;</span>
<a name="l00089"></a>00089 <span class="stringliteral"></span>
<a name="l00090"></a>00090 <span class="stringliteral">&lt;para&gt;</span>
<a name="l00091"></a>00091 <span class="stringliteral">The field name is immediately followed by ASCII 0x3D (&#39;</span>=<span class="stringliteral">&#39;);</span>
<a name="l00092"></a>00092 <span class="stringliteral">this equals sign is used to terminate the field name.</span>
<a name="l00093"></a>00093 <span class="stringliteral">&lt;/para&gt;</span>
<a name="l00094"></a>00094 <span class="stringliteral"></span>
<a name="l00095"></a>00095 <span class="stringliteral">&lt;para&gt;</span>
<a name="l00096"></a>00096 <span class="stringliteral">0x3D is followed by 8 bit clean UTF-8 encoded value of the</span>
<a name="l00097"></a>00097 <span class="stringliteral">field contents to the end of the field.</span>
<a name="l00098"></a>00098 <span class="stringliteral">&lt;/para&gt;</span>
<a name="l00099"></a>00099 <span class="stringliteral"></span>
<a name="l00100"></a>00100 <span class="stringliteral">&lt;section&gt;&lt;title&gt;Field names&lt;/title&gt;</span>
<a name="l00101"></a>00101 <span class="stringliteral"></span>
<a name="l00102"></a>00102 <span class="stringliteral">&lt;para&gt;Below is a proposed, minimal list of standard field names with a</span>
<a name="l00103"></a>00103 <span class="stringliteral">description of intended use.  No single or group of field names is</span>
<a name="l00104"></a>00104 <span class="stringliteral">mandatory; a comment header may contain one, all or none of the names</span>
<a name="l00105"></a>00105 <span class="stringliteral">in this list.&lt;/para&gt;</span>
<a name="l00106"></a>00106 <span class="stringliteral"></span>
<a name="l00107"></a>00107 <span class="stringliteral">&lt;variablelist&gt;</span>
<a name="l00108"></a>00108 <span class="stringliteral">&lt;varlistentry&gt;</span>
<a name="l00109"></a>00109 <span class="stringliteral">&lt;term&gt;TITLE&lt;/term&gt;</span>
<a name="l00110"></a>00110 <span class="stringliteral">&lt;listitem&gt;</span>
<a name="l00111"></a>00111 <span class="stringliteral">&lt;simpara&gt;Track/Work name&lt;/simpara&gt;</span>
<a name="l00112"></a>00112 <span class="stringliteral">&lt;/listitem&gt;</span>
<a name="l00113"></a>00113 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00114"></a>00114 <span class="stringliteral">&lt;varlistentry&gt;</span>
<a name="l00115"></a>00115 <span class="stringliteral"> &lt;term&gt;VERSION&lt;/term&gt;</span>
<a name="l00116"></a>00116 <span class="stringliteral">&lt;listitem&gt;</span>
<a name="l00117"></a>00117 <span class="stringliteral"> &lt;simpara&gt;The version field may be used to</span>
<a name="l00118"></a>00118 <span class="stringliteral">differentiate multiple</span>
<a name="l00119"></a>00119 <span class="stringliteral">versions of the same track title in a single collection. (e.g. remix</span>
<a name="l00120"></a>00120 <span class="stringliteral">info)</span>
<a name="l00121"></a>00121 <span class="stringliteral">&lt;/simpara&gt;&lt;/listitem&gt;</span>
<a name="l00122"></a>00122 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00123"></a>00123 <span class="stringliteral"></span>
<a name="l00124"></a>00124 <span class="stringliteral">&lt;varlistentry&gt;&lt;term&gt;ALBUM&lt;/term&gt;&lt;listitem&gt;&lt;simpara&gt;The collection name to which this track belongs</span>
<a name="l00125"></a>00125 <span class="stringliteral">&lt;/simpara&gt;&lt;/listitem&gt;</span>
<a name="l00126"></a>00126 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00127"></a>00127 <span class="stringliteral"></span>
<a name="l00128"></a>00128 <span class="stringliteral">&lt;varlistentry&gt;&lt;term&gt;TRACKNUMBER&lt;/term&gt;</span>
<a name="l00129"></a>00129 <span class="stringliteral">&lt;listitem&gt;&lt;simpara&gt;The track number of this piece if part of a specific larger collection or album</span>
<a name="l00130"></a>00130 <span class="stringliteral">&lt;/simpara&gt;&lt;/listitem&gt;</span>
<a name="l00131"></a>00131 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00132"></a>00132 <span class="stringliteral"></span>
<a name="l00133"></a>00133 <span class="stringliteral">&lt;varlistentry&gt;&lt;term&gt;ARTIST&lt;/term&gt;</span>
<a name="l00134"></a>00134 <span class="stringliteral">&lt;listitem&gt;&lt;simpara&gt;The artist generally considered responsible for the work. In popular music this is usually the performing band or singer. For classical music it would be the composer. For an audio book it would be the author of the original text.</span>
<a name="l00135"></a>00135 <span class="stringliteral">&lt;/simpara&gt;&lt;/listitem&gt;</span>
<a name="l00136"></a>00136 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00137"></a>00137 <span class="stringliteral"></span>
<a name="l00138"></a>00138 <span class="stringliteral">&lt;varlistentry&gt;&lt;term&gt;PERFORMER&lt;/term&gt;</span>
<a name="l00139"></a>00139 <span class="stringliteral">&lt;listitem&gt;&lt;simpara&gt;The artist(s) who performed the work. In classical music this would be the conductor, orchestra, soloists. In an audio book it would be the actor who did the reading. In popular music this is typically the same as the ARTIST and is omitted.</span>
<a name="l00140"></a>00140 <span class="stringliteral">&lt;/simpara&gt;&lt;/listitem&gt;</span>
<a name="l00141"></a>00141 <span class="stringliteral">&lt;/varlistentry&gt;</span>
<a name="l00142"></a>00142 <span class="stringliteral"></span>
<a name="l00143"></a>00143 <span class="stringliteral">&lt;varlistentry&gt;&lt;term&gt;COPYRIGHT&lt;/term&gt;</span>
<a name="l00144"></a>00144 <span class="stringliteral">&lt;listitem&gt;&lt;simpara&gt;Copyright attribution, e.g., &#39;</span>2001 Nobody<span class="stringliteral">&#39;s Band&#39;</span> or <span class="stringliteral">&#39;1999 Jack Moffitt&#39;</span>
<a name="l00145"></a>00145 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00146"></a>00146 &lt;/varlistentry&gt;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 &lt;varlistentry&gt;&lt;term&gt;LICENSE&lt;/term&gt;
<a name="l00149"></a>00149 &lt;listitem&gt;&lt;simpara&gt;License information, eg, <span class="stringliteral">&#39;All Rights Reserved&#39;</span>, <span class="stringliteral">&#39;Any</span>
<a name="l00150"></a>00150 <span class="stringliteral">Use Permitted&#39;</span>, a URL to a license such as a Creative Commons license
<a name="l00151"></a>00151 (<span class="stringliteral">&quot;www.creativecommons.org/blahblah/license.html&quot;</span>) or the EFF Open
<a name="l00152"></a>00152 Audio License (&#39;distributed under the terms of the Open Audio
<a name="l00153"></a>00153 License. see http:<span class="comment">//www.eff.org/IP/Open_licenses/eff_oal.html for</span>
<a name="l00154"></a>00154 details&#39;), etc.
<a name="l00155"></a>00155 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00156"></a>00156 &lt;/varlistentry&gt;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 &lt;varlistentry&gt;&lt;term&gt;ORGANIZATION&lt;/term&gt;
<a name="l00159"></a>00159 &lt;listitem&gt;&lt;simpara&gt;Name of the organization producing the track (i.e.
<a name="l00160"></a>00160 the &#39;record label&#39;)
<a name="l00161"></a>00161 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00162"></a>00162 &lt;/varlistentry&gt;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 &lt;varlistentry&gt;&lt;term&gt;DESCRIPTION&lt;/term&gt;
<a name="l00165"></a>00165 &lt;listitem&gt;&lt;simpara&gt;A <span class="keywordtype">short</span> text description of the contents
<a name="l00166"></a>00166 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00167"></a>00167 &lt;/varlistentry&gt;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 &lt;varlistentry&gt;&lt;term&gt;GENRE&lt;/term&gt;
<a name="l00170"></a>00170 &lt;listitem&gt;&lt;simpara&gt;A <span class="keywordtype">short</span> text indication of music genre
<a name="l00171"></a>00171 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00172"></a>00172 &lt;/varlistentry&gt;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 &lt;varlistentry&gt;&lt;term&gt;DATE&lt;/term&gt;
<a name="l00175"></a>00175 &lt;listitem&gt;&lt;simpara&gt;Date the track was recorded
<a name="l00176"></a>00176 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00177"></a>00177 &lt;/varlistentry&gt;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 &lt;varlistentry&gt;&lt;term&gt;LOCATION&lt;/term&gt;
<a name="l00180"></a>00180 &lt;listitem&gt;&lt;simpara&gt;Location where track was recorded
<a name="l00181"></a>00181 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00182"></a>00182 &lt;/varlistentry&gt;
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 &lt;varlistentry&gt;&lt;term&gt;CONTACT&lt;/term&gt;
<a name="l00185"></a>00185 &lt;listitem&gt;&lt;simpara&gt;Contact information <a class="code" href="interfacefor.html">for</a> the creators or distributors of the track. This could be a URL, an email address, the physical address of the producing label.
<a name="l00186"></a>00186 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00187"></a>00187 &lt;/varlistentry&gt;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 &lt;varlistentry&gt;&lt;term&gt;ISRC&lt;/term&gt;
<a name="l00190"></a>00190 &lt;listitem&gt;&lt;simpara&gt;International Standard Recording Code <a class="code" href="interfacefor.html">for</a> the
<a name="l00191"></a>00191 track; see &lt;ulink
<a name="l00192"></a>00192 url=&quot;http:<span class="comment">//www.ifpi.org/site-content/online/isrc_intro.html&quot;&gt;the ISRC</span>
<a name="l00193"></a>00193 intro page&lt;/ulink&gt; <a class="code" href="interfacefor.html">for</a> more information on ISRC numbers.
<a name="l00194"></a>00194 &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00195"></a>00195 &lt;/varlistentry&gt;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 &lt;/variablelist&gt;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 &lt;/section&gt;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 &lt;section&gt;&lt;title&gt;Implications&lt;/title&gt;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 &lt;para&gt;Field names should not be &#39;internationalized&#39;; this is a
<a name="l00204"></a>00204 concession to simplicity not an attempt to exclude the majority of
<a name="l00205"></a>00205 the world that doesn&#39;t speak English. Field &lt;emphasis&gt;contents&lt;/emphasis&gt;,
<a name="l00206"></a>00206 however, use the UTF-8 character encoding to allow easy representation 
<a name="l00207"></a>00207 of any language.&lt;/para&gt;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 &lt;para&gt;We have the length of the entirety of the field and restrictions on
<a name="l00210"></a>00210 the field name so that the field name is bounded in a known way. Thus
<a name="l00211"></a>00211 we also have the length of the field contents.&lt;/para&gt;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 &lt;para&gt;Individual &#39;vendors&#39; may use non-standard field names within
<a name="l00214"></a>00214 reason. The proper use of comment fields should be clear through
<a name="l00215"></a>00215 context at this point.  Abuse will be discouraged.&lt;/para&gt;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 &lt;para&gt;There is no vendor-specific prefix to &#39;nonstandard&#39; field names.
<a name="l00218"></a>00218 Vendors should make some effort to avoid arbitrarily polluting the
<a name="l00219"></a>00219 common namespace. We will generally collect the more useful tags
<a name="l00220"></a>00220 here to help with standardization.&lt;/para&gt;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 &lt;para&gt;Field names are not required to be unique (occur once) within a
<a name="l00223"></a>00223 comment header.  As an example, assume a track was recorded by three
<a name="l00224"></a>00224 well know artists; the following is permissible, and encouraged:
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 &lt;blockquote&gt;&lt;programlisting&gt;
<a name="l00227"></a>00227 ARTIST=Dizzy Gillespie 
<a name="l00228"></a>00228 ARTIST=Sonny Rollins 
<a name="l00229"></a>00229 ARTIST=Sonny Stitt 
<a name="l00230"></a>00230 &lt;/programlisting&gt;&lt;/blockquote&gt;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 &lt;/para&gt;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 &lt;/section&gt;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 &lt;/section&gt;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 &lt;section&gt;&lt;title&gt;Encoding&lt;/title&gt; 
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 &lt;para&gt;
<a name="l00241"></a>00241 The comment header comprises the entirety of the second bitstream
<a name="l00242"></a>00242 header packet.  Unlike the first bitstream header packet, it is not
<a name="l00243"></a>00243 generally the only packet on the second page and may not be restricted
<a name="l00244"></a>00244 to within the second bitstream page.  The length of the comment header
<a name="l00245"></a>00245 packet is (practically) unbounded.  The comment header packet is not
<a name="l00246"></a>00246 optional; it must be present in the bitstream even if it is
<a name="l00247"></a>00247 effectively empty.&lt;/para&gt;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 &lt;para&gt;
<a name="l00250"></a>00250 The comment header is encoded as follows (as per Ogg&#39;s standard
<a name="l00251"></a>00251 bitstream mapping which renders least-significant-bit of the word to be
<a name="l00252"></a>00252 coded into the least significant available bit of the current
<a name="l00253"></a>00253 bitstream octet first):
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 &lt;orderedlist&gt;
<a name="l00256"></a>00256  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00257"></a>00257   Vendor <span class="keywordtype">string</span> length (32 bit <span class="keywordtype">unsigned</span> quantity specifying number of octets)
<a name="l00258"></a>00258  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00259"></a>00259  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00260"></a>00260   Vendor <span class="keywordtype">string</span> ([vendor <span class="keywordtype">string</span> length] octets coded from beginning of <span class="keywordtype">string</span> to end of <span class="keywordtype">string</span>, not null terminated)
<a name="l00261"></a>00261  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00262"></a>00262  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00263"></a>00263   Number of comment fields (32 bit <span class="keywordtype">unsigned</span> quantity specifying number of fields)
<a name="l00264"></a>00264  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00265"></a>00265  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00266"></a>00266   Comment field 0 length (if [Number of comment fields]&gt;0; 32 bit <span class="keywordtype">unsigned</span> quantity specifying number of octets)
<a name="l00267"></a>00267  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00268"></a>00268  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00269"></a>00269   Comment field 0 ([Comment field 0 length] octets coded from beginning of <span class="keywordtype">string</span> to end of <span class="keywordtype">string</span>, not null terminated)
<a name="l00270"></a>00270  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00271"></a>00271  &lt;listitem&gt;&lt;simpara&gt;
<a name="l00272"></a>00272   Comment field 1 length (if [Number of comment fields]&gt;1...)...
<a name="l00273"></a>00273  &lt;/simpara&gt;&lt;/listitem&gt;
<a name="l00274"></a>00274 &lt;/orderedlist&gt;
<a name="l00275"></a>00275 &lt;/para&gt;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 &lt;para&gt;
<a name="l00278"></a>00278 This is actually somewhat easier to describe in code; implementation of the above can be found in &lt;filename&gt;vorbis/lib/info.c&lt;/filename&gt;, &lt;function&gt;_vorbis_pack_comment()&lt;/function&gt; and &lt;function&gt;_vorbis_unpack_comment()&lt;/function&gt;.
<a name="l00279"></a>00279 &lt;/para&gt;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 &lt;/section&gt;
<a name="l00282"></a>00282 &lt;/section&gt;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 &lt;/section&gt;
</pre></div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>

<!-- Mirrored from devlib.symbian.slions.net/s3/guid-6013a680-57f9-415b-8851-c4fa63356636/05-comment_8xml_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:33:32 GMT -->
</html>
