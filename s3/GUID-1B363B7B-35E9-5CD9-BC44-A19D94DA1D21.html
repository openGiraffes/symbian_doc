
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:12:42 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="task" /><meta name="DC.Title" content="Removing attachments from messages" /><meta name="abstract" content="The messaging framework allows you to remove attachments from messages." /><meta name="description" content="The messaging framework allows you to remove attachments from messages." /><meta name="DC.Relation" scheme="URI" content="GUID-54AB166A-8B24-5065-92AD-5FC1BF3ED89C" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4" /><meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388" /><meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387" /><meta name="DC.Relation" scheme="URI" content="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6" /><meta name="DC.Relation" scheme="URI" content="GUID-3FD2EADD-DC46-516D-B88D-DA523F51C5E3" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21" /><meta name="DC.Language" content="en" /><title>Removing attachments from messages </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21">Removing attachments from messages</h1><div><p>The messaging framework allows you to remove attachments
from messages. </p>
<div id="GUID-E21AD703-A9AA-5153-B0EE-D068D6295257"><h3 class="section-title">Context</h3><p>Attachments
to a message may be removed. </p> </div>
<h3>Steps</h3><ol id="GUID-F9F2F6BC-DC86-5931-BA0F-9E20212640ED"><a name="GUID-F9F2F6BC-DC86-5931-BA0F-9E20212640ED"><!-- --></a>
<li id="GUID-38716981-EE99-52C2-9522-082D188776C9"><a name="GUID-38716981-EE99-52C2-9522-082D188776C9"><!-- --></a><p>Get the
details of the message to which you want to add an attachment using CMsvEntry::EditStoreL(). </p>
This function returns CMsvStore in writable
mode. 
</li>
<li id="GUID-98B33831-888B-5354-80B6-9628C32F05C8"><a name="GUID-98B33831-888B-5354-80B6-9628C32F05C8"><!-- --></a><p>Get an <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html"><code class="apiname">MMsvAttachmentManager</code></a> attachment manager for the message
entry, using CMsvStore::AttachmentManagerL(). </p>
</li>
<li id="GUID-DCE18F1F-1314-581E-A6A9-06EFF8FF102D"><a name="GUID-DCE18F1F-1314-581E-A6A9-06EFF8FF102D"><!-- --></a><p></p>
Remove an attachment using the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-3BD2E3BF-AD83-3BFA-9C8D-D823F4F9D71E"><code class="apiname">MMsvAttachmentManager::RemoveAttachmentL()</code></a> function. 
 <pre class="codeblock">void CFoo::RemoveAttachL(TInt aNum)
    {
    ...
    
    TRequestStatus status;
    
    // Remove attachment with index aNum
    attManager.RemoveAttachmentL(aNum, status);
    
    // Wait for request to complete
    User::WaitForRequest(status);
    
    ...
    }</pre>
</li>
</ol>
</div><h3>Related concepts</h3><ul><li><a href="GUID-54AB166A-8B24-5065-92AD-5FC1BF3ED89C.html">Messaging
Framework Overview</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated November 18th, 2010</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-1B363B7B-35E9-5CD9-BC44-A19D94DA1D21.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:12:42 GMT -->
</html>