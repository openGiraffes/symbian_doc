
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:15:16 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Configuring the Video Recorder" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792" /><meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE" /><meta name="DC.Relation" scheme="URI" content="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB" /><meta name="DC.Relation" scheme="URI" content="GUID-0EE3180B-4814-517E-A6DD-748136C17D55" /><meta name="DC.Relation" scheme="URI" content="GUID-F370A917-6963-58F6-8876-160A1DC42040" /><meta name="DC.Relation" scheme="URI" content="GUID-37934768-50D0-52A8-B594-B47D5E27722B" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86" /><meta name="DC.Language" content="en" /><title>Configuring the Video Recorder </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86">Configuring the Video Recorder</h1><div><p>This tutorial describes how to configure the video recorder. </p> <div><h3 class="section-title">Purpose</h3> <p>The purpose of this tutorial is to show you how to make configuration adjustments to video recording parameters. </p> <p><strong>Required Background</strong> </p> <p>The <a href="GUID-2DC80BA9-7AA2-5CD3-9105-1DE28CE196C1.html">Video Client Overview</a> introduces the video client utilities. </p> <p><strong>Introduction</strong> </p> <p>The video recorder utility is used to record video clips to files, descriptors or URLs and manipulate embedded meta data. This functionality is implemented by the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html"><code class="apiname">CVideoRecorderUtility</code></a> class. </p> </div> <div><h3 class="section-title">Using Video Recording Parameters</h3> <p>The following tasks will be covered in this tutorial: </p> <ul><li id="GUID-209368FC-79E9-57D6-A353-3B6A5FEE151A"><a name="GUID-209368FC-79E9-57D6-A353-3B6A5FEE151A"><!-- --></a><p><a href="#GUID-AD571928-46D4-5163-BBCF-2AACBD50C8BD">Configure the Priority</a> </p> </li> <li id="GUID-76FE0E0D-3FEC-51AA-9F97-9B96DDF49488"><a name="GUID-76FE0E0D-3FEC-51AA-9F97-9B96DDF49488"><!-- --></a><p><a href="#GUID-9A36A69B-4FE4-525E-9667-73ABE7BA232B">Enable Audio Playback</a> </p> </li> <li id="GUID-35887162-7744-5569-BB3F-08442753CFB9"><a name="GUID-35887162-7744-5569-BB3F-08442753CFB9"><!-- --></a><p><a href="#GUID-8FFFA630-257E-5423-8EF6-87011D8F89DD">Configure Video Frame Size </a> </p> </li> <li id="GUID-40B02DC8-3E90-5905-9026-BDA06F2D0735"><a name="GUID-40B02DC8-3E90-5905-9026-BDA06F2D0735"><!-- --></a><p><a href="#GUID-5317B8A4-0BAE-565A-9CE1-0EE83D6DA5D6">Configure MIME Type and Codecs</a> </p> </li> <li id="GUID-A30F3077-FC16-5B6D-A0F9-A895A61C66ED"><a name="GUID-A30F3077-FC16-5B6D-A0F9-A895A61C66ED"><!-- --></a><p><a href="#GUID-6177D261-E61B-512C-987B-8E6FDDEF6405">Configure Bit and Frame Rates</a> </p> </li> <li id="GUID-ACDC28B3-683C-59F9-905F-D8BB05A95796"><a name="GUID-ACDC28B3-683C-59F9-905F-D8BB05A95796"><!-- --></a><p><a href="#GUID-B7616FBC-7F5A-5A01-9126-8D8E2382D05D">Configure Gain</a> </p> </li> </ul> <p id="GUID-AD571928-46D4-5163-BBCF-2AACBD50C8BD"><a name="GUID-AD571928-46D4-5163-BBCF-2AACBD50C8BD"><!-- --></a><strong>Configuring the Priority</strong> </p> <p>The high level steps to configure the priority are shown here: </p> <ul><li id="GUID-3981F9B6-F252-5D8A-A750-0313B1EA7B38"><a name="GUID-3981F9B6-F252-5D8A-A750-0313B1EA7B38"><!-- --></a><p>To set the priority of the video/audio device, which is used to arbitrate between multiple objects trying to access a controller, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-1B8C11FD-08DD-3E69-8D1E-232EADA2874A"><code class="apiname">CVideoRecorderUtility::SetPriorityL()</code></a> function. </p> <pre class="codeblock">void CRecordVideo::SetPriorityL(TInt aPriority, TMdaPriorityPreference aPref)
    {
    iVideoRecordUtility-&gt;SetPriorityL(aPriority, aPref);
    }</pre> </li> <li id="GUID-0BB0DBB4-BAD2-5062-979E-E7BDB6ABC87E"><a name="GUID-0BB0DBB4-BAD2-5062-979E-E7BDB6ABC87E"><!-- --></a><p>To retrieve the priority setting of the video/audio device, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-4407A583-D78E-310F-A152-5495531B5B37"><code class="apiname">CVideoRecorderUtility::GetPriorityL()</code></a> function. </p> <pre class="codeblock">void CRecordVideo::GetPriorityL(TInt &amp;aPriority, TMdaPriorityPreference &amp;aPref)
    {
    iVideoRecordUtility-&gt;GetPriorityL(aPriority, aPref);
    }</pre> </li> </ul> <p id="GUID-9A36A69B-4FE4-525E-9667-73ABE7BA232B"><a name="GUID-9A36A69B-4FE4-525E-9667-73ABE7BA232B"><!-- --></a><strong>Enabling Audio Playback</strong> </p> <p>The high level steps to enable audio playback are shown here: </p> <ul><li id="GUID-5025C56F-05AC-5C72-B856-78203C964BE4"><a name="GUID-5025C56F-05AC-5C72-B856-78203C964BE4"><!-- --></a><p>To determine whether an audio track is associated with a video clip, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-ECF76E36-67ED-3919-9D85-53FD04837096"><code class="apiname">CVideoRecorderUtility::AudioEnabledL()</code></a>. This function returns the status of audio support for the video clip currently being recorded. </p> <pre class="codeblock"> TBool CRecordVideo::AudioEnabledL()
    {
    return iVideoRecordUtility-&gt;AudioEnabledL();
    }
    </pre> </li> <li id="GUID-5F1B28B9-EFEF-5419-B8A0-39350D618802"><a name="GUID-5F1B28B9-EFEF-5419-B8A0-39350D618802"><!-- --></a><p>To set whether the current video clip has an audio track associated with it, use clip<a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-01C99875-7FD6-3CC9-8042-EE60F2FEBB9E"><code class="apiname">CVideoRecorderUtility::SetAudioEnabledL()</code></a> function. </p> <pre class="codeblock"> void CRecordVideo::SetAudioEnabledL(TBool aEnabled)
    {
    iVideoRecordUtility-&gt;SetAudioEnabledL(aEnabled);
    }</pre> <p> <strong>Note</strong>: The above listed APIs are relevant only if the video clip is associated with an audio stream. </p> </li> </ul> <p id="GUID-8FFFA630-257E-5423-8EF6-87011D8F89DD"><a name="GUID-8FFFA630-257E-5423-8EF6-87011D8F89DD"><!-- --></a><strong> Configuring Video Frame Size</strong> </p> <p>The high level steps to configure video frame size are shown here: </p> <ul><li id="GUID-3CE688B5-7A7D-53B8-A3FA-5049E5500A74"><a name="GUID-3CE688B5-7A7D-53B8-A3FA-5049E5500A74"><!-- --></a><p>To retrieve the current frame size of the video clip, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-AE3BAF2B-5203-3911-8276-2545B4394226"><code class="apiname">CVideoRecorderUtility::GetVideoFrameSizeL()</code></a>. This function returns the video frame size in pixels. </p> <pre class="codeblock">
 void CRecordVideo::GetVideoFrameSizeL(TSize &amp;aSize)
    {
    iVideoRecordUtility-&gt;GetVideoFrameSizeL(aSize);
    }</pre> </li> <li id="GUID-C4E93047-8025-5433-8556-429842A49404"><a name="GUID-C4E93047-8025-5433-8556-429842A49404"><!-- --></a><p>To set the video frame to the desired size, use <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-5E957BEB-7EBF-34AA-8EA0-9974BB6CA0DD"><code class="apiname">CVideoRecorderUtility::SetVideoFrameSizeL()</code></a> function. This functions sets the video frame size in pixels. </p> <pre class="codeblock"> void CRecordVideo::SetVideoFrameSizeL(const TSize &amp;aSize)
    {
    iVideoRecordUtility-&gt;SetVideoFrameSizeL(aSize);
    }</pre> </li> <li id="GUID-059B5B92-4928-5BC9-AEF9-F6B882603C19"><a name="GUID-059B5B92-4928-5BC9-AEF9-F6B882603C19"><!-- --></a><p>To set the video frame size to 176x144, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-5E957BEB-7EBF-34AA-8EA0-9974BB6CA0DD"><code class="apiname">CVideoRecorderUtility::SetVideoFrameSizeL()</code></a> function. </p> <pre class="codeblock"> TSize frameSize;
    frameSize.iWidth = 176;
    frameSize.iHeight = 144;
    TRAP(err, iVideoRecorderUtility-&gt;SetVideoFrameSizeL(frameSize));</pre> </li> </ul> <p id="GUID-5317B8A4-0BAE-565A-9CE1-0EE83D6DA5D6"><a name="GUID-5317B8A4-0BAE-565A-9CE1-0EE83D6DA5D6"><!-- --></a><strong>Configuring MIME Type and Codecs</strong> </p> <p>The high level steps to configure MIME type and codecs are shown here: </p> <ul><li id="GUID-740F1F04-F1C0-5BBE-B4E6-8EE214CE6F4E"><a name="GUID-740F1F04-F1C0-5BBE-B4E6-8EE214CE6F4E"><!-- --></a><p>To retrieve a list of video codecs supported by the currently open video clip, use <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-9360BC10-D38F-380D-82DE-A45373B6F3D7"><code class="apiname">CVideoRecorderUtility::GetSupportedVideoTypesL()</code></a> function. This function returns an array of Four Character Codes representing the video types supported. </p> </li> <li id="GUID-F3695C34-D93A-546C-AAB3-C84416ED2985"><a name="GUID-F3695C34-D93A-546C-AAB3-C84416ED2985"><!-- --></a><p>To retrieve a list of audio codecs supported by the current video clip, use <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-6447E7C6-393D-3288-9066-56EF564B2802"><code class="apiname">CVideoRecorderUtility::GetSupportedAudioTypesL()</code></a> function. This function returns an array of Four Character Codes representing the audio types supported. </p> </li> <li id="GUID-632E35AB-6998-58E8-8A66-604DF879B109"><a name="GUID-632E35AB-6998-58E8-8A66-604DF879B109"><!-- --></a><p>To retrieve an audio codec currently in use by the video clip, use the and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-6C93B62E-B91F-35AD-A167-C7DEF54B2EB1"><code class="apiname">CVideoRecorderUtility::AudioTypeL()</code></a> function. This function returns the audio type of the clip. </p> <pre class="codeblock">TFourCC CRecordVideo::AudioTypeL()
    {
    return iVideoRecordUtility-&gt;AudioTypeL();
    }</pre> </li> <li id="GUID-9B8AFDE3-F0A8-5C66-8269-35A3E5CD5B0B"><a name="GUID-9B8AFDE3-F0A8-5C66-8269-35A3E5CD5B0B"><!-- --></a><p>To set new video and audio codecs to use when recording data to the video clip, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-5EBF0D7C-CDD8-37BA-A47F-86C85C0B9D9B"><code class="apiname">CVideoRecorderUtility::SetVideoTypeL()</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-55AC49E6-3A93-3278-A29F-B40B0F07C5A3"><code class="apiname">CVideoRecorderUtility::SetAudioTypeL()</code></a> functions. </p> <pre class="codeblock">void CRecordVideo::SetVideoTypeL(const TDesC8 &amp;aType)
    {
    iVideoRecordUtility-&gt;SetVideoTypeL(aType);
    }</pre> <pre class="codeblock"> void CRecordVideo::SetAudioTypeL(TFourCC aType)
    {
    iVideoRecordUtility-&gt;SetAudioTypeL(aType);
    }</pre> </li> </ul> <p id="GUID-6177D261-E61B-512C-987B-8E6FDDEF6405"><a name="GUID-6177D261-E61B-512C-987B-8E6FDDEF6405"><!-- --></a><strong>Configuring Bit and Frame Rates</strong> </p> <p>The high level steps to configure bit and frame rates are shown here: </p> <ul><li id="GUID-646A3CBE-D508-52B7-9920-534CEFFE2305"><a name="GUID-646A3CBE-D508-52B7-9920-534CEFFE2305"><!-- --></a><p>To retrieve or set the video bit rates, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-A38122DF-9511-3D64-979F-9DBF4826E877"><code class="apiname">CVideoRecorderUtility::VideoBitRateL()</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-E937D7A9-AD59-33D4-83E6-3CF24A565A84"><code class="apiname">CVideoRecorderUtility::SetVideoBitRateL()</code></a> functions. </p> <pre class="codeblock">TInt CRecordVideo::VideoBitRateL()
    {
    return iVideoRecordUtility-&gt;VideoBitRateL();
    }</pre> <pre class="codeblock"> void CRecordVideo::SetVideoBitRateL(TInt aBitRate)
    {
    iVideoRecordUtility-&gt;SetVideoBitRateL(aBitRate);
    }
</pre> </li> <li id="GUID-E4BBC7C5-03A9-5F79-B083-E7C1995B4E81"><a name="GUID-E4BBC7C5-03A9-5F79-B083-E7C1995B4E81"><!-- --></a><p>To retrieve or set the audio bit rates, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-E7A48B75-46E1-32D5-B5B6-BD7D28ADDF69"><code class="apiname">CVideoRecorderUtility::AudioBitRateL()</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-182E3DBB-5C6C-3AB6-85BC-2F11FF941DB8"><code class="apiname">CVideoRecorderUtility::SetAudioBitRateL()</code></a> functions. </p> <pre class="codeblock">TInt CRecordVideo::AudioBitRateL()
    {
    return iVideoRecordUtility-&gt;AudioBitRateL();
    }</pre> <pre class="codeblock"> void CRecordVideo::SetAudioBitRateL(TInt aBitRate)
    {
    iVideoRecordUtility-&gt;SetAudioBitRateL(aBitRate);
    }
</pre> </li> <li id="GUID-A4ADA88C-FF95-555E-B6BD-DB0EDEBAB2A7"><a name="GUID-A4ADA88C-FF95-555E-B6BD-DB0EDEBAB2A7"><!-- --></a><p>To retrieve or set the current frame rate of the video, use the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-15EAA9BB-2D5A-327E-9321-52EDD53D73E5"><code class="apiname">CVideoRecorderUtility::VideoFrameRateL()</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-D9C23FED-218E-36AA-8799-D9D6E42EC665"><code class="apiname">CVideoRecorderUtility::SetVideoFrameRateL()</code></a> functions. </p> <pre class="codeblock"> TReal32 CRecordVideo::VideoFrameRateL()
    {
    return iVideoRecordUtility-&gt;VideoFrameRateL();
    }</pre> <pre class="codeblock">void CRecordVideo::SetVideoFrameRateL(TReal32 aFrameRate)
    {
    iVideoRecordUtility-&gt;SetVideoFrameRateL(aFrameRate);
    }</pre> </li> </ul> <p id="GUID-B7616FBC-7F5A-5A01-9126-8D8E2382D05D"><a name="GUID-B7616FBC-7F5A-5A01-9126-8D8E2382D05D"><!-- --></a><strong>Configuring Gain</strong> </p> <p>The high level steps to configure recording gain are shown here: </p> <ul><li id="GUID-7D7228CE-2460-59AC-AFEF-9CB1EFB7E2B1"><a name="GUID-7D7228CE-2460-59AC-AFEF-9CB1EFB7E2B1"><!-- --></a><p>To return the current recording gain use GainL(). </p> <pre class="codeblock"> TInt CRecordVideo::GainL() 
    {
    return iVideoRecordUtility-&gt;GainL();
    }</pre> </li> <li id="GUID-572D297D-58DC-571F-9212-F8ABD695B99B"><a name="GUID-572D297D-58DC-571F-9212-F8ABD695B99B"><!-- --></a><p>To set the audio recording gain use SetGainL(). </p> <pre class="codeblock">void CRecordVideo::SetGainL(TInt aGain)
    {
    iVideoRecordUtility-&gt;SetGainL(aGain);
    }</pre> </li> <li id="GUID-E468BB7B-61EC-54A2-BCA0-73DC9F7AF4E8"><a name="GUID-E468BB7B-61EC-54A2-BCA0-73DC9F7AF4E8"><!-- --></a><p>To return the maximum possible setting for the recording gain use MaxGain(). </p> <pre class="codeblock">TInt CRecordVideo::MaxGainL() 
    {
    return iVideoRecordUtility-&gt;MaxGainL();
    }</pre> </li> </ul> </div> <div><h3 class="section-title">See Also</h3> <p><a href="GUID-688C515E-3D1B-51BB-A776-A246FA232061.html">Creating and Preparing a Video Recorder</a> </p> <p><a href="GUID-ED700A4A-3BBF-5048-92CB-E3677A0FD09F.html">Enabling/Disabling Video Recording</a> </p> <p><a href="GUID-C08BBBAD-3605-53E3-A94F-ECCFFB80E1DD.html">Controlling Video Recording Quality</a> </p> <p><a href="GUID-18D7228F-A1E5-594A-B654-EF5D74CE17D2.html">Recording Video Data</a> </p> <p><a href="GUID-2D20B6DF-BE02-50CF-8E9F-14E3402EF952.html">Setting Video Metadata</a> </p> <p><a href="GUID-44EDB476-33E2-5D91-8CC2-A04369AACCA4.html">Controlling the Video Plugin</a> </p> </div> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:15:16 GMT -->
</html>