
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:07:01 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Heap descriptors" /><meta name="abstract" content="Describes heap descriptors." /><meta name="description" content="Describes heap descriptors." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783" /><meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87" /><meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D" /><meta name="DC.Relation" scheme="URI" content="GUID-DBF88873-21B1-5493-8EBF-C9071D314A09" /><meta name="DC.Relation" scheme="URI" content="GUID-11EEFB3D-0414-5BEB-9D78-56A4B9154008" /><meta name="DC.Relation" scheme="URI" content="GUID-4C4B6098-38B4-5BD0-8E58-712511EBE074" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE" /><meta name="DC.Language" content="en" /><title>Heap
descriptors </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE">Heap
descriptors</h1><div><p>Describes heap descriptors.</p>
<p>A heap descriptor provides a fixed length buffer, allocated on the heap,
to contain and access data. The data is part of the descriptor object. </p>
<p>The data contained in a heap descriptor can be accessed, but not changed,
through this descriptor. The data can, however, be completely replaced using
the assignment operators. </p>
<p>A heap descriptor also has the important property that it can be made larger
or smaller, changing the size of the descriptor's buffer. This is achieved
by reallocating the descriptor. Unlike the behaviour of dynamic buffers, reallocation
is not done automatically. </p>
<p>Data is accessed through functions provided by the base class. </p>
<p>A heap descriptor is supplied in two variants: </p>
<ul>
<li id="GUID-7FE093CF-5C0A-58F4-8C5E-63465F1B1B64"><a name="GUID-7FE093CF-5C0A-58F4-8C5E-63465F1B1B64"><!-- --></a><p>the 16 bit variant,
a <code class="codeph">HBufC16</code>, to contain Unicode strings. </p> </li>
<li id="GUID-2F6606E5-E985-58A2-86DE-DCC69C137F50"><a name="GUID-2F6606E5-E985-58A2-86DE-DCC69C137F50"><!-- --></a><p>the 8 bit variant, a <code class="codeph">HBufC8</code>,
to contain non-Unicode strings and binary data. </p> </li>
</ul>
<p>There is also a build independent type, <code class="codeph">HBufC</code>. This is
the type which is most commonly used in program code; the appropriate variant
is selected at build time. </p>
<p>An explicit 8 bit variant is chosen for binary data. An explicit 16 bit
variant is rarely used. </p>
<p>The base class, <code class="codeph">TDesC</code>, contains a data member which holds
the length of the data. The following drawing shows the layout of a <code class="codeph">HBufC</code> object
initialised with the string of five characters representing the English word
"Hello". The descriptor object is allocated on the heap. </p>
<p>Although it is not possible to change the data in the descriptor directly
through the descriptor member functions, it <em>is</em> possible to do this
indirectly by using the <code class="codeph">Des()</code> member function of <code class="codeph">HBufC</code> to
first create a modifiable <a href="GUID-2DDAAD1C-D9EB-5741-B6AE-2383646E0EDB.html">pointer
descriptor</a>, a <code class="codeph">TPtr</code> type, and then to use <em>this</em> descriptor's
member functions. For this reason, heap descriptors are best suited for data
that rarely changes. For data that changes frequently, it is much better to
use the <a href="GUID-5107ABD8-6408-5501-8073-ACAF3719247B.html">resizable buffer
descriptor</a>. </p>
<div class="figure" id="GUID-975888DA-9685-504E-B089-F5F632729921"><img src="GUID-10C32642-CF1C-5C60-A81B-9D65F03A45C4_d0e281406_href.png" /><p>Example of a Heap descriptor</p></div>
</div></div></div><div class="footer"><p class="metadata">Last updated January 20th, 2010</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-2762FDF6-F76D-5268-AE2D-4ABA807CFFEE.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:07:05 GMT -->
</html>