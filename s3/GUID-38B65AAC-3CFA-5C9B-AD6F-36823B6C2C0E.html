
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:02:25 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Escape and Insert" /><meta name="DC.Relation" scheme="URI" content="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723" /><meta name="DC.Relation" scheme="URI" content="GUID-42F0F282-58D6-4878-B53D-EAEEF86A3D7D" /><meta name="DC.Relation" scheme="URI" content="GUID-834F5FC8-EBE4-4076-B1E3-38DDFF89D700" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013" /><meta name="DC.Relation" scheme="URI" content="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382" /><meta name="DC.Relation" scheme="URI" content="GUID-F46CDF2C-DA64-5F30-B4C8-CC4B02CE67B9" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E" /><meta name="DC.Language" content="en" /><title>Escape and Insert </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E">Escape and Insert</h1><div>
<p>This section explains the concept of escape and insert, which is
necessary for avoiding conflicts of characters and interpreting URI
correctly. </p>
<p>A character in the URI may not be available on the keyboard or
might not be usable in contexts where it may conflict with a reserved
character. In either case, the character can be encoded with a '<em>%</em>' followed by its ASCII hexadecimal equivalent code. For more
information, refer to <a href="GUID-0E8206E9-4F1D-5DF5-8A69-9B0831061CFF.html">Escape encoding and
decoding</a>. </p>
<p>The following example shows how the character "#" is encoded with
a "%" followed by its ASCII hexadecimal equivalent code "%23". To
modify the data and escape encode, the following functions are used: </p>
<pre class="codeblock">_LIT8(KInsertEscape,"file#1"); //data to insert
dpath-&gt;InsertAndEscapeCurrentL(KInsertEscape); //escape encode and insert segment
const TDesC8&amp; des = dpath-&gt;Parser().Des(); //descritpor contains "/Myfolder/file%231/logs"</pre>
<p>The code escape encodes the segment and inserts the escaped version
before the current parsed segment. <code class="codeph">des</code> holds "<code class="codeph">/Myfolder/file%231/logs</code> " after inserting the escape encoded
segment "<code class="codeph">file%231</code> ". </p>
<pre class="codeblock">_LIT8(KPushEscape,"file#1");
dpath-&gt;PushAndEscapeFrontL(KPushEscape); //escape encode and insert the segment
const TDesC8&amp; des6 = dpath-&gt;Parser().Des(); //descritpor contains "/file%231/Myfolder/logs"</pre>
<p> The code escape encodes the segment <code class="codeph">file#1</code> and inserts the escaped version at the beginning of the path. <code class="codeph">des</code> holds "<code class="codeph">/file%231/Myfolder/logs</code> " after
inserting "<code class="codeph">file%231</code> ". To insert an escape encoded
version of the segment at the end of the path, use <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-51DFAA06-EC5E-32E6-9819-39938C46B2C0.html#GUID-8B544BA8-C70B-3BF1-A752-6424CA9B28EB"><code class="apiname">CDelimitedPath8::PushAndEscapeFrontL()</code></a>. </p>
<p>In all the three insert functions, the newly inserted segments
should contain a single path segment, as any path delimiters in the
segment will be converted to an escape triple. </p>
<p> <strong> Note</strong>: In case of Unicode data, first convert to utf8,
escape encode, re-convert to 16-bit, and then insert the escaped version
of the path segment. </p>
</div><h3>Related concepts</h3><ul><li><a href="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html">HTTP
Utilities Library Overview</a></li></ul><h3>Related tasks</h3><ul><li><a href="GUID-42F0F282-58D6-4878-B53D-EAEEF86A3D7D.html">Parsing
Delimited Data</a></li><li><a href="GUID-834F5FC8-EBE4-4076-B1E3-38DDFF89D700.html">Modifying
the Data and Delimiter</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated January 10th, 2011</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-38B65AAC-3CFA-5C9B-AD6F-36823B6C2C0E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:02:25 GMT -->
</html>