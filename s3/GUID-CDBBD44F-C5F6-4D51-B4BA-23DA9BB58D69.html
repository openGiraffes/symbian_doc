
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-CDBBD44F-C5F6-4D51-B4BA-23DA9BB58D69.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:58:20 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Creating generic button" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-94005A46-B4C6-4A30-A8E8-1B9C2D583D50" /><meta name="DC.Relation" scheme="URI" content="GUID-E35887BB-7E58-438C-AA27-97B2CDE7E069_overview-GUID-8C40E993-C9A0-423D-979D-7BB11CE091C1" /><meta name="DC.Relation" scheme="URI" content="GUID-E35887BB-7E58-438C-AA27-97B2CDE7E069_overview-GUID-FA9679A1-6FD7-4FB6-883A-D5719388A2B6" /><meta name="DC.Relation" scheme="URI" content="GUID-F3EE1000-71A6-4D48-A30B-3D2357BF20FB" /><meta name="DC.Relation" scheme="URI" content="GUID-97712509-84AD-462F-8FFB-E1E6D8278938" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-CDBBD44F-C5F6-4D51-B4BA-23DA9BB58D69" /><meta name="DC.Language" content="en" /><title>Creating generic button </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-CDBBD44F-C5F6-4D51-B4BA-23DA9BB58D69">Creating generic button</h1><div>
<p>Create the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-F9089821-1D3A-32C3-BCC9-108978998DEF.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-F9089821-1D3A-32C3-BCC9-108978998DEF.html"><code class="apiname">CAknButton</code></a> object either dynamically
from program code or from a resource structure. The constructed button
can then be used as a component control of a compound control.</p>
<p>Use the resource structures <code class="codeph">AVKON_BUTTON</code>, <code class="codeph">AVKON_BUTTON_STATE</code>, and <code class="codeph">AVKON_BUTTON_STATE_EXTENSION</code> for the button object (defined in the file <code class="codeph">eikon.rh</code>). The following example shows how to construct a button with the
help of a button resource. The button is placed in a compound control
(container) and it occupies the whole rectangle of the container.
The container is set as the observer of the button.</p>
<p><strong>Example: Button resource</strong></p>
<pre class="codeblock">RESOURCE AVKON_BUTTON r_myapp_button
    {
    flags  = KAknButtonTextLeft;
    states =
        {
        AVKON_BUTTON_STATE
            {
            txt = “Text”;
            helptxt = “Help text”;
            }
        };
    }
</pre>
<p><strong>Example: Constructing button from resource</strong></p>
<pre class="codeblock">void CMyButtonContainer::CreateButtonL()
    {
    CAknButton* iAknButton = CAknButton::NewL();
    iAknButton-&gt;ConstructFromResourceL(R_MYAPP_BUTTON);
    iAknButton-&gt;SetContainerWindowL(*this);
    iAknButton-&gt;SetRect(Rect());
    iAknButton-&gt;SetObserver(this);
    iAknButton-&gt;MakeVisible(ETrue);
    iAknButton-&gt;ActivateL();
    }
</pre>
<p><strong>Example: Constructing button from program code</strong></p>
<pre class="codeblock">void CMyButtonContainer::CreateButtonL()
    {
    HBufC* buttonText = StringLoader::LoadLC( R_MYAPP_TEXT );    
    HBufC* helpText   =
           StringLoader::LoadLC( R_MYAPP_HELPTEXT );
    CAknButton* iAknButton = CAknButton::NewL( 
        0, 0, 0, 0, 
        *buttonText, *helpText, KAknButtonTextLeft, 0);
    CleanupStack::PopAndDestroy( 2 );  // helpText, buttonText
    iAknButton-&gt;SetContainerWindowL(*this);
    iAknButton-&gt;SetRect(Rect());
    iAknButton-&gt;SetObserver(this);
    iAknButton-&gt;MakeVisible(ETrue);
    iAknButton-&gt;ActivateL();
    }
</pre>
</div></div></div><div class="footer"><p class="metadata">Last updated January 19th, 2011</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-CDBBD44F-C5F6-4D51-B4BA-23DA9BB58D69.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 05:58:20 GMT -->
</html>