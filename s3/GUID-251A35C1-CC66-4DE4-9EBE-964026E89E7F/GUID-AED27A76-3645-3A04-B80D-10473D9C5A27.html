<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:16 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RSemaphore"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RSemaphore</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27"><a name="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RSemaphore Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;e32cmn.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RSemaphore : public RHandleBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RSemaphore<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5AF4B436-2389-3D72-8E25-D568365B281E">CreateGlobal</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-0C52B089-C5ED-3FB3-980D-E49D3A71E39D">CreateLocal</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-5AFD01B2-AFE3-3BEB-A7CE-8E00A619606E">Open</a>(const <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html">TFindSemaphore</a> &amp;, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EB3CCA70-40ED-3DCB-B8A4-E865CA12C32E">Open</a>(<a href="GUID-78E0DEDD-C020-3174-AD0A-E4C18C4C9213.html">RMessagePtr2</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-20F12819-7A9F-309B-B073-08DA77B63769">Open</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1">OpenGlobal</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FD6C7B0F-F76D-308D-AF4F-DFDD2B038357">Signal</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3EFB9422-87B8-3A2F-9887-3BDAD65B22E8">Signal</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-68F18434-4758-33BA-9959-1F92A50651A2">Wait</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C48664B0-2886-3154-AD89-04CF453A4332">Wait</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::iHandle</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase:TAttributes</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Attributes()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::BTraceId()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Close()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::DoExtendedClose()</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Duplicate(const RThread &amp;,TOwnerType)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::FullName(TDes &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Handle()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::HandleInfo(THandleInfo *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Name()const</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::NotifyDestruction(TRequestStatus &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::Open(const TFindHandleBase &amp;,TOwnerType)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::OpenByName(const TDesC &amp;,TOwnerType,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase()</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::RHandleBase(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandle(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetHandleNC(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetReturnedHandle(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html">RHandleBase::SetReturnedHandle(TInt,RHandleBase &amp;)</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>A handle to a semaphore.</p>

			<p>The semaphore itself is a Kernel side object.</p>

			<p>As with all handles, they should be closed after use. <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB">RHandleBase</a> provides the necessary <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-4B2775FD-AB61-3850-86C5-780CE8C97573">Close()</a> function, which should be called when the handle is no longer required.</p>

			<p/>

			<p>See also: <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-4B2775FD-AB61-3850-86C5-780CE8C97573">RHandleBase::Close</a> </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-5AF4B436-2389-3D72-8E25-D568365B281E"><a name="GUID-5AF4B436-2389-3D72-8E25-D568365B281E"><!-- --></a>
		<a name="GUID-3231DB79-D935-3CB7-BF7C-D48E8CB853C6"><!----></a><h3 class="sectiontitle">CreateGlobal ( const TDesC &amp;, TInt, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateGlobal</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates a global semaphore, setting its initial count, and opens this handle to the semaphore.</p>

				<p>The kernel side object representing the semaphore is given the name contained in the specified descriptor, which makes it global. This means that any thread in any process can search for the semaphore, using <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html#GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD">TFindSemaphore</a>, and open a handle to it. If the specified name is empty the kernel side object representing the semaphore is unnamed and so cannot be opened by name. It can however be passed to another process as a process parameter or via IPC.</p>

				<p>By default, any thread in the process can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore. However, specifying EOwnerThread as the third parameter to this function, means that only the creating thread can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore; any other thread in this process that wants to access the semaphore must either duplicate this handle or use <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1">OpenGlobal()</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 105 if aCount is negative.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1">RSemaphore::OpenGlobal()</a> <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-12B3ABCC-E38F-31B8-8585-208605A068CA">RHandleBase::Duplicate()</a> <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html#GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD">TFindSemaphore</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>A reference to the descriptor containing the name to be assigned to this global semaphore.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>The initial value of the semaphore count.  </td></tr><tr><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise another of the system wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-0C52B089-C5ED-3FB3-980D-E49D3A71E39D"><a name="GUID-0C52B089-C5ED-3FB3-980D-E49D3A71E39D"><!-- --></a>
		<a name="GUID-7FC9FD71-27C3-3512-A07F-CC6BD2492099"><!----></a><h3 class="sectiontitle">CreateLocal ( TInt, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateLocal</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates a semaphore, setting its initial count, and opens this handle to the semaphore.</p>

				<p>The kernel side object representing the semaphore is unnamed. This means that it is not possible to search for the semaphore, which makes it local to the current process.</p>

				<p>By default, any thread in the process can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore. However, specifying EOwnerThread as the second parameter to this function, means that only the creating thread can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore; any other thread in this process that wants to access the semaphore must duplicate this handle.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 105 if aCount is negative.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-12B3ABCC-E38F-31B8-8585-208605A068CA">RHandleBase::Duplicate()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCount</td><td>The initial value of the semaphore count.  </td></tr><tr class="bg"><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-5AFD01B2-AFE3-3BEB-A7CE-8E00A619606E"><a name="GUID-5AFD01B2-AFE3-3BEB-A7CE-8E00A619606E"><!-- --></a>
		<a name="GUID-728AE67D-6E55-3D54-AD55-F7BEFF3C6FD4"><!----></a><h3 class="sectiontitle">Open ( const TFindSemaphore &amp;, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Open</td><td>(</td><td>const <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html">TFindSemaphore</a> &amp;</td><td><span class="parameter">aFind</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section apidesc">
				<p>Opens a handle to the global semaphore found using a <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html#GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD">TFindSemaphore</a> object.</p>

				<p>A <a href="GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD.html#GUID-F3ACDC41-31EE-3C32-BE2C-D696B84931CD">TFindSemaphore</a> object is used to find all global semaphores whose full names match a specified pattern.</p>

				<p>By default, any thread in the process can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore. However, specifying EOwnerThread as the second parameter to this function, means that only the opening thread can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore; any other thread in this process that wants to access the semaphore must either duplicate the handle or use <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1">OpenGlobal()</a> again.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFind</td><td>A reference to the TFindSemaphore object used to find the semaphore.  </td></tr><tr class="bg"><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise another of the system wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-EB3CCA70-40ED-3DCB-B8A4-E865CA12C32E"><a name="GUID-EB3CCA70-40ED-3DCB-B8A4-E865CA12C32E"><!-- --></a>
		<h3 class="sectiontitle">Open ( RMessagePtr2, TInt, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-78E0DEDD-C020-3174-AD0A-E4C18C4C9213.html">RMessagePtr2</a></td><td><span class="parameter">aMessage</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aParam</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens a handle to a semaphore using a handle number sent by a client to a server.</p>

				<p>This function is called by the server.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aMessage</td><td>The message pointer.  </td></tr><tr class="bg"><td class="parameter">aParam</td><td>An index specifying which of the four message arguments contains the handle number.  </td></tr><tr><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful; KErrArgument, if the value of aParam is outside the range 0-3; KErrBadHandle, if not a valid handle; otherwise one of the other system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-20F12819-7A9F-309B-B073-08DA77B63769"><a name="GUID-20F12819-7A9F-309B-B073-08DA77B63769"><!-- --></a>
		<h3 class="sectiontitle">Open ( TInt, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aArgumentIndex</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens a handle to a semaphore using a handle number passed as an environment data item to the child process during the creation of that child process.</p>

				<p>Note that this function can only be called successfully once.</p>

				<p/>

				<p>See also: <a href="GUID-9DD1EA2B-DC59-315C-8E9C-CE6D9461B695.html#GUID-97A36EEC-AEBD-3D66-A216-51D54139418E">RProcess::SetParameter()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aArgumentIndex</td><td>An index that identifies the slot in the process environment data that contains the handle number. This is a value relative to zero, i.e. 0 is the first item/slot. This can range from 0 to 15. </td></tr><tr class="bg"><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful; KErrNotFound, if the slot indicated by aArgumentIndex is empty; KErrArgument, if the slot does not contain a Semaphore handle; otherwise one of the other system-wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1"><a name="GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1"><!-- --></a>
		<a name="GUID-76DDC1E0-F23A-306D-8EFF-BC2E25E9F9F6"><!----></a><h3 class="sectiontitle">OpenGlobal ( const TDesC &amp;, TOwnerType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>OpenGlobal</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2CCB3A28-3B83-390F-A933-3B0F4416231C.html">TOwnerType</a></td><td><span class="parameter">aType</span> = EOwnerProcess</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens a handle to a global semaphore.</p>

				<p>Global semaphores are identified by name.</p>

				<p>By default, any thread in the process can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore. However, specifying EOwnerThread as the second parameter to this function, means that only the opening thread can use this instance of <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-AED27A76-3645-3A04-B80D-10473D9C5A27">RSemaphore</a> to access the semaphore; any other thread in this process that wants to access the semaphore must either duplicate the handle or use <a href="GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html#GUID-9B3A2A25-3AAA-3421-A2A8-A6D41DDF8EF1">OpenGlobal()</a> again.</p>

				<p/>

				<p>See also: <a href="GUID-727D2B62-09A9-3CBC-AB6F-591E52EC68EB.html#GUID-12B3ABCC-E38F-31B8-8585-208605A068CA">RHandleBase::Duplicate()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>A reference to the descriptor containing the name of the global semaphore to be opened.  </td></tr><tr class="bg"><td class="parameter">aType</td><td>An enumeration whose enumerators define the ownership of this semaphore handle. If not explicitly specified, EOwnerProcess is taken as default. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise another of the system wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-FD6C7B0F-F76D-308D-AF4F-DFDD2B038357"><a name="GUID-FD6C7B0F-F76D-308D-AF4F-DFDD2B038357"><!-- --></a>
		<h3 class="sectiontitle">Signal (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Signal</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Signals the semaphore once.</p>

				<p>The function increments the semaphore count by one. If the count was negative before being incremented, the highest priority thread waiting on the semaphore's queue of threads is removed from that queue and, provided that it is not suspended for any other reason, is marked as ready to run. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-3EFB9422-87B8-3A2F-9887-3BDAD65B22E8"><a name="GUID-3EFB9422-87B8-3A2F-9887-3BDAD65B22E8"><!-- --></a>
		<h3 class="sectiontitle">Signal ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Signal</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Signals the semaphore one or more times.</p>

				<p>The function increments the semaphore count. If the count was negative before being incremented, the highest priority thread waiting on the semaphore's queue of threads is removed from that queue and, provided that it is not suspended for any other reason, is marked as ready to run.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCount</td><td>The number of times the semaphore is to be signalled.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-68F18434-4758-33BA-9959-1F92A50651A2"><a name="GUID-68F18434-4758-33BA-9959-1F92A50651A2"><!-- --></a>
		<h3 class="sectiontitle">Wait (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Wait</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Waits for a signal on the semaphore.</p>

				<p>The function decrements the semaphore count by one and returns immediately if it is zero or positive.</p>

				<p>If the semaphore count is negative after being decremented, the calling thread is added to a queue of threads maintained by this semaphore.</p>

				<p>The thread waits until the semaphore is signalled. More than one thread can be waiting on a particular semaphore at a time. When there are multiple threads waiting on a semaphore, they are released in priority order.</p>

				<p>If the semaphore is deleted, all threads waiting on that semaphore are released. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-C48664B0-2886-3154-AD89-04CF453A4332"><a name="GUID-C48664B0-2886-3154-AD89-04CF453A4332"><!-- --></a>
		<h3 class="sectiontitle">Wait ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Wait</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aTimeout</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Waits for a signal on the semaphore, or a timeout.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTimeout</td><td>The timeout value in micoseconds </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if the wait has completed normally. KErrTimedOut if the timeout has expired. KErrGeneral if the semaphore is being reset, i.e the semaphore is about to be deleted. KErrArgument if aTimeout is negative; otherwise one of the other system wide error codes. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-AED27A76-3645-3A04-B80D-10473D9C5A27.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:16 GMT -->
</html>