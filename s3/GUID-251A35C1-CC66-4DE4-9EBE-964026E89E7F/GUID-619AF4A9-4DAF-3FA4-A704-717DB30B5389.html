<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:53 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CAsyncOneShot"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CAsyncOneShot</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389"><a name="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CAsyncOneShot Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;e32base.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CAsyncOneShot : public CActive</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CAsyncOneShot<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-74770184-1B19-35C8-AE78-3BB19CBD21C2">CAsyncOneShot</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual </td><td><a href="#GUID-7FE6E917-9875-3C17-A62E-5E81871BDAE5">~CAsyncOneShot</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-A7955FDB-B030-392F-B5D8-13F7EEDF4337">Call</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-58F236C0-DBAB-38A6-A1F6-74B33BBA969F">DoCancel</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a> &amp;</td><td><a href="#GUID-D804295C-145B-388D-9398-38696A90FD6E">Thread</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::iStatus</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive:TPriority</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::CActive(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Cancel()</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Deque()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsActive()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsAdded()const</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Priority()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::RunError(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::RunL()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetActive()</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetPriority(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::~CActive()</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>An active object that performs processing that is only performed once.</p>

			<p>The active object is intended to be given a low priority, so that it runs only when no higher-priority active objects are ready to run. In addition, the class ensures that the current thread cannot be closed until the active object is destroyed.</p>

			<p>The class needs to be derived from to make use of its behaviour, in particular, it needs to define and implement a <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function.</p>

			<p>NB: the constructor creates a process-relative handle to the current thread and this is stored within this object. If the thread subsequently dies abnormally, then this handle will not be closed, and the thread will not be destroyed until the process terminates.</p>

			<p>NB: if <a href="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389.html#GUID-A7955FDB-B030-392F-B5D8-13F7EEDF4337">Call()</a> is called from a different thread (for example, to implement a kind of inter-thread communication), a client-specific mechanism must be used to ensure that the thread that created this object is still alive.</p>

			<p>NB: if the thread that created this object has its own heap and terminates abnormally, then the handle stored within this object is lost.</p>

			<p/>

			<p>See also: <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> <a href="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389.html#GUID-A7955FDB-B030-392F-B5D8-13F7EEDF4337">CAsyncOneShot::Call</a> </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-74770184-1B19-35C8-AE78-3BB19CBD21C2"><a name="GUID-74770184-1B19-35C8-AE78-3BB19CBD21C2"><!-- --></a>
		<a name="GUID-601FE155-4F2C-3922-A8E5-8259A75BD71C"><!----></a><h3 class="sectiontitle">CAsyncOneShot ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CAsyncOneShot</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Constructor taking a priority value.</p>

				<p>Specifically, the constructor:</p>

				<p>1. sets this active object's priority value</p>

				<p>2. opens a handle to the current thread to ensure that the thread cannot be closed until this <a href="GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389.html#GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389">CAsyncOneShot</a> object is destroyed</p>

				<p>3. adds this active object to the current active scheduler.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 93 if the attempt to open a handle to the current thread fails. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPriority</td><td>The active object priority value. CActive::TPriority defines a standard set of priorities. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-7FE6E917-9875-3C17-A62E-5E81871BDAE5"><a name="GUID-7FE6E917-9875-3C17-A62E-5E81871BDAE5"><!-- --></a>
		<h3 class="sectiontitle">~CAsyncOneShot (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CAsyncOneShot</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section apidesc">
				<p>Frees resources prior to destruction.</p>

				<p>Specifically, it closes the handle to the current thread.</p>

				<p/>

				<p>See also: <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-8E56C6E3-418E-35B8-A5AC-E8A354D8B761">CActive::~CActive</a> </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-A7955FDB-B030-392F-B5D8-13F7EEDF4337"><a name="GUID-A7955FDB-B030-392F-B5D8-13F7EEDF4337"><!-- --></a>
		<h3 class="sectiontitle">Call (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Call</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section apidesc">
				<p>Queues this active object to be run once.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>E32USER-CBase 2 In debug builds only, if this active object has not already been added to the active scheduler. </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-58F236C0-DBAB-38A6-A1F6-74B33BBA969F"><a name="GUID-58F236C0-DBAB-38A6-A1F6-74B33BBA969F"><!-- --></a>
		<h3 class="sectiontitle">DoCancel (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DoCancel</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div><p>Reimplemented from <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::DoCancel()</a></p></div><div class="section apidesc">
				<p>Implements cancellation of an outstanding request.</p>

				<p>The class provides an empty implementation.</p>

				<p>This is called by the destructor. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-D804295C-145B-388D-9398-38696A90FD6E"><a name="GUID-D804295C-145B-388D-9398-38696A90FD6E"><!-- --></a>
		<h3 class="sectiontitle">Thread (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a> &amp;</td><td>Thread</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc">
				<p>Gets a handle to the current thread.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The handle to the current thread. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-619AF4A9-4DAF-3FA4-A704-717DB30B5389.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:53 GMT -->
</html>