<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RDbNamedDatabase"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RDbNamedDatabase</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2"><a name="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RDbNamedDatabase Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;d32dbms.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2__linkagainst"><a name="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2__linkagainst"><!-- --></a><p>Link against: edbms.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RDbNamedDatabase : public RDbDatabase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RDbNamedDatabase<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-0258D4BF-4FA8-33BB-A571-D358EA8B8B3B">TAccess</a> { <a href="#GUID-8F7B4105-E627-360A-BD98-89AD7AE2F59D">EReadWrite</a>, <a href="#GUID-E95CDA95-67E9-3A22-A88C-D6E409007CD8">EReadOnly</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">Create</a>(<a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html">RDbs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-BBFA80FC-B41C-3D8D-BC85-AAE3087AB7E8">Create</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1">Open</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html">TAccess</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C016D24D-C246-363E-B9CE-1EE618B4FFD2">Open</a>(<a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html">RDbs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D88134FE-555D-3D34-ABB4-491951178C52">Replace</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::iDatabase</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::AlterTable(const TDesC &amp;,const CDbColSet &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Begin()</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Close()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::ColSetL(const TDesC &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Commit()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Compact()</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::CreateIndex(const TDesC &amp;,const TDesC &amp;,const CDbKey &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::CreateTable(const TDesC &amp;,const CDbColSet &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::CreateTable(const TDesC &amp;,const CDbColSet &amp;,const CDbKey &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Destroy()</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::DropIndex(const TDesC &amp;,const TDesC &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::DropTable(const TDesC &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Execute(const TDesC &amp;,TDbTextComparison)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::InTransaction()const</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::IndexNamesL(const TDesC &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::IsDamaged()const</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::KeyL(const TDesC &amp;,const TDesC &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Recover()</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Rollback()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::Size()const</a></td></tr><tr><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::TableNamesL()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase::UpdateStats()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Generic database implementation   </p>

		</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-0258D4BF-4FA8-33BB-A571-D358EA8B8B3B"><a name="GUID-0258D4BF-4FA8-33BB-A571-D358EA8B8B3B"><!-- --></a>
		<h3 class="sectiontitle">Enum TAccess</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Specifies which operations can be performed on a rowset. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-8F7B4105-E627-360A-BD98-89AD7AE2F59D"/><span class="enumerator">EReadWrite</span></td><td/><td> </td></tr><tr class="bg"><td><a name="GUID-E95CDA95-67E9-3A22-A88C-D6E409007CD8"/><span class="enumerator">EReadOnly</span></td><td/><td>
							<p>Row navigation and reading are permitted. </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A"><a name="GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A"><!-- --></a>
		<a name="GUID-EC949637-F20F-3893-B8D0-DC5FBFA7C167"><!----></a><h3 class="sectiontitle">Create ( RDbs &amp;, const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Create</td><td>(</td><td><a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html">RDbs</a> &amp;</td><td><span class="parameter">aDbs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFormat</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates a secure shared database. Max allowed database name length (with the extension) is KDbMaxName symbols.</p>

				<p>In this "client-server" mode the database can be shared with the other clients.</p>

				<p>For creating a non-secure database, see <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">RDbNamedDatabase::Create()</a>, which first argument is a <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html#GUID-E263C747-946F-35AA-9F1D-41833BD350FC">RFs</a> reference (or <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-D88134FE-555D-3D34-ABB4-491951178C52">RDbNamedDatabase::Replace()</a>).</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-BBFA80FC-B41C-3D8D-BC85-AAE3087AB7E8">RDbNamedDatabase::Create(RFs&amp; aFs, const TDesC&amp; aSource, const TDesC&amp; aFormat)</a> <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-D88134FE-555D-3D34-ABB4-491951178C52">RDbNamedDatabase::Replace(RFs&amp; aFs, const TDesC&amp; aSource, const TDesC&amp; aFormat)</a></p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDbs</td><td>A reference to DBMS session instance.  </td></tr><tr class="bg"><td class="parameter">aDatabase</td><td>Database name. The name format is: &lt;drive&gt;:&lt;name&gt;.&lt;ext&gt;  </td></tr><tr><td class="parameter">aFormat</td><td>Database format string. The string format is: "SECURE[UID]", where UID is the database security policy UID. "SECURE" keyword is case insensitive.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise one of the system-wide error codes, including: KErrAlreadyExists - the database already exists; KErrNotSupported - invalid format string; KErrArgument - bad argument, including null/invaluid uids, the database name includes a path; KErrPermissionDenied - the caller has not enough rights to do the operation;</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-BBFA80FC-B41C-3D8D-BC85-AAE3087AB7E8"><a name="GUID-BBFA80FC-B41C-3D8D-BC85-AAE3087AB7E8"><!-- --></a>
		<h3 class="sectiontitle">Create ( RFs &amp;, const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Create</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFormat</span> = <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a>()</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates a new non-secure database.</p>

				<div class="p">In this "single client" mode, the database cannot be shared with the other clients. The database server is not involved in the operations with the database, the client side database library (edbms.dll) will be used. If the database has to be shared, the following example shows how this may be accomplished: <pre class="codeblock">RFs fs;
TInt err = fs.Connect();
&lt;process the error&gt;
_LIT(KDatabaseName, _L("C:\\A.DB"));
RDbNamedDatabase db;
err = db.Create(fs, KDatabaseName);		//Step 1 - create the database using the RFs object
&lt;process the error&gt;
db.Close();								//Step 2 - close the database
RDbs dbs;
err = dbs.Connect();
&lt;process the error&gt;
err = db.Open(dbs, KDatabaseName);		//Step 3 - reopen the database using the RDbs object
&lt;process the error&gt;
...</pre>
</div>

				<p>Max allowed database name length (with the extension) is KDbMaxName symbols.</p>

				<p>For creating a new secure shared database, see <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">RDbNamedDatabase::Create()</a>, which first argument is a <a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html#GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95">RDbs</a> reference.</p>

				<p/>

				<p>See also: <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">RDbNamedDatabase::Create(RDbs&amp; aDbs, const TDesC&amp; aDatabase, const TDesC&amp; aFormat)</a></p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aDatabase</td><td>Database file name.  </td></tr><tr><td class="parameter">aFormat</td><td>Database format string. It can be omitted in which case the default parameter value (TPtrC()) will be used.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise one of the system-wide error codes, including: KErrAlreadyExists - the database already exists; KErrArgument - bad argument, including null/invaluid uids, the database name includes a null;</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1"><a name="GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1"><!-- --></a>
		<a name="GUID-023E2C2A-2D7D-3807-A197-46ED3D7E017E"><!----></a><h3 class="sectiontitle">Open ( RFs &amp;, const TDesC &amp;, const TDesC &amp;, TAccess )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFormat</span> = <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a>(),</td></tr><tr><td colspan="3"> </td><td><a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html">TAccess</a></td><td><span class="parameter">aMode</span> = EReadWrite</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens an existing non-secure database.</p>

				<p>In this "single client" mode, the database cannot be shared with the other clients. The database server is not involved in the operations with the database, the client side database library (edbms.dll) will be used.</p>

				<p>For opening a new secure shared database, see <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1">RDbNamedDatabase::Open()</a>, which first argument is a <a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html#GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95">RDbs</a> reference.</p>

				<p/>

				<p>See also: <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-C016D24D-C246-363E-B9CE-1EE618B4FFD2">RDbNamedDatabase::Open(RDbs&amp; aDbs, const TDesC&amp; aDatabase, const TDesC&amp; aFormat)</a></p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aDatabase</td><td>Database name. The name format is: &lt;drive&gt;:&lt;path&gt;&lt;name&gt;.&lt;ext&gt;  </td></tr><tr><td class="parameter">aFormat</td><td>Database format string. It can be omitted in which case the default parameter value (TPtrC()) will be used.  </td></tr><tr class="bg"><td class="parameter">aMode</td><td>The mode in which the database is to be accessed. The mode is defined by the TAccess type.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise one of the system-wide error codes, including: KErrNotFound - the database is not found; KErrPathNotFound - the path of database is not found KErrNotSupported - the format is not supported. KErrArgument - bad argument,including null/invaluid uids,the database name is null; KErrPermissionDenied - the caller has not enough rights to do the operation;</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-C016D24D-C246-363E-B9CE-1EE618B4FFD2"><a name="GUID-C016D24D-C246-363E-B9CE-1EE618B4FFD2"><!-- --></a>
		<h3 class="sectiontitle">Open ( RDbs &amp;, const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html">RDbs</a> &amp;</td><td><span class="parameter">aDbs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFormat</span> = <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a>()</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens an existing shared secure or non-secure database. Max allowed database name length (with the extension) is KDbMaxName symbols.</p>

				<p>In this "client-server" mode the database can be shared with the other clients.</p>

				<p>For opening a single, non-shareable connection to the database, see <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1">RDbNamedDatabase::Open()</a>, which first argument is a <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html#GUID-E263C747-946F-35AA-9F1D-41833BD350FC">RFs</a> reference.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the read, the write or the schema access policy for the database.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E9FE5D68-CEEB-367D-93B4-C3960FB344F1">RDbNamedDatabase::Open(RFs&amp; aFs, const TDesC&amp; aSource, const TDesC&amp; aFormat, TAccess aMode)</a>.</p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDbs</td><td>A reference to DBMS session instance.  </td></tr><tr class="bg"><td class="parameter">aDatabase</td><td>The name of the file that hosts the database. If this is a secure database, then the format of the name must be: &lt;drive&gt;:&lt;database file name excluding the path&gt;. If this is a non-secure database, then aDatabase has to be the full database file name.  </td></tr><tr><td class="parameter">aFormat</td><td>Database format string. For shared secure databases the string format is: "SECURE[UID]", where UID is the database security policy UID. "SECURE" keyword is case insensitive. For shared non-secure databases, the default parameter value (TPtrC()) can be used.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise one of the system-wide error codes, including: KErrNotFound - the database is not found; KErrArgument - bad argument, including null/invaluid uids, the database name includes a path; KErrPermissionDenied - the caller has not enough rights to do the operation;</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-D88134FE-555D-3D34-ABB4-491951178C52"><a name="GUID-D88134FE-555D-3D34-ABB4-491951178C52"><!-- --></a>
		<a name="GUID-87D5AF14-EFD7-32BC-AC62-CF87DCB29DD0"><!----></a><h3 class="sectiontitle">Replace ( RFs &amp;, const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Replace</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFormat</span> = <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a>()</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates a new non-secure database. If a database with the same file name exists, it will be replased.</p>

				<div class="p">In this "single client" mode, the database cannot be shared with the other clients. The database server is not involved in the operations with the database, the client side database library (edbms.dll) will be used. If the database has to be shared, the following example shows how this may be accomplished: <pre class="codeblock">RFs fs;
TInt err = fs.Connect();
&lt;process the error&gt;
_LIT(KDatabaseName, _L("C:\\A.DB"));
RDbNamedDatabase db;
err = db.Replace(fs, KDatabaseName);	//Step 1 - create the database using the RFs object
&lt;process the error&gt;
db.Close();								//Step 2 - close the database
RDbs dbs;
err = dbs.Connect();
&lt;process the error&gt;
err = db.Open(dbs, KDatabaseName);		//Step 3 - reopen the database using the RDbs object
&lt;process the error&gt;
...</pre>
</div>

				<p>Max allowed database name length (with the extension) is KDbMaxName symbols.</p>

				<p>For creating a new secure shared database, see <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">RDbNamedDatabase::Create()</a>, which first argument is a <a href="GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95.html#GUID-3B846E0B-F161-3C5F-939B-4F4078AF9D95">RDbs</a> reference.</p>

				<p/>

				<p>See also: <a href="GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html#GUID-E4CDCC87-4A92-3C04-9A61-C0A3EC82CA4A">RDbNamedDatabase::Create(RDbs&amp; aDbs, const TDesC&amp; aDatabase, const TDesC&amp; aFormat)</a></p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aDatabase</td><td>Database name. The name format is: &lt;drive&gt;:&lt;path&gt;&lt;name&gt;.&lt;ext&gt;  </td></tr><tr><td class="parameter">aFormat</td><td>Database format string. It can be omitted in which case the default parameter value (TPtrC()) will be used.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful otherwise one of the system-wide error codes, including: KErrArgument - bad argument, including null/invaluid uids, the database name includes a null;</span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6433D7F9-B4C7-39DA-BEF4-5EA22B8478A2.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
</html>