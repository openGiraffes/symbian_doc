<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:47:30 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MSenConsumerPolicy"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>MSenConsumerPolicy</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C"><a name="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">MSenConsumerPolicy Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;mw/MSenConsumerPolicy.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C__linkagainst"><a name="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C__linkagainst"><!-- --></a><p>Link against: SenServDesc.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class MSenConsumerPolicy</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">pure virtual 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-6305C19D-07D3-3CBD-888E-C5E4D5A20EE3">AcceptsConsumerPolicy</a>(<a href="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html">MSenConsumerPolicy</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-DA52E1A9-C3C8-3141-9510-72EC4A67C80C">AddConsumerIdentityProviderIdL</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-16F82A48-A821-30C5-8940-93765FCD5343">ConsumerIapId</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual const <a href="GUID-CE575263-2A48-35DB-AE6B-25D950BA70A2.html">CSenIdentityProviderIdArray8</a> &amp;</td><td><a href="#GUID-F8BADB18-7F38-3676-B384-E18B6B0D62F6">ConsumerIdentityProviderIds8L</a>()</td></tr><tr><td align="right" class="code">pure virtual 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-4CE34430-360C-37A2-B472-8C4F98C2E6A1">RebuildFromConsumerPolicy</a>(<a href="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html">MSenConsumerPolicy</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-6D5B370E-EC2D-3375-A94D-AED67E037156">SetConsumerIapIdL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-D55AA459-D703-3BCA-9F6C-DA558E306C37">SetConsumerIdentityProviderIdsL</a>(<a href="GUID-CE575263-2A48-35DB-AE6B-25D950BA70A2.html">CSenIdentityProviderIdArray8</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>This abstract class defines consumer policy interface. The consumer policy sets the conditions in which some service provider is capable to operate in. It is defining context, through which these (possibly remote) services may be contacted and used. The actual properties may include transport layer settings, like predefined Internet Access Point (IAP) ID. In addition, consumer policy may declare, that certain service should only be contacted using certain identity provider (in ID-WSF). This can be achieved by mapping certain list of IDP IDs to a consumer policy. A consumer policy is effective only for a single session, and thus it applies to one service connection only. This means, that this policy information is "private", and not shared between different WSC applications using WSF, event though they might be using the same (remote) service at the same time. Consumer policy properties are not serialized in any WSF database, but resides in memory only.</p>

			<p>Example structure of ConsumerPolicy XML fragment:</p>

			<p>&lt;ConsumerPolicy&gt; &lt;Transport&gt; &lt;IapId&gt; 2 &lt;/IapId&gt; &lt;/Transport&gt; &lt;IdentityProviderIDs strict="false"&gt; &lt;IdentityProviderID&gt; urn:first.example.idp.com &lt;/IdentityProviderID&gt; &lt;IdentityProviderID&gt; urn:second.example.idp.com &lt;/IdentityProviderID&gt; &lt;/IdentityProviderIDs&gt; &lt;/ConsumerPolicy&gt;</p>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>Series60 3.0 </dd>

					
				</dl>

			</div>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-6305C19D-07D3-3CBD-888E-C5E4D5A20EE3"><a name="GUID-6305C19D-07D3-3CBD-888E-C5E4D5A20EE3"><!-- --></a>
		<a name="GUID-BD0B16F9-E6AB-31BF-B3CC-7FE28214CE03"><!----></a><h3 class="sectiontitle">AcceptsConsumerPolicy ( MSenConsumerPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>AcceptsConsumerPolicy</td><td>(</td><td><a href="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html">MSenConsumerPolicy</a> &amp;</td><td><span class="parameter">aPolicyPattern</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Checks if the policy of this service pattern accepts given policy. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPolicyPattern</td><td>the consumer policy to check.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">ETrue if accepts, EFalse if not </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-DA52E1A9-C3C8-3141-9510-72EC4A67C80C"><a name="GUID-DA52E1A9-C3C8-3141-9510-72EC4A67C80C"><!-- --></a>
		<a name="GUID-E6B19394-7D84-3327-81C7-FD02CFB98B02"><!----></a><h3 class="sectiontitle">AddConsumerIdentityProviderIdL ( const TDesC8 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>AddConsumerIdentityProviderIdL</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aProviderId</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Adds a new Identity provider ID value at the end of the current list values. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aProviderId</td><td>unique ProviderID as UTF-8 descriptor  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrAlreadyExists, if a duplicate is tried to add KErrArgument if a zero-length descriptor is tried to add (aProviderId.Length() == 0) </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-16F82A48-A821-30C5-8940-93765FCD5343"><a name="GUID-16F82A48-A821-30C5-8940-93765FCD5343"><!-- --></a>
		<a name="GUID-845F5D35-D5FB-3B0F-A1E5-766A2A2D068F"><!----></a><h3 class="sectiontitle">ConsumerIapId ( TUint32 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>ConsumerIapId</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a> &amp;</td><td><span class="parameter">aCurrentIapId</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Getter for IAP ID. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCurrentIapId</td><td>will contain the current Internet Access Point ID  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if &lt;IapId&gt; element is found and has valid contentKErrNotFound if no &lt;IapId&gt; element has been found or it has no contentTLex error codes, if &lt;IapId&gt; element has non-numeric value, which cannot be resolved </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F8BADB18-7F38-3676-B384-E18B6B0D62F6"><a name="GUID-F8BADB18-7F38-3676-B384-E18B6B0D62F6"><!-- --></a>
		<h3 class="sectiontitle">ConsumerIdentityProviderIds8L (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a href="GUID-CE575263-2A48-35DB-AE6B-25D950BA70A2.html">CSenIdentityProviderIdArray8</a> &amp;</td><td>ConsumerIdentityProviderIds8L</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Getter for Identity provider IDs. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">a list of IDP arrays if such value(s) have been set or an empty array if no IDP:s have been specified. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-4CE34430-360C-37A2-B472-8C4F98C2E6A1"><a name="GUID-4CE34430-360C-37A2-B472-8C4F98C2E6A1"><!-- --></a>
		<a name="GUID-71E9C788-2012-3BA6-9100-00ABD3E22A2B"><!----></a><h3 class="sectiontitle">RebuildFromConsumerPolicy ( MSenConsumerPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>RebuildFromConsumerPolicy</td><td>(</td><td><a href="GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html">MSenConsumerPolicy</a> &amp;</td><td><span class="parameter">aTemplate</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Rebuilds the consumer policy of this service pattern from the given consumer policy. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTemplate</td><td>the consumer policy to rebuild from.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone or other system-wide Symbian error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-6D5B370E-EC2D-3375-A94D-AED67E037156"><a name="GUID-6D5B370E-EC2D-3375-A94D-AED67E037156"><!-- --></a>
		<a name="GUID-CF12AAF2-CDFE-3BA6-A18D-6D3316733E83"><!----></a><h3 class="sectiontitle">SetConsumerIapIdL ( TUint32 )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetConsumerIapIdL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td><span class="parameter">aIapId</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Setter for Internet Access Point (IAP) ID existing in CommDB. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aIapId</td><td>IAP ID  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-D55AA459-D703-3BCA-9F6C-DA558E306C37"><a name="GUID-D55AA459-D703-3BCA-9F6C-DA558E306C37"><!-- --></a>
		<a name="GUID-10AE3486-7B31-3AA3-BB5C-9F5D55A23316"><!----></a><h3 class="sectiontitle">SetConsumerIdentityProviderIdsL ( CSenIdentityProviderIdArray8 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetConsumerIdentityProviderIdsL</td><td>(</td><td><a href="GUID-CE575263-2A48-35DB-AE6B-25D950BA70A2.html">CSenIdentityProviderIdArray8</a> &amp;</td><td><span class="parameter">aList</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Setter for consumer identity provider IDs. Overrides current values with the given values from the array. If an ID does not exist, it will be added. <dl class="since"><dt class="dlterm">Since</dt>
<dd>Series60 3.0 </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aList</td><td>list of identity provider IDs.  </td></tr></table></div>
</div>

	</div>

	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-CDFA7CF2-611E-3EB3-9B7C-B60FA1C3C89C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:47:30 GMT -->
</html>