<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:45 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CLbsPrivacyController"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CLbsPrivacyController</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091"><a name="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CLbsPrivacyController Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;lbs/lbsprivacycontroller.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__linkagainst"><a name="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__linkagainst"><!-- --></a><p>Link against: lbsprivacycontroller.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CLbsPrivacyController : public CBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CLbsPrivacyController<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-3A1EFE5B-34DF-36C1-844F-178E01F76D0D">TRequestVerificationResult</a> { <a href="#GUID-9FAAE1DC-5FAB-3A11-AF6D-333E3505E436">ERequestUnknown</a>, <a href="#GUID-7FFF64EF-377B-3B39-8BD6-5BE18832D54C">ERequestAccepted</a>, <a href="#GUID-8EB27C2C-8085-3607-BF1C-4A2AD9651674">ERequestRejected</a>, <a href="#GUID-7CFE8A4B-75AF-3007-989B-030D7154D739">ERequestIgnore</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-3793CA5C-E865-33AF-B0A5-000A4DCB5324">~CLbsPrivacyController</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3725265B-DA28-33F4-BB40-86E990B9E5AD">CancelNetworkLocationRequest</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html">CLbsPrivacyController</a> *</td><td><a href="#GUID-89781F69-0C54-357C-8921-519D0AFABDF6">NewL</a>(<a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html">MLbsPrivacyObserver</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-39B82467-C69A-3404-BAA2-F473004CB05D">RespondNetworkLocationRequest</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html">TRequestVerificationResult</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>An application can use this class to register itself as the user privacy controller for the LBS system.</p>

			<p>The application must supply an implementation of the <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D">MLbsPrivacyObserver</a> interface so that it can be notified of important events.</p>

			<p>When it receives the <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-745FFD2B-FCF6-3BDA-8820-A0CDF3EDDCB0">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</a> notification it must reply by calling <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-39B82467-C69A-3404-BAA2-F473004CB05D">CLbsPrivacyController::RespondNetworkLocationRequest()</a> to tell the LBS system the user response to the network location request.</p>

			<p>If the request was accepted then the application will recieve more notifications: 1) <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-23745A00-8707-3064-B546-E5749841E42D">MLbsPrivacyObserver::ProcessNetworkPositionUpdate()</a> with the reference position when the assistance data is received from the network. 2) <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-23745A00-8707-3064-B546-E5749841E42D">MLbsPrivacyObserver::ProcessNetworkPositionUpdate()</a> with the calculated position when it is sent back to the network. 3) MLbsPrivacyObserver::ProcessRequestCompleted() when the application no longer needs to listen to notifications for that request.</p>

			<p>Each notification contains aRequestId, which identifies each network location request within the LBS system. It is meant to be used so that each of the different notifications can be matched to the request they came from. </p>

		</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-3A1EFE5B-34DF-36C1-844F-178E01F76D0D"><a name="GUID-3A1EFE5B-34DF-36C1-844F-178E01F76D0D"><!-- --></a>
		<h3 class="sectiontitle">Enum TRequestVerificationResult</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>The user response to the network location request dialog. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-9FAAE1DC-5FAB-3A11-AF6D-333E3505E436"/><span class="enumerator">ERequestUnknown</span></td><td>0</td><td>
							<p>Unused request. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-7FFF64EF-377B-3B39-8BD6-5BE18832D54C"/><span class="enumerator">ERequestAccepted</span></td><td/><td>
							<p>Request accepted (permission granted). </p>

						 </td></tr><tr><td><a name="GUID-8EB27C2C-8085-3607-BF1C-4A2AD9651674"/><span class="enumerator">ERequestRejected</span></td><td/><td>
							<p>Request rejected (permission denied). </p>

						 </td></tr><tr class="bg"><td><a name="GUID-7CFE8A4B-75AF-3007-989B-030D7154D739"/><span class="enumerator">ERequestIgnore</span></td><td/><td>
							<p>Tell the Lbs system to ignore the request. Currently not implemented. </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-3793CA5C-E865-33AF-B0A5-000A4DCB5324"><a name="GUID-3793CA5C-E865-33AF-B0A5-000A4DCB5324"><!-- --></a>
		<h3 class="sectiontitle">~CLbsPrivacyController (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>~CLbsPrivacyController</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Standard C++ destructor  </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-3725265B-DA28-33F4-BB40-86E990B9E5AD"><a name="GUID-3725265B-DA28-33F4-BB40-86E990B9E5AD"><!-- --></a>
		<a name="GUID-C2FC9C84-DB18-3741-BD2F-AC214D679A13"><!----></a><h3 class="sectiontitle">CancelNetworkLocationRequest ( TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CancelNetworkLocationRequest</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aRequestId</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Force the LBS system to cancel a currently running network location request, or to reject a request which has not yet been answered.</p>

				<p>If this function is called after <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-39B82467-C69A-3404-BAA2-F473004CB05D">CLbsPrivacyController::RespondNetworkLocationRequest()</a> then the LBS system will send a KErrCancel error in the next network Measurement Control message.</p>

				<p>If this function is called before the request has been accepted (by a call to <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-39B82467-C69A-3404-BAA2-F473004CB05D">CLbsPrivacyController::RespondNetworkLocationRequest()</a>) the effect is the same as a call to <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-39B82467-C69A-3404-BAA2-F473004CB05D">CLbsPrivacyController::RespondNetworkLocationRequest()</a> with the value ERequestRejected.</p>

				<p>If aRequestId is not a currently active external location request then the call is ignored.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ECapabilityLocation, ECapabilityWriteDeviceData </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aRequestId</td><td>The Id of the network location request (MT-LR) to cancel. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-89781F69-0C54-357C-8921-519D0AFABDF6"><a name="GUID-89781F69-0C54-357C-8921-519D0AFABDF6"><!-- --></a>
		<a name="GUID-DB38D39A-780E-3F36-BD02-E770AC1C513B"><!----></a><h3 class="sectiontitle">NewL ( MLbsPrivacyObserver &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html">CLbsPrivacyController</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html">MLbsPrivacyObserver</a> &amp;</td><td><span class="parameter">aObserver</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section apidesc">
				<p>Standard Symbian OS two-phase constructor.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ECapabilityLocation, ECapabilityReadDeviceData </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aObserver</td><td>Reference to an observer that will be notified when a network location request is recieved by the LBS system.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A new CLbsPrivacyController object.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-39B82467-C69A-3404-BAA2-F473004CB05D"><a name="GUID-39B82467-C69A-3404-BAA2-F473004CB05D"><!-- --></a>
		<a name="GUID-D3C37C92-5609-31F1-82AB-01AEC99671BB"><!----></a><h3 class="sectiontitle">RespondNetworkLocationRequest ( TUint, TRequestVerificationResult )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RespondNetworkLocationRequest</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aRequestId</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html">TRequestVerificationResult</a></td><td><span class="parameter">aResult</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>The application that is listening to network location requests must use this function to give the LBS system the response to the location request.</p>

				<p>The application is first notified of a network location request when MLbsObserver::ProcessNetworkLocationRequest is called. Then it can ask the user for verification if needed, or decide on its own. It must then use this function to tell the LBS system whether to accept or reject the network location request.</p>

				<p>The response can be one of the values of TRequestVerificationResult, usually it will either be ERequestAccepted or ERequestRejected.</p>

				<p/>

				<p>See also: <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-3A1EFE5B-34DF-36C1-844F-178E01F76D0D">CLbsPrivacyController::TRequestVerificationResult</a> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-745FFD2B-FCF6-3BDA-8820-A0CDF3EDDCB0">MLbsPrivacyObserver::ProcessNetworkLocationRequest</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>ECapabilityLocation, ECapabilityWriteDeviceData </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aRequestId</td><td>Identifies the request within the LBS system.  </td></tr><tr class="bg"><td class="parameter">aResult</td><td>The response to the network location request. </td></tr></table></div>
</div>

	</div>

	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:45 GMT -->
</html>