<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0ABC00DB-068B-3757-855B-0849259F7793.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:04 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CResourceFile"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0ABC00DB-068B-3757-855B-0849259F7793"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CResourceFile</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-0ABC00DB-068B-3757-855B-0849259F7793"><a name="GUID-0ABC00DB-068B-3757-855B-0849259F7793"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CResourceFile Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;barsc2.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CResourceFile : public CBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CResourceFile<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual </td><td><a href="#GUID-6A0CC6A9-64BD-3376-A719-BB0AB4F8D9B5">~CResourceFile</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-DDAC1297-C800-3EE4-B4CB-0546C5DF160A">AllocReadL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-9D6CACB7-1C0D-3CF1-A630-CB010C1C392D">AllocReadLC</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3D859DAD-F099-34C7-B25A-F0498C899FDD">ConfirmSignatureL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245">ConfirmSignatureL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td><a href="#GUID-377F50C0-5D2C-3F94-B7E6-6F3B59A87DFD">NewL</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td><a href="#GUID-2126E140-8A74-32A9-95FB-8FEA8CCC9F54">NewL</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td><a href="#GUID-F1047ABA-1D17-3512-B70A-27ADEA889509">NewLC</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8659A82E-7CDB-3548-9575-7675F7EA5971">Offset</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-5ADFB73A-AA3A-3F83-85E4-666DDBB3C84B">OwnsResourceIdL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2C5CEE23-874A-3893-8A61-8A52D52E6874">ReadL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-74C651FE-29BA-35F1-85BA-ABC4ED735D09">SignatureL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-B6D6B0AD-B15C-339A-8540-40540885089A.html">TUidType</a></td><td><a href="#GUID-8E73BD66-AF0D-3343-AA83-5FAF5E231980">UidType</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Accesses a resource file or resource file buffer and reads the resource data into a buffer.</p>

			<p>Interpretation of the data is achieved using the <a href="GUID-E468FC5F-0392-3385-887A-C5AB0E0009CC.html#GUID-E468FC5F-0392-3385-887A-C5AB0E0009CC">RResourceReader</a> class. <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-0ABC00DB-068B-3757-855B-0849259F7793">CResourceFile</a> methods behaviour when some problem occurs - it leaves with an error code. Most of the time the error code will be KErrCorrupt.</p>

			<p/>

			<p>See also: <a href="GUID-E468FC5F-0392-3385-887A-C5AB0E0009CC.html#GUID-E468FC5F-0392-3385-887A-C5AB0E0009CC">RResourceReader</a> </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-6A0CC6A9-64BD-3376-A719-BB0AB4F8D9B5"><a name="GUID-6A0CC6A9-64BD-3376-A719-BB0AB4F8D9B5"><!-- --></a>
		<h3 class="sectiontitle">~CResourceFile (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CResourceFile</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section apidesc">
				<p>Frees the resources, allocated by the instance. </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-DDAC1297-C800-3EE4-B4CB-0546C5DF160A"><a name="GUID-DDAC1297-C800-3EE4-B4CB-0546C5DF160A"><!-- --></a>
		<a name="GUID-7095B26F-CD08-3493-999A-F92683E38B64"><!----></a><h3 class="sectiontitle">AllocReadL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>AllocReadL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Reads a resource into a heap descriptor and returns a pointer to that descriptor.</p>

				<p>A heap descriptor of appropriate length is allocated for the resource. Ownership of the heap descriptor passes to the caller who must destroy it when it is no longer needed.</p>

				<p>The search for the resource uses the following algorithm:</p>

				<p>A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>

				<p>If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>

				<p>Note, do not call this function until a call to <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245">ConfirmSignatureL()</a> has completed successfully.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>The function leaves if this resource id is not in this resource file or the file is corrupted. </dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">RResourceFile::Offset()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">Pointer to a heap descriptor containing the resource. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9D6CACB7-1C0D-3CF1-A630-CB010C1C392D"><a name="GUID-9D6CACB7-1C0D-3CF1-A630-CB010C1C392D"><!-- --></a>
		<a name="GUID-4BB1331E-EA66-3DFF-ADA5-42783522539A"><!----></a><h3 class="sectiontitle">AllocReadLC ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>AllocReadLC</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Reads a resource into a heap descriptor, returns a pointer to that descriptor and pushes the pointer onto the cleanup stack.</p>

				<p>A heap descriptor of appropriate length is allocated for the resource. Ownership of the heap descriptor passes to the caller who must destroy it and pop its pointer off the cleanup stack when it is no longer needed.</p>

				<p>The search for the resource uses the following algorithm:</p>

				<p>A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>

				<p>If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>

				<p>Note, do not call this function until a call to <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245">ConfirmSignatureL()</a> has completed successfully.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>The function leaves if this resource id is not in this resource file or the file is corrupted. </dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-31031F6E-65DF-3267-AF6A-67B0A215B6AB">RResourceFile::Offset()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">Pointer to a heap descriptor containing the resource. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-3D859DAD-F099-34C7-B25A-F0498C899FDD"><a name="GUID-3D859DAD-F099-34C7-B25A-F0498C899FDD"><!-- --></a>
		<h3 class="sectiontitle">ConfirmSignatureL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConfirmSignatureL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSignature</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initialises the offset value from the first resource.</p>

				<p>The function assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number and the second is a self-referencing link whose value is the offset for the resources in the file, plus 1.This function must be called before calling <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-8659A82E-7CDB-3548-9575-7675F7EA5971">Offset()</a>, <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-DDAC1297-C800-3EE4-B4CB-0546C5DF160A">AllocReadL()</a>, <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D6CACB7-1C0D-3CF1-A630-CB010C1C392D">AllocReadLC()</a> or <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-2C5CEE23-874A-3893-8A61-8A52D52E6874">ReadL()</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>The function leaves if this resource id is not in this resource file or the file is corrupted. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSignature</td><td>This argument value is not used by the function.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245"><a name="GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245"><!-- --></a>
		<h3 class="sectiontitle">ConfirmSignatureL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConfirmSignatureL</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initialises the offset value from the first resource.</p>

				<div class="p">The function tests to catch cases where the first resource is not an RSS_SIGNATURE. It assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number and the second is a self-referencing link whose value is the offset for the resources in the file, plus 1.This function must be called before calling <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-8659A82E-7CDB-3548-9575-7675F7EA5971">Offset()</a>, <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-DDAC1297-C800-3EE4-B4CB-0546C5DF160A">AllocReadL()</a>, <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D6CACB7-1C0D-3CF1-A630-CB010C1C392D">AllocReadLC()</a> or <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-2C5CEE23-874A-3893-8A61-8A52D52E6874">ReadL()</a>. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>The function leaves if this resource id is not in this resource file or the file is corrupted. </dd>
</dl>
</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-377F50C0-5D2C-3F94-B7E6-6F3B59A87DFD"><a name="GUID-377F50C0-5D2C-3F94-B7E6-6F3B59A87DFD"><!-- --></a>
		<a name="GUID-C29A9063-7B68-379F-A166-FD8996AFCBDC"><!----></a><h3 class="sectiontitle">NewL ( RFs &amp;, const TDesC &amp;, TUint, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFileOffset</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFileSize</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Creates <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-0ABC00DB-068B-3757-855B-0849259F7793">CResourceFile</a> instance. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrCorrupt if the file is corrupted. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNoMemory if there is not enough memory for the object. </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>File to open as a resource file.  </td></tr><tr><td class="parameter">aFileOffset</td><td>The resource file section offset from the beginning of the file.  </td></tr><tr class="bg"><td class="parameter">aFileSize</td><td>The resource file section size.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-2126E140-8A74-32A9-95FB-8FEA8CCC9F54"><a name="GUID-2126E140-8A74-32A9-95FB-8FEA8CCC9F54"><!-- --></a>
		<h3 class="sectiontitle">NewL ( const TDesC8 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td>NewL</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aRscFileBuffer</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Creates <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-0ABC00DB-068B-3757-855B-0849259F7793">CResourceFile</a> instance. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrCorrupt if the file buffer is corrupted. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNoMemory if there is not enough memory for the object. </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aRscFileBuffer</td><td>a buffer containing one entire resource file  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">a CResourceFile instance corresponding to the rsc file passed through the file buffer </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F1047ABA-1D17-3512-B70A-27ADEA889509"><a name="GUID-F1047ABA-1D17-3512-B70A-27ADEA889509"><!-- --></a>
		<a name="GUID-094B637E-027D-36B6-97A5-F3C47A507403"><!----></a><h3 class="sectiontitle">NewLC ( RFs &amp;, const TDesC &amp;, TUint, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html">CResourceFile</a> *</td><td>NewLC</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFileOffset</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFileSize</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Creates <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-0ABC00DB-068B-3757-855B-0849259F7793">CResourceFile</a> instance. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrCorrupt if the file is corrupted. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNoMemory if there is not enough memory for the object. </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>File to open as a resource file.  </td></tr><tr><td class="parameter">aFileOffset</td><td>The resource file section offset from the beginning of the file.  </td></tr><tr class="bg"><td class="parameter">aFileSize</td><td>The resource file section size.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-8659A82E-7CDB-3548-9575-7675F7EA5971"><a name="GUID-8659A82E-7CDB-3548-9575-7675F7EA5971"><!-- --></a>
		<h3 class="sectiontitle">Offset (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Offset</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the offset value defined for this resource file.</p>

				<p>This function must not be called until a call to <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245">ConfirmSignatureL()</a> has completed successfully, otherwise the value returned by this function may be meaningless. </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The offset value defined for this resource file. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-5ADFB73A-AA3A-3F83-85E4-666DDBB3C84B"><a name="GUID-5ADFB73A-AA3A-3F83-85E4-666DDBB3C84B"><!-- --></a>
		<a name="GUID-CC371AFE-7AE3-321F-9392-B3556300692F"><!----></a><h3 class="sectiontitle">OwnsResourceIdL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>OwnsResourceIdL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<div class="p">Tests whether the resource file owns the specified resource id. The resource file owns the resource id if the most significant 20 bits of the resource id are zero or match the offset value as returned from a call to the <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-8659A82E-7CDB-3548-9575-7675F7EA5971">Offset()</a> member function or if the resource id is not out of range. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrCorrupt - the file is corrupted. Some other error codes are possible. </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aResourceId</td><td>The resource id to test.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">True, if the resource file owns the id, false otherwise. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-2C5CEE23-874A-3893-8A61-8A52D52E6874"><a name="GUID-2C5CEE23-874A-3893-8A61-8A52D52E6874"><!-- --></a>
		<a name="GUID-39F72EE9-A4D9-3062-B511-721A636D80CB"><!----></a><h3 class="sectiontitle">ReadL ( TDes8 &amp;, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ReadL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aResourceId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section apidesc">
				<p>Reads a resource specified by resource id into the specified descriptor.</p>

				<p>The descriptor must be long enough to contain the entire resource</p>

				<p>The search for the resource uses the following algorithm:</p>

				<p>A resource id in the range 1 to 4095 is looked up in this resource file. The function leaves if there is no matching resource.</p>

				<p>If the resource id is greater than 4095, then the most significant 20 bits of the resource id is treated as an offset and the least significant 12 bits is treated as the real resource id. If the offset matches the offset value defined for this file, then the resource is looked up in this resource file using the real resource id (i.e. the least significant 12 bits). If the offset does not match, then the function leaves.</p>

				<p>Note, do not call this function until a call to <a href="GUID-0ABC00DB-068B-3757-855B-0849259F7793.html#GUID-9D9FF643-7B8A-38B0-9002-A492DFB81245">ConfirmSignatureL()</a> has completed successfully.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>The function leaves if this resource id is not in this resource file or the file is corrupted. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDes</td><td>On return, contains the resource that has been read. The function leaves if the descriptor is not long enough to contain the entire resource.  </td></tr><tr class="bg"><td class="parameter">aResourceId</td><td>The numeric id of the resource to be read. The function leaves if this resource id is not in this resource file.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-74C651FE-29BA-35F1-85BA-ABC4ED735D09"><a name="GUID-74C651FE-29BA-35F1-85BA-ABC4ED735D09"><!-- --></a>
		<h3 class="sectiontitle">SignatureL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SignatureL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns this resource file's version number.</p>

				<div class="p">The function assumes that the first resource in the file consists of two 32-bit integers. The first integer contains the version number. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrCorrupt - the file is corrupted. </dd>
</dl>
</div>

				<p>See also: <a href="GUID-AA6DEF11-6F23-3523-A9F7-F15DF918E1BA.html#GUID-3AC6312B-48CA-3FA2-AB81-FAE95E0D3334">RResourceFile::ConfirmSignatureL()</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The version number. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-8E73BD66-AF0D-3343-AA83-5FAF5E231980"><a name="GUID-8E73BD66-AF0D-3343-AA83-5FAF5E231980"><!-- --></a>
		<h3 class="sectiontitle">UidType (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-B6D6B0AD-B15C-339A-8540-40540885089A.html">TUidType</a></td><td>UidType</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns this resource file's UIDs.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The UIDs of the loaded resource file. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-0ABC00DB-068B-3757-855B-0849259F7793.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:04 GMT -->
</html>