<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:14 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RAllocator"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RAllocator</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"><a name="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RAllocator Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;e32cmn.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RAllocator : public MAllocator</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RAllocator<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator</a></li></ul></li></ul></div>
<div class="section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a href="GUID-8B88FE1A-A503-3538-8FAC-9D3370A96866.html">RAllocator::SCheckInfo</a></li><li><a href="GUID-21E631B4-8835-3421-93BE-F4CAA296D0E4.html">RAllocator::SRAllocatorBurstFail</a></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-8693B81F-1825-3C46-934B-21001592B7D7">iAccessCount</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986">iCellCount</a></td></tr><tr><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td><a href="#GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8">iFlags</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E">iHandleCount</a></td></tr><tr><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *</td><td><a href="#GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F">iHandles</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D">iTotalAllocSize</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-0D38AC11-9895-30BA-82E5-81B121694EFA">anonymous</a> { <a href="#GUID-4B385121-25B9-376D-88C9-6AE22209AA6E">EMaxHandles</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2">TAllocDebugOp</a> { <a href="#GUID-7BC80276-6F63-3BB8-91D9-B647408EF01C">ECount</a>, <a href="#GUID-1791E194-0770-3248-9560-9E1D43B19CD5">EMarkStart</a>, <a href="#GUID-B4C296BF-9757-3488-B949-8429A0E79111">EMarkEnd</a>, <a href="#GUID-91A85E58-E7A1-3F26-A326-EDFC01A04C62">ECheck</a>, ..., <a href="#GUID-A0148085-C5D2-31C5-BCFB-465E88D844A8">ESetBurstFail</a> }</td></tr><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">TAllocFail</a> { <a href="#GUID-04B70983-76EB-3403-A95B-863C69B2F8D1">ERandom</a>, <a href="#GUID-8BB975B1-7ECE-3471-B1CA-A5E00476977A">ETrueRandom</a>, <a href="#GUID-25FE0FF6-B7AA-343A-8DFF-286CCE715148">EDeterministic</a>, <a href="#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">ENone</a>, ..., <a href="#GUID-B7549259-DC11-3E6F-BA28-6E01A8AE9278">ECheckFailure</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4">TDbgHeapType</a> { <a href="#GUID-83D19649-745E-363A-8CFC-C06DC8857D40">EUser</a>, <a href="#GUID-8A1E289B-445A-3731-9F5E-E0617A148C0C">EKernel</a> }</td></tr><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1">TFlags</a> { <a href="#GUID-9A30D8C1-514E-35C8-B27B-E14FCB86F308">ESingleThreaded</a>, <a href="#GUID-DABE358D-4512-31D1-802D-C7C7650B7013">EFixedSize</a>, <a href="#GUID-96A4D0D5-8B02-3EDE-950E-CB34A8E550C6">ETraceAllocs</a>, <a href="#GUID-5F1ED39E-0C58-3DE3-A56A-0B3768C70112">EMonitorMemory</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB">TReAllocMode</a> { <a href="#GUID-EC01DD0B-D446-3F82-8F29-47769D31555D">ENeverMove</a>, <a href="#GUID-5F65E6BE-486A-3998-A311-92E63608275F">EAllowMoveOnShrink</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D">RAllocator</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0">AllocL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B">AllocLC</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C">AllocZ</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F">AllocZL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-C4ECC239-8292-33B2-802C-1DC661AA6371">Check</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-111DF97F-C729-335D-9D22-9F7D061E06A0">Count</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-93DE0816-84BC-3B21-9C57-BE8FCC86C166">Count</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2AD25757-3BA3-37E5-A904-5E297CE9FC84">FreeZ</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136">Open</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-46AFFCAE-7408-3921-89BE-B7EFA77FF147">ReAllocL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><a href="#GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9">__DbgCheckFailure</a>()</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A7F3D701-F6A3-3D06-9AFA-0CAF2B1AC202">__DbgMarkCheck</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-57D12A49-8CAA-34A0-B4F5-9FC39144FB6B">__DbgMarkCheck</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td><a href="#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart</a>()</td></tr><tr class="bg"><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3">__DbgSetAllocFail</a>(<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">UIMPORT_C void</td><td><a href="#GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F">__DbgSetBurstAllocFail</a>(<a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED">DoClose</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5F5D42AC-F086-3A29-A640-E72B2B3F4CB7">Extension_</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Alloc(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocLen(const TAny *)const</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocSize(TInt &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Available(TInt &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Compress()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::DebugFunction(TInt,TAny *,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Free(TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::ReAlloc(TAny *,TInt,TInt)</a></td></tr><tr><td> </td><td><a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Reset()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Base class for heaps. </p>

		</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="nested1" id="GUID-8693B81F-1825-3C46-934B-21001592B7D7"><a name="GUID-8693B81F-1825-3C46-934B-21001592B7D7"><!-- --></a>
		<h3 class="sectiontitle">iAccessCount</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iAccessCount</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<div class="nested1" id="GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986"><a name="GUID-D39A4CBD-EAAF-3940-B560-FF6F2E283986"><!-- --></a>
		<h3 class="sectiontitle">iCellCount</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iCellCount</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<div class="nested1" id="GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8"><a name="GUID-A6F14496-5212-3E2B-B713-6CFED289F4B8"><!-- --></a>
		<h3 class="sectiontitle">iFlags</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td>iFlags</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<div class="nested1" id="GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E"><a name="GUID-129E62EC-9488-3C75-A210-D4236C1D3A9E"><!-- --></a>
		<h3 class="sectiontitle">iHandleCount</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iHandleCount</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<div class="nested1" id="GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F"><a name="GUID-830DB5F7-21D4-3079-B192-CBDC6B52051F"><!-- --></a>
		<h3 class="sectiontitle">iHandles</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> *</td><td>iHandles</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<div class="nested1" id="GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D"><a name="GUID-9C739C3C-AEDF-37DD-8545-8532EA42B16D"><!-- --></a>
		<h3 class="sectiontitle">iTotalAllocSize</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iTotalAllocSize</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-0D38AC11-9895-30BA-82E5-81B121694EFA"><a name="GUID-0D38AC11-9895-30BA-82E5-81B121694EFA"><!-- --></a>
		<h3 class="sectiontitle">Enum anonymous</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc"/>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-4B385121-25B9-376D-88C9-6AE22209AA6E"/><span class="enumerator">EMaxHandles</span></td><td>32</td><td> </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2"><a name="GUID-7F212557-7D30-32A3-AFC0-564E25D9DBA2"><!-- --></a>
		<h3 class="sectiontitle">Enum TAllocDebugOp</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc"/>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-7BC80276-6F63-3BB8-91D9-B647408EF01C"/><span class="enumerator">ECount</span></td><td/><td> </td></tr><tr class="bg"><td><a name="GUID-1791E194-0770-3248-9560-9E1D43B19CD5"/><span class="enumerator">EMarkStart</span></td><td/><td> </td></tr><tr><td><a name="GUID-B4C296BF-9757-3488-B949-8429A0E79111"/><span class="enumerator">EMarkEnd</span></td><td/><td> </td></tr><tr class="bg"><td><a name="GUID-91A85E58-E7A1-3F26-A326-EDFC01A04C62"/><span class="enumerator">ECheck</span></td><td/><td> </td></tr><tr><td><a name="GUID-39BBBD54-7E6C-37D4-9CDF-0245B95C911D"/><span class="enumerator">ESetFail</span></td><td/><td> </td></tr><tr class="bg"><td><a name="GUID-0762AF09-5608-387C-A399-48ADFB2EE998"/><span class="enumerator">ECopyDebugInfo</span></td><td/><td> </td></tr><tr><td><a name="GUID-A0148085-C5D2-31C5-BCFB-465E88D844A8"/><span class="enumerator">ESetBurstFail</span></td><td/><td> </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-8CFF7241-B844-32EC-B7BE-838D18287134"><a name="GUID-8CFF7241-B844-32EC-B7BE-838D18287134"><!-- --></a>
		<h3 class="sectiontitle">Enum TAllocFail</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>A set of heap allocation failure flags.</p>

				<p>This enumeration indicates how to simulate heap allocation failure.</p>

				<p/>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3">RAllocator::__DbgSetAllocFail()</a> </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-04B70983-76EB-3403-A95B-863C69B2F8D1"/><span class="enumerator">ERandom</span></td><td/><td>
							<p>Attempts to allocate from this heap fail at a random rate; however, the interval pattern between failures is the same every time simulation is started. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-8BB975B1-7ECE-3471-B1CA-A5E00476977A"/><span class="enumerator">ETrueRandom</span></td><td/><td>
							<p>Attempts to allocate from this heap fail at a random rate. The interval pattern between failures may be different every time the simulation is started. </p>

						 </td></tr><tr><td><a name="GUID-25FE0FF6-B7AA-343A-8DFF-286CCE715148"/><span class="enumerator">EDeterministic</span></td><td/><td>
							<p>Attempts to allocate from this heap fail at a rate aRate; for example, if aRate is 3, allocation fails at every third attempt. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-1C2F27E9-2658-39EE-90E1-E8320858815E"/><span class="enumerator">ENone</span></td><td/><td>
							<p>Cancels simulated heap allocation failure. </p>

						 </td></tr><tr><td><a name="GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2"/><span class="enumerator">EFailNext</span></td><td/><td>
							<p>An allocation from this heap will fail after the next aRate - 1 allocation attempts. For example, if aRate = 1 then the next attempt to allocate from this heap will fail. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-4B321047-AE40-3C07-963D-66A962AFA0BE"/><span class="enumerator">EReset</span></td><td/><td>
							<p>Cancels simulated heap allocation failure, and sets the nesting level for all allocated cells to zero. </p>

						 </td></tr><tr><td><a name="GUID-8EDEAF92-9AB8-3753-A443-C2EAECE96413"/><span class="enumerator">EBurstRandom</span></td><td/><td>
							<p>aBurst allocations from this heap fail at a random rate; however, the interval pattern between failures is the same every time the simulation is started. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-8A53795A-B004-3710-8212-029B3DEE9FF3"/><span class="enumerator">EBurstTrueRandom</span></td><td/><td>
							<p>aBurst allocations from this heap fail at a random rate. The interval pattern between failures may be different every time the simulation is started. </p>

						 </td></tr><tr><td><a name="GUID-7CBF75D3-6C45-3373-8731-BABE01D3FE13"/><span class="enumerator">EBurstDeterministic</span></td><td/><td>
							<p>aBurst allocations from this heap fail at a rate aRate. For example, if aRate is 10 and aBurst is 2, then 2 allocations will fail at every tenth attempt. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7"/><span class="enumerator">EBurstFailNext</span></td><td/><td>
							<p>aBurst allocations from this heap will fail after the next aRate - 1 allocation attempts have occurred. For example, if aRate = 1 and aBurst = 3 then the next 3 attempts to allocate from this heap will fail. </p>

						 </td></tr><tr><td><a name="GUID-B7549259-DC11-3E6F-BA28-6E01A8AE9278"/><span class="enumerator">ECheckFailure</span></td><td/><td>
							<p>Use this to determine how many times the current debug failure mode has failed so far. </p>

							<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9">RAllocator::__DbgCheckFailure()</a> </p>

						 </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4"><a name="GUID-E602D71B-EFEA-3DC0-BBCE-9A4BF6FCE8E4"><!-- --></a>
		<h3 class="sectiontitle">Enum TDbgHeapType</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Heap debug checking type flag. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-83D19649-745E-363A-8CFC-C06DC8857D40"/><span class="enumerator">EUser</span></td><td/><td>
							<p>The heap is a user heap. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-8A1E289B-445A-3731-9F5E-E0617A148C0C"/><span class="enumerator">EKernel</span></td><td/><td>
							<p>The heap is the Kernel heap. </p>

						 </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1"><a name="GUID-3CDC738B-30F7-37F0-A4AF-B753E990ABD1"><!-- --></a>
		<h3 class="sectiontitle">Enum TFlags</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc"/>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-9A30D8C1-514E-35C8-B27B-E14FCB86F308"/><span class="enumerator">ESingleThreaded</span></td><td>1</td><td> </td></tr><tr class="bg"><td><a name="GUID-DABE358D-4512-31D1-802D-C7C7650B7013"/><span class="enumerator">EFixedSize</span></td><td>2</td><td> </td></tr><tr><td><a name="GUID-96A4D0D5-8B02-3EDE-950E-CB34A8E550C6"/><span class="enumerator">ETraceAllocs</span></td><td>4</td><td> </td></tr><tr class="bg"><td><a name="GUID-5F1ED39E-0C58-3DE3-A56A-0B3768C70112"/><span class="enumerator">EMonitorMemory</span></td><td>8</td><td> </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB"><a name="GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB"><!-- --></a>
		<h3 class="sectiontitle">Enum TReAllocMode</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Flags controlling reallocation. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-EC01DD0B-D446-3F82-8F29-47769D31555D"/><span class="enumerator">ENeverMove</span></td><td>1</td><td>
							<p>A reallocation of a cell must not change the start address of the cell. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-5F65E6BE-486A-3998-A311-92E63608275F"/><span class="enumerator">EAllowMoveOnShrink</span></td><td>2</td><td>
							<p>Allows the start address of the cell to change if the cell shrinks in size. </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D"><a name="GUID-ED5C8962-2FF1-3F9E-977B-E6F6C3EA070D"><!-- --></a>
		<h3 class="sectiontitle">RAllocator (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>RAllocator</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc"/>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0"><a name="GUID-E44A323E-1F7D-3B5A-88A5-47CC7013D6C0"><!-- --></a>
		<a name="GUID-B362A9CA-7578-3422-A4E2-E977A5DC8AE5"><!----></a><h3 class="sectiontitle">AllocL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Allocates a cell of specified size from the heap, and leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the allocated cell.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B"><a name="GUID-6D704C82-ED7E-33D8-B0DB-95F43088913B"><!-- --></a>
		<a name="GUID-11449C79-D7B5-34C4-9887-18D668F8BB1E"><!----></a><h3 class="sectiontitle">AllocLC ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocLC</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Allocates a cell of specified size from the heap, and, if successful, places a pointer to the cell onto the cleanup stack.</p>

				<p>The function leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the allocated cell.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C"><a name="GUID-A4BEF3FF-3FE2-310E-AD9A-431E2D9B195C"><!-- --></a>
		<a name="GUID-64756EE4-1A6A-33E3-B374-7E9FFC6AFCDE"><!----></a><h3 class="sectiontitle">AllocZ ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocZ</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Allocates a cell of specified size from the heap, and clears it to binary zeroes.</p>

				<p>If there is insufficient memory available on the heap from which to allocate a cell of the required size, the function returns NULL.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSize</td><td>The size of the cell to be allocated from the current thread's heap. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the allocated cell. NULL, if there is insufficient memory available.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F"><a name="GUID-2AA95BC4-D1B5-3A1B-AB3A-C20026BAE32F"><!-- --></a>
		<a name="GUID-7A989DED-66A0-38A7-931D-DE9B3E6E5D11"><!----></a><h3 class="sectiontitle">AllocZL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>AllocZL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Allocates a cell of specified size from the heap, clears it to binary zeroes, and leaves if there is insufficient memory in the heap.</p>

				<p>The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling Alloc(-1) raises this panic. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSize</td><td>The size of the cell to be allocated from the heap. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the allocated cell.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-C4ECC239-8292-33B2-802C-1DC661AA6371"><a name="GUID-C4ECC239-8292-33B2-802C-1DC661AA6371"><!-- --></a>
		<h3 class="sectiontitle">Check (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>Check</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Checks the validity of the heap.</p>

				<p>The function walks through the list of allocated cells and the list of free cells checking that this heap is consistent and complete.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47 if any corruption is found, specifically a bad allocated heap cell size. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 48 if any corruption is found, specifically a bad allocated heap cell address. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 49 if any corruption is found, specifically a bad free heap cell address. </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90"><a name="GUID-DF3C2502-B4A7-3088-A22D-B8F0D2194E90"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Closes this shared heap.</p>

				<p>Closing the heap decreases the heap's access count by one.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 57 if the access count has already reached zero. </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-111DF97F-C729-335D-9D22-9F7D061E06A0"><a name="GUID-111DF97F-C729-335D-9D22-9F7D061E06A0"><!-- --></a>
		<h3 class="sectiontitle">Count (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Count</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets the total number of cells allocated on the heap.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of cells allocated on the heap. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-93DE0816-84BC-3B21-9C57-BE8FCC86C166"><a name="GUID-93DE0816-84BC-3B21-9C57-BE8FCC86C166"><!-- --></a>
		<h3 class="sectiontitle">Count ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Count</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aFreeCount</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets the the total number of cells allocated, and the number of free cells, on the heap.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFreeCount</td><td>On return, contains the number of free cells on the heap. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of cells allocated on the heap. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED"><a name="GUID-8C2DD42D-2A1A-386E-805E-A1A4AD1ACAED"><!-- --></a>
		<h3 class="sectiontitle">DoClose (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DoClose</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section apidesc"/>
</div>

	</div>
<div class="nested1" id="GUID-5F5D42AC-F086-3A29-A640-E72B2B3F4CB7"><a name="GUID-5F5D42AC-F086-3A29-A640-E72B2B3F4CB7"><!-- --></a>
		<a name="GUID-4605F632-3B57-3C80-A8AE-ADDD46221D58"><!----></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section apidesc"/>
<div class="section parameters"/>
</div>

	</div>
<div class="nested1" id="GUID-2AD25757-3BA3-37E5-A904-5E297CE9FC84"><a name="GUID-2AD25757-3BA3-37E5-A904-5E297CE9FC84"><!-- --></a>
		<a name="GUID-F35A8F6B-5786-30CD-8159-6ECE1DE2C656"><!----></a><h3 class="sectiontitle">FreeZ ( TAny *&amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>FreeZ</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">aCell</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Frees the specified cell, returns it to the heap, and resets the pointer to NULL.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 42 if aCell is not NULL and does not point to a valid cell. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCell</td><td>A reference to a pointer to a valid cell to be freed. If NULL this function call will be ignored. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136"><a name="GUID-4B1A03D3-EFB2-3DE0-B310-E364670F5136"><!-- --></a>
		<h3 class="sectiontitle">Open (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Opens this heap for shared access.</p>

				<p>Opening the heap increases the heap's access count by one.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful; KErrGeneral, if the original valeu of the access count was not positive. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-46AFFCAE-7408-3921-89BE-B7EFA77FF147"><a name="GUID-46AFFCAE-7408-3921-89BE-B7EFA77FF147"><!-- --></a>
		<a name="GUID-BE89B643-4B0D-3931-AE60-11CDD7C87869"><!----></a><h3 class="sectiontitle">ReAllocL ( TAny *, TInt, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ReAllocL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aCell</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aMode</span> = 0</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Increases or decreases the size of an existing cell, and leaves if there is insufficient memory in the heap.</p>

				<p>If the cell is being decreased in size, then it is guaranteed not to move, and the function returns the pointer originally passed in aCell. Note that the length of the cell will be the same if the difference between the old size and the new size is smaller than the minimum cell size.</p>

				<p>If the cell is being increased in size, i.e. aSize is bigger than its current size, then the function tries to grow the cell in place. If successful, then the function returns the pointer originally passed in aCell. If unsuccessful, then:</p>

				<p>1. if the cell cannot be moved, i.e. aMode has the ENeverMove bit set, then the function leaves. 2. if the cell can be moved, i.e. aMode does not have the ENeverMove bit set, then the function tries to allocate a new replacement cell, and, if successful, returns a pointer to the new cell; if unsuccessful, it leaves.</p>

				<p>Note that in debug mode, the function leaves if the cell cannot be grown in place, regardless of whether the ENeverMove bit is set.</p>

				<p>If the reallocated cell is at a different location from the original cell, then the content of the original cell is copied to the reallocated cell.</p>

				<p>Note the following general points:</p>

				<p>1. If reallocation fails, the content of the original cell is preserved.</p>

				<p>2. The resulting size of the re-allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 42, if aCell is not NULL, and does not point to a valid cell. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>USER 47, if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling ReAlloc(someptr,-1) raises this panic.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB">RAllocator::TReAllocMode</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCell</td><td>A pointer to the cell to be reallocated. This may be NULL. </td></tr><tr class="bg"><td class="parameter">aSize</td><td>The new size of the cell. This may be bigger or smaller than the size of the original cell. </td></tr><tr><td class="parameter">aMode</td><td>Flags controlling the reallocation. The only bit which has any effect on this function is that defined by the enumeration ENeverMove of the enum RAllocator::TReAllocMode. If this is set, then any successful reallocation guarantees not to have changed the start address of the cell. By default, this parameter is zero. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the reallocated cell. This may be the same as the original pointer supplied through aCell.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9"><a name="GUID-2621CBDF-4711-3FD3-A36C-8C234FEFCDD9"><!-- --></a>
		<h3 class="sectiontitle">__DbgCheckFailure (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>__DbgCheckFailure</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Returns the number of heap allocation failures the current debug allocator fail function has caused so far.</p>

				<p>This is intended to only be used with fail types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a>, <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7">RAllocator::EBurstFailNext</a>, <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-25FE0FF6-B7AA-343A-8DFF-286CCE715148">RAllocator::EDeterministic</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-7CBF75D3-6C45-3373-8731-BABE01D3FE13">RAllocator::EBurstDeterministic</a>. The return value is unreliable for all other fail types.</p>

				<p/>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">RAllocator::TAllocFail</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of heap allocation failures the current debug fail function has caused.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A7F3D701-F6A3-3D06-9AFA-0CAF2B1AC202"><a name="GUID-A7F3D701-F6A3-3D06-9AFA-0CAF2B1AC202"><!-- --></a>
		<a name="GUID-EC714988-6E0A-33FF-993E-7B1859CBB24F"><!----></a><h3 class="sectiontitle">__DbgMarkCheck ( TBool, TInt, const TDesC8 &amp;, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>__DbgMarkCheck</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aCountAll</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aFileName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLineNum</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Checks the current number of allocated heap cells for this heap.</p>

				<p>If aCountAll is true, the function checks that the total number of allocated cells on this heap is the same as aCount. If aCountAll is false, then the function checks that the number of allocated cells at the current nested level is the same as aCount.</p>

				<p>If checking fails, the function raises a panic; information about the failure is put into the panic category; this takes the form:</p>

				<p>ALLOC COUNT\rExpected aaa\rAllocated bbb\rLn: ccc ddddd</p>

				<p>where</p>

				<p>1. aaaa is the value aCount</p>

				<p>2. bbbb is the number of allocated heap cells</p>

				<p>3. ccc is a line number, copied from aLineNum</p>

				<p>4. ddddd is a file name, copied from the descriptor aFileName</p>

				<p>Note that the panic number is 1.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCountAll</td><td>If true, the function checks that the total number of allocated cells on this heap is the same as aCount. If false, the function checks that the number of allocated cells at the current nested level is the same as aCount.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>The expected number of allocated cells.  </td></tr><tr><td class="parameter">aFileName</td><td>A filename; this is displayed as part of the panic category if the check fails.  </td></tr><tr class="bg"><td class="parameter">aLineNum</td><td>A line number; this is displayed as part of the panic category if the check fails. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful; otherwise one of the other system wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-57D12A49-8CAA-34A0-B4F5-9FC39144FB6B"><a name="GUID-57D12A49-8CAA-34A0-B4F5-9FC39144FB6B"><!-- --></a>
		<h3 class="sectiontitle">__DbgMarkCheck ( TBool, TInt, const TUint8 *, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>__DbgMarkCheck</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aCountAll</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td><span class="parameter">aFileName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLineNum</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section apidesc"/>
<div class="section parameters"/>
</div>

	</div>
<div class="nested1" id="GUID-6AD68815-874E-340C-A31F-D884C7B10D2E"><a name="GUID-6AD68815-874E-340C-A31F-D884C7B10D2E"><!-- --></a>
		<a name="GUID-01DFACF4-593D-333A-8E66-27A5AC365C44"><!----></a><h3 class="sectiontitle">__DbgMarkEnd ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td>__DbgMarkEnd</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCount</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Marks the end of heap cell checking at the current nested level for this heap.</p>

				<p>A call to this function should match an earlier call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a>. If there are more calls to this function than calls to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a>, then this function raises a USER 51 panic.</p>

				<p>The function checks that the number of heap cells allocated, at the current nested level, is aCount. The most common value for aCount is zero, reflecting the fact that most developers check that all memory allocated since a previous call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> has been freed.</p>

				<p>If the check fails, the function returns a pointer to the first orphaned heap cell.</p>

				<p/>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">RAllocator::__DbgMarkStart()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCount</td><td>The number of allocated heap cells expected. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the first orphaned heap cell, if verification fails; zero otherwise.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5"><a name="GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5"><!-- --></a>
		<h3 class="sectiontitle">__DbgMarkStart (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgMarkStart</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Marks the start of heap cell checking for this heap.</p>

				<p>If earlier calls to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> have been made, then this call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> marks the start of a new nested level of heap cell checking.</p>

				<p>Every call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> should be matched by a later call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd()</a> to verify that the number of heap cells allocated, at the current nested level, is as expected. This expected number of heap cells is passed to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">__DbgMarkEnd()</a> as a parameter; however, the most common expected number is zero, reflecting the fact that most developers check that all memory allocated since a previous call to <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-09B25DDD-23B0-32AB-8EFE-A7DBE78E7DF5">__DbgMarkStart()</a> has been freed.</p>

				<p/>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-6AD68815-874E-340C-A31F-D884C7B10D2E">RAllocator::__DbgMarkEnd()</a> </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3"><a name="GUID-F676C34C-7DF5-3B05-88D6-18127DE690A3"><!-- --></a>
		<a name="GUID-29F55F90-AA7B-3367-817B-38A92AD8B384"><!----></a><h3 class="sectiontitle">__DbgSetAllocFail ( TAllocFail, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgSetAllocFail</td><td>(</td><td><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a></td><td><span class="parameter">aType</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aRate</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Simulates a heap allocation failure for this heap.</p>

				<p>The failure occurs on subsequent calls to new or any of the functions which allocate memory from this heap.</p>

				<p>The timing of the allocation failure depends on the type of allocation failure requested, i.e. on the value of aType.</p>

				<p>The simulation of heap allocation failure is cancelled if aType is given the value <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>.</p>

				<p>Notes:</p>

				<p>1. If the failure type is <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a>, the next attempt to allocate from this heap fails; however, no further failures will occur.</p>

				<p>2. For failure types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>, set aRate to 1.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aType</td><td>An enumeration which indicates how to simulate heap allocation failure.  </td></tr><tr class="bg"><td class="parameter">aRate</td><td>The rate of failure; when aType is RAllocator::EDeterministic, heap allocation fails every aRate attempts  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F"><a name="GUID-891FA9F0-6252-3A70-B7DC-D64DB6209B9F"><!-- --></a>
		<a name="GUID-52C6E5BC-8DF9-33F2-AA36-5AA6AB90D748"><!----></a><h3 class="sectiontitle">__DbgSetBurstAllocFail ( TAllocFail, TUint, TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>__DbgSetBurstAllocFail</td><td>(</td><td><a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a></td><td><span class="parameter">aType</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aRate</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aBurst</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Simulates a burst of heap allocation failures for this heap.</p>

				<p>The failure occurs for aBurst allocations attempt via subsequent calls to new or any of the functions which allocate memory from this heap.</p>

				<p>The timing of the allocation failure depends on the type of allocation failure requested, i.e. on the value of aType.</p>

				<p>The simulation of heap allocation failure is cancelled if aType is given the value <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>.</p>

				<p>Notes:</p>

				<p>1. If the failure type is <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> or <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-521CC3A9-1D45-3687-83F9-B5089397DFB7">RAllocator::EBurstFailNext</a>, the next one or aBurst attempts to allocate from this heap will fail; however, no further failures will occur.</p>

				<p>2. For failure types <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-AB62FBA7-0D26-37A1-8477-AFA34B55B7A2">RAllocator::EFailNext</a> and <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-1C2F27E9-2658-39EE-90E1-E8320858815E">RAllocator::ENone</a>, set aRate to 1.</p>

				<p/>

				<p>See also: <a href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-8CFF7241-B844-32EC-B7BE-838D18287134">RAllocator::TAllocFail</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aType</td><td>An enumeration which indicates how to simulate heap allocation failure.  </td></tr><tr class="bg"><td class="parameter">aRate</td><td>The rate of failure; when aType is RAllocator::EDeterministic, heap allocation fails every aRate attempts.  </td></tr><tr><td class="parameter">aBurst</td><td>The number of consecutive heap allocations that will fail each time the allocations should fail. </td></tr></table></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:14 GMT -->
</html>