<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8D20A302-652A-307F-AEC1-6696032FA33C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:37:20 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MImURITranslator"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>MImURITranslator</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"><a name="GUID-8D20A302-652A-307F-AEC1-6696032FA33C"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">MImURITranslator Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;app/miutmsg.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class MImURITranslator</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-2074530C-05AE-39A9-9F8A-0BD5BB41CAE1">FindUniversalResourceIdentifierFileHandleL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-C3230E9C-BEF2-3858-A05C-ABC5FC53A210">FindUniversalResourceIdentifierL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual 
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-AC19642B-3BB5-3E21-AF78-2B88B6EF6BDD">GetUniversalResourceIdentifierFileHandle</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td><a href="#GUID-ACF45393-3324-3E3C-BD60-BDDBBCE46188">GetUniversalResourceIdentifierL</a>(<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Translates a URI in an MHTML message into a message body part file name.</p>

			<p>MHTML messages may contain multiple HTML body parts. Each of these body parts is able to reference another body part within the same multipart structure, or a body part within a parent multipart structure [RFC2110]. These references are called URI's.</p>

			<p>When an MHTML message is parsed by the message engine, the HTML body of each part is stored as a binary file. This interface provides a means of finding the file name of the body part that corresponds to a given a URI.</p>

			<p>The URI resolving process has the potential to become time consuming, therefore it is broken into two steps:</p>

			<p>Resolve asynchronously the relative URI into an absolute URI. The message body parts are recursively searched in order to find an absolute base for the relative URI [RFC2110, RFC1808].</p>

			<p>Once a relative URI has been resolved in to an absolute URI, then the message is searched for a body part that corresponds to it [RFC2110].</p>

			<p>If no matching body part can be found, then the absolute URI is returned to the caller in place of the filename. This absolute URI should be used to search for the required data externally, for example by using HTTP.</p>

			<p/>

			<p>See also: <a href="GUID-323E701E-EA22-3CC8-AE84-C16880608D44.html#GUID-323E701E-EA22-3CC8-AE84-C16880608D44">CImEmailMessage</a>   </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-2074530C-05AE-39A9-9F8A-0BD5BB41CAE1"><a name="GUID-2074530C-05AE-39A9-9F8A-0BD5BB41CAE1"><!-- --></a>
		<a name="GUID-E1232FE1-50CF-3A0D-9107-CE938BE7B363"><!----></a><h3 class="sectiontitle">FindUniversalResourceIdentifierFileHandleL ( TMsvId, const TDesC &amp;, const TDesC &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>FindUniversalResourceIdentifierFileHandleL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td><span class="parameter">aMessageId</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aBase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aURI</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Starts an asynchronous operation to resolve a specified URI.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aMessageId</td><td>The ID of the body part containing the URI which is to be resolved. CImEmailMessage::FindFirstHTMLPageFileHandleL() can be used to find the aMessageId parameter for the first HTML page in a message.  </td></tr><tr class="bg"><td class="parameter">aBase</td><td>The base parameter from the HTML part that contains the URI to be resolved. If there is no base parameter in the HTML, then an empty descriptor should be passed in.  </td></tr><tr><td class="parameter">aURI</td><td>The URI to be resolved.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous status word  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-C3230E9C-BEF2-3858-A05C-ABC5FC53A210"><a name="GUID-C3230E9C-BEF2-3858-A05C-ABC5FC53A210"><!-- --></a>
		<a name="GUID-462AB10C-66B3-3B84-99BE-39AD8229714D"><!----></a><h3 class="sectiontitle">FindUniversalResourceIdentifierL ( TMsvId, const TDesC &amp;, const TDesC &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>FindUniversalResourceIdentifierL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td><span class="parameter">aMessageId</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">rBase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">rURI</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Starts an asynchronous operation to resolve a specified URI.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aMessageId</td><td>The ID of the body part containing the URI which is to be resolved. CImEmailMessage::FindFirstHTMLPageL() can be used to find the aMessageId parameter for the first HTML page in a message.  </td></tr><tr class="bg"><td class="parameter">rBase</td><td>The base parameter from the HTML part that contains the URI to be resolved. If there is no base parameter in the HTML, then an empty descriptor should be passed in.  </td></tr><tr><td class="parameter">rURI</td><td>The URI to be resolved.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous status word  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-AC19642B-3BB5-3E21-AF78-2B88B6EF6BDD"><a name="GUID-AC19642B-3BB5-3E21-AF78-2B88B6EF6BDD"><!-- --></a>
		<a name="GUID-9C64CE7B-F13D-3BFC-AFF8-C95E70C2BBAB"><!----></a><h3 class="sectiontitle">GetUniversalResourceIdentifierFileHandle ( TMsvId &amp;, RFile &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetUniversalResourceIdentifierFileHandle</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;</td><td><span class="parameter">aLinkedEntryId</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td><span class="parameter">aFile</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Gets the results after a search.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aLinkedEntryId</td><td>On return, the message ID of the linked body part, providing one is found. Note that you should keep a record of the returned message ID as it is required for resolving any URI's that may be found in the linked body part. </td></tr><tr class="bg"><td class="parameter">aFile</td><td>On return, the file handle corresponding to the URI if successful. If not successful, then this is not valid. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful and therefore aFile contains the filehandle that corresponds to the URI. An error code if unsuccessful and therefore aFile is not valid. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-ACF45393-3324-3E3C-BD60-BDDBBCE46188"><a name="GUID-ACF45393-3324-3E3C-BD60-BDDBBCE46188"><!-- --></a>
		<a name="GUID-2169DB79-FE76-38A2-BF5A-50E061012676"><!----></a><h3 class="sectiontitle">GetUniversalResourceIdentifierL ( TMsvId &amp;, TBool &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td>GetUniversalResourceIdentifierL</td><td>(</td><td><a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> &amp;</td><td><span class="parameter">aLinkedEntryId</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> &amp;</td><td><span class="parameter">aFileFound</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Gets the results after a search.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aLinkedEntryId</td><td>On return, the message ID of the linked body part, providing one is found. Note that you should keep a record of the returned message ID as it is required for resolving any URI's that may be found in the linked body part.  </td></tr><tr class="bg"><td class="parameter">aFileFound</td><td>On return, true if a linked body part has been found. It is set to false otherwise.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">If successful, the filename that corresponds to the URI, or the absolute URI if no matching file can be found. If failed, NULL. </span></p></div>
</div>

	</div>

	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-8D20A302-652A-307F-AEC1-6696032FA33C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:37:21 GMT -->
</html>