<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RSqlSecurityPolicy"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RSqlSecurityPolicy</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"><a name="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RSqlSecurityPolicy Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;sqldb.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57__linkagainst"><a name="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57__linkagainst"><!-- --></a><p>Link against: sqldb.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RSqlSecurityPolicy</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">TObjectType</a> { <a href="#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">ETable</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">TPolicyType</a> { <a href="#GUID-A5FCEFC4-6ADE-37E6-A94E-F4DED49AA97C">ESchemaPolicy</a>, <a href="#GUID-7C46A711-A0DC-36D6-8432-6962AEE75EF0">EReadPolicy</a>, <a href="#GUID-7613A165-7AFC-3DC2-8836-8293336E6D7E">EWritePolicy</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-CAF9137F-7E96-3176-9695-A440AE9F5577">RSqlSecurityPolicy</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-18032374-C0E5-356C-9AF0-44B22D71D15D">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-4E4DDD39-7DA6-3952-932C-A76A2E5C7C56">Create</a>(const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A229B637-5042-3758-A8A5-58C084C25241">CreateL</a>(const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-EAD27EEA-48A2-3A91-89CB-79825A6C98C5">DbPolicy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4">DefaultPolicy</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F72E92FF-7447-3C14-9410-A007ADDCE638">ExternalizeL</a>(<a href="GUID-ADAC48A2-3D24-306B-9473-70201F4D351D.html">RWriteStream</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-25143697-1651-3CE7-AB2B-021AC3CD879E">InternalizeL</a>(<a href="GUID-81056EAD-722C-373F-A8CF-4CC67A5B4468.html">RReadStream</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-0C55F158-FAA9-331A-ADCE-AC55504721B2">Policy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9F1F4C4B-68DD-3BF6-81D2-EA2F65C9DD6B">SetDbPolicy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>, const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-15E5956A-C54A-3363-B94C-86DE656817E3">SetPolicy</a>(<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a>, const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>A container for the security policies for a shared SQL database.</p>

			<div class="p">The container can contain:<ul><li><p>security policies that apply to the database.</p>
</li>
<li><p>security policies that apply to individual database objects, i.e. database tables.</p>
</li>
</ul>
</div>

			<div class="p">For the database, you use <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-9F1F4C4B-68DD-3BF6-81D2-EA2F65C9DD6B">RSqlSecurityPolicy::SetDbPolicy()</a> to apply a separate security policy to:<ul><li><p>the database schema.</p>
</li>
<li><p>read activity on the database.</p>
</li>
<li><p>write activity on the database.</p>
</li>
</ul>
</div>

			<div class="p">For database tables, you use <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-15E5956A-C54A-3363-B94C-86DE656817E3">RSqlSecurityPolicy::SetPolicy()</a> to apply a separate security policy to:<ul><li><p>write activity on each named database table.</p>
</li>
<li><p>read activity on each named database table.</p>
</li>
</ul>
</div>

			<div class="p">A client uses a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object to create a secure database. It does this by:<ul><li><p>creating a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object.</p>
</li>
<li><p>setting all the appropriate security policies into it.</p>
</li>
<li><p>passing the object as an argument to <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-F4914663-613B-3B3E-A00B-8EFC634C3B27">RSqlDatabase::Create()</a>.</p>
</li>
<li><p>closing the <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object on return from <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-F4914663-613B-3B3E-A00B-8EFC634C3B27">RSqlDatabase::Create()</a>.</p>
</li>
</ul>
</div>

			<p>Once a secure shared database has been created with specific security policies, these policies are made persistent and cannot be changed during the life of that database.</p>

			<p>Security policies are encapsulated by <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> objects. The general usage pattern is to create the security policies container object (<a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a>) using a default security policy (<a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a>), and then to assign more specific 'overriding' security policies.</p>

			<p>The following code fragment shows how you do this:</p>

			<div class="p">
				<pre class="codeblock">TSecurityPolicy defaultPolicy;
RSqlSecurityPolicy securityPolicy;
RSqlDatabase database;
TInt err;

// Create security policies container object using a default security policy.
securityPolicy.Create(defaultPolicy); 

// Set up policy to apply to database schema
// and assign it
TSecurityPolicy schemaPolicy;
...
err = securityPolicy.SetDbPolicy(RSqlSecurityPolicy::ESchemaPolicy, schemaPolicy);

// Set up policy to apply to write activity on the database
// and assign it
TSecurityPolicy writePolicy;
...
err = securityPolicy.SetDbPolicy(RSqlSecurityPolicy::EWritePolicy, writePolicy);

// Set up policy to apply to write activity to the database table named "Table1"
// and assign it
TSecurityPolicy tablePolicy1;
...
err = securityPolicy.SetPolicy(RSqlSecurityPolicy::ETable, _L("Table1"), RSqlSecurityPolicy::EWritePolicy, tablePolicy1);

// Set up policy to apply to read activity to the database table named "Table2"
TSecurityPolicy tablePolicy2;
err = securityPolicy.SetPolicy(RSqlSecurityPolicy::ETable, _L("Table2"), RSqlSecurityPolicy::EReadPolicy, tablePolicy2);

// Create the database, passing the security policies
err = database.Create(KDatabaseName, securityPolicy);

// We can close the RSqlSecurityPolicy object.
securityPolicy.Close();</pre>

			</div>

			<p>Note that in this example code fragment, the client has not assigned specific overriding policies for all possible cases; for example, no overriding policy has been assigned to control read activity on the database, read activity on "Table1", nor write activity on "Table2". For these cases, the default security policy will apply.</p>

			<p>A client can also retrieve a database's security policies by calling <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-F65C91E7-F746-3EC4-B834-FB6761639B44">RSqlDatabase::GetSecurityPolicy()</a>; this returns a <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object containing the security policies. Note that it is the client's responsibility to close the <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> object when the client no longer needs it. The following code fragment suggests how you might do this:</p>

			<div class="p">
				<pre class="codeblock">RSqlDatabase database;
RSqlSecurityPolicy securityPolicy;

// Retrieve the security policies; on return from the call to 
// GetSecurityPolicy(), the RSqlSecurityPolicy object passed 
// to this function will contain the security policies.
database.GetSecurityPolicy(securityPolicy);
...
// This is the security policy that applies to database schema
TSecurityPolicy schemaPolicy = securityPolicy.DbPolicy(RSqlSecurityPolicy::ESchemaPolicy);
...
// This is the security policy that applies to write activity to the database
// table named "Table1".
TSecurityPolicy writePolicy = securityPolicy.Policy(RSqlSecurityPolicy::ETable, _L("Table1"), RSqlSecurityPolicy::EWritePolicy);
...
// Close the RSqlSecurityPolicy object when no longer needed.
securityPolicy.Close();</pre>

			</div>

			<p>Note that in the cases where an 'overriding' security policy was not originally assigned, then the security policy returned will simply be the default security policy.</p>

			<p>Note: The database security policies are used to control the access to the objects (tables, indexes, triggers, views) in the main database. The access to the temporary tables, indexes, etc. is not a subject of any restrictions, e.g. a client with "read" database security policy only can create and use temporary tables, views, indexes, triggers.</p>

			<p/>

			<p>See also: <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> <a href="GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF.html#GUID-4688F6B7-E1B0-37CF-BAA2-C6BD103D4FDF">RSqlDatabase</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-9F1F4C4B-68DD-3BF6-81D2-EA2F65C9DD6B">RSqlSecurityPolicy::SetDbPolicy()</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-15E5956A-C54A-3363-B94C-86DE656817E3">RSqlSecurityPolicy::SetPolicy()</a></p>

		</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377"><a name="GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377"><!-- --></a>
		<h3 class="sectiontitle">Enum TObjectType</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Not currently supported.</p>

				<p>Defines a set of values that represents the database objects which can be protected by database security policy types. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD"/><span class="enumerator">ETable</span></td><td/><td> </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1"><a name="GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1"><!-- --></a>
		<h3 class="sectiontitle">Enum TPolicyType</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Defines a set of values that represents the database security policy types. Each database security policy type refers to a set of capabilities encapsulated in a <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> object. The <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> object defines what capabilities the calling application must have in order to perform partiqular database operation. </p>

				<p>See also: <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a> </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-A5FCEFC4-6ADE-37E6-A94E-F4DED49AA97C"/><span class="enumerator">ESchemaPolicy</span></td><td/><td>
							<p>Schema database security policy. An application with schema database security policy can modify the database schema, write to database, read from database. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-7C46A711-A0DC-36D6-8432-6962AEE75EF0"/><span class="enumerator">EReadPolicy</span></td><td/><td>
							<p>Read database security policy. An application with read database security policy can read from database. </p>

						 </td></tr><tr><td><a name="GUID-7613A165-7AFC-3DC2-8836-8293336E6D7E"/><span class="enumerator">EWritePolicy</span></td><td/><td>
							<p>Write database security policy. An application with write database security policy can write to database. </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-CAF9137F-7E96-3176-9695-A440AE9F5577"><a name="GUID-CAF9137F-7E96-3176-9695-A440AE9F5577"><!-- --></a>
		<h3 class="sectiontitle">RSqlSecurityPolicy (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RSqlSecurityPolicy</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance data members with their default values.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-18032374-C0E5-356C-9AF0-44B22D71D15D"><a name="GUID-18032374-C0E5-356C-9AF0-44B22D71D15D"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Frees the allocated by <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance memory and other resources.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-4E4DDD39-7DA6-3952-932C-A76A2E5C7C56"><a name="GUID-4E4DDD39-7DA6-3952-932C-A76A2E5C7C56"><!-- --></a>
		<a name="GUID-3D4145B7-E0B7-38AE-AD97-C8D09B7BF30E"><!----></a><h3 class="sectiontitle">Create ( const TSecurityPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Create</td><td>(</td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td><span class="parameter">aDefaultPolicy</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance.</p>

				<p/>

				<p>See also: <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultPolicy</td><td>Default security policy which will be used for the database and all database objects. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, the operation has completed successfully; KErrNoMemory, an out of memory condition has occured. Note that database specific errors categorised as ESqlDbError, and other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A229B637-5042-3758-A8A5-58C084C25241"><a name="GUID-A229B637-5042-3758-A8A5-58C084C25241"><!-- --></a>
		<a name="GUID-6384AA5C-AF58-3B0B-AC4A-6E8E2A12E40E"><!----></a><h3 class="sectiontitle">CreateL ( const TSecurityPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CreateL</td><td>(</td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td><span class="parameter">aDefaultPolicy</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured. Note that database specific errors categorised as ESqlDbError, and other system-wide error codes may also be returned.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDefaultPolicy</td><td>Default security policy which will be used for the database and all database objects. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-EAD27EEA-48A2-3A91-89CB-79825A6C98C5"><a name="GUID-EAD27EEA-48A2-3A91-89CB-79825A6C98C5"><!-- --></a>
		<a name="GUID-46EF2C0F-3BAA-39AE-9516-6E6D371546A6"><!----></a><h3 class="sectiontitle">DbPolicy ( TPolicyType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>DbPolicy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td><span class="parameter">aPolicyType</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets a database security policy of the specified type.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPolicyType</td><td>Database security policy type: RSqlSecurityPolicy::ESchemaPolicy, RSqlSecurityPolicy::EReadPolicy, RSqlSecurityPolicy::EWritePolicy. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The requested database security policy.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4"><a name="GUID-31E7A5DE-0B70-3B1A-B7E7-815FE8154FC4"><!-- --></a>
		<h3 class="sectiontitle">DefaultPolicy (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>DefaultPolicy</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets the default database security policy.</p>

				<p/>

				<p>See also: <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The default security policy.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F72E92FF-7447-3C14-9410-A007ADDCE638"><a name="GUID-F72E92FF-7447-3C14-9410-A007ADDCE638"><!-- --></a>
		<a name="GUID-F071F045-4FDB-313C-9899-B17E4A4C2DE6"><!----></a><h3 class="sectiontitle">ExternalizeL ( RWriteStream &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ExternalizeL</td><td>(</td><td><a href="GUID-ADAC48A2-3D24-306B-9473-70201F4D351D.html">RWriteStream</a> &amp;</td><td><span class="parameter">aStream</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Externalizes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance to a write stream.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStream</td><td>Stream to which RSqlSecurityPolicy instance should be externalised. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-25143697-1651-3CE7-AB2B-021AC3CD879E"><a name="GUID-25143697-1651-3CE7-AB2B-021AC3CD879E"><!-- --></a>
		<a name="GUID-C1D53F1B-9EF8-3F49-BF66-B132AE4FB98A"><!----></a><h3 class="sectiontitle">InternalizeL ( RReadStream &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>InternalizeL</td><td>(</td><td><a href="GUID-81056EAD-722C-373F-A8CF-4CC67A5B4468.html">RReadStream</a> &amp;</td><td><span class="parameter">aStream</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Initializes <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57">RSqlSecurityPolicy</a> instance from a stream. In case of an error the original security policy data is preserved.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occured. Note that the function may leave with other system-wide error codes.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>None </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStream</td><td>A read stream containing the data with which the RSqlSecurityPolicy instance will be initialized. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-0C55F158-FAA9-331A-ADCE-AC55504721B2"><a name="GUID-0C55F158-FAA9-331A-ADCE-AC55504721B2"><!-- --></a>
		<a name="GUID-E3D02857-8E49-351E-BC6E-E67B25B0F976"><!----></a><h3 class="sectiontitle">Policy ( TObjectType, const TDesC &amp;, TPolicyType )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>Policy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a></td><td><span class="parameter">aObjectType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aObjectName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td><span class="parameter">aPolicyType</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section apidesc">
				<p>Gets a database object security policy of the specified type.</p>

				<p>If no security policy of the specified type exists for that database object - the default security policy will be returned.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectType value (It has to be <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">RSqlSecurityPolicy::ETable</a>). </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectName value (Null descriptor).</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">RSqlSecurityPolicy::TObjectType</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aObjectType</td><td>Database object type. At the moment there is only one database object type - RSqlSecurityPolicy::ETable.  </td></tr><tr class="bg"><td class="parameter">aObjectName</td><td>Database object name. It cannot be a null descriptor.  </td></tr><tr><td class="parameter">aPolicyType</td><td>Database object security policy type: RSqlSecurityPolicy::EReadPolicy, RSqlSecurityPolicy::EWritePolicy. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The requested security policy.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9F1F4C4B-68DD-3BF6-81D2-EA2F65C9DD6B"><a name="GUID-9F1F4C4B-68DD-3BF6-81D2-EA2F65C9DD6B"><!-- --></a>
		<a name="GUID-356F0CD3-2BDE-347A-B205-55429C89C089"><!----></a><h3 class="sectiontitle">SetDbPolicy ( TPolicyType, const TSecurityPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetDbPolicy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td><span class="parameter">aPolicyType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td><span class="parameter">aPolicy</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Sets a database security policy of a specific type.</p>

				<p>Sets database security policy (aPolicy argument) of aPolicyType type. If the aPolicyType database security policy has already been set then it will be replaced with the supplied policy.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPolicyType</td><td>Database security policy type: RSqlSecurityPolicy::ESchema, RSqlSecurityPolicy::ERead, RSqlSecurityPolicy::EWrite.  </td></tr><tr class="bg"><td class="parameter">aPolicy</td><td>The database security policy. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-15E5956A-C54A-3363-B94C-86DE656817E3"><a name="GUID-15E5956A-C54A-3363-B94C-86DE656817E3"><!-- --></a>
		<a name="GUID-FF5852B6-602D-3524-AF05-6DB93C23E6CC"><!----></a><h3 class="sectiontitle">SetPolicy ( TObjectType, const TDesC &amp;, TPolicyType, const TSecurityPolicy &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetPolicy</td><td>(</td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TObjectType</a></td><td><span class="parameter">aObjectType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aObjectName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html">TPolicyType</a></td><td><span class="parameter">aPolicyType</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a> &amp;</td><td><span class="parameter">aPolicy</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Sets a database object security policy of a specific type.</p>

				<p>If there is no entry in the security policy container for the object with aObjectName name, then a new entry for this object will be created and all object security policies will be initialized with the default security policy. The specific database object policy, refered by aPolicyType parameter, will be set after that.</p>

				<p>If an entry for aObjectName object already exists, its security policy of "aPolicyType" type will be reinitialized with the data of aPolicy parameter.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aPolicyType value. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectType value (It has to be <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-DFFB81AE-5A8A-3EAA-A6CB-230B64058DCD">RSqlSecurityPolicy::ETable</a>). </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>SqlDb 4 Invalid aObjectName value (Null descriptor).</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-CF0B9C69-91DD-34A2-AF72-EADD08DE6377">RSqlSecurityPolicy::TObjectType</a> <a href="GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html#GUID-7E17DFB5-293D-3B9E-A8D7-1DF82B357BA1">RSqlSecurityPolicy::TPolicyType</a> <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html#GUID-81A285F6-3F87-3E77-9426-61BB16BC7109">TSecurityPolicy</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>None </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aObjectType</td><td>Database object type. At the moment there is only one database object type - RSqlSecurityPolicy::ETable.  </td></tr><tr class="bg"><td class="parameter">aObjectName</td><td>Database object name. It cannot be a null descriptor.  </td></tr><tr><td class="parameter">aPolicyType</td><td>Database object security policy type: RSqlSecurityPolicy::EReadPolicy, RSqlSecurityPolicy::EWritePolicy.  </td></tr><tr class="bg"><td class="parameter">aPolicy</td><td>Database security policy. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, the operation has completed successfully; KErrNoMemory, an out of memory condition has occured.</span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-56C52D43-C4A9-3B31-B154-CA1E77693F57.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
</html>