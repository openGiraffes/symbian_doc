<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:41 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RDirectScreenAccess"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RDirectScreenAccess</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77"><a name="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RDirectScreenAccess Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;w32std.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77__linkagainst"><a name="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77__linkagainst"><!-- --></a><p>Link against: ws32_nga.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RDirectScreenAccess : public MWsClientClass</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RDirectScreenAccess<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-A7289852-8768-3252-A71F-8656C1C6CFF8">TPriority</a> { <a href="#GUID-4CCF142B-C315-3A71-B30B-27B5BC5809D9">EPriorityVeryHigh</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-EB2AF175-BE28-3F31-BBB0-9AC828DBB746">TTerminationReasons</a> { <a href="#GUID-36E146AA-DA29-3C55-B4EE-B38F2E17D089">ETerminateCancel</a>, <a href="#GUID-4A7E6CB3-7E8F-3C8C-9AEF-EB112DC70B01">ETerminateRegion</a>, <a href="#GUID-922A44B2-0A2A-3B63-867E-A4371EAA7E7D">ETerminateScreenMode</a>, <a href="#GUID-7F37B537-40B8-3718-8484-C10DD1C1C3DF">ETerminateRotation</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-3DDBAA9A-C54A-3DED-B26C-C3E1A282F724">RDirectScreenAccess</a>()</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-849248A4-00B5-32C5-9C05-A8C581543F9A">RDirectScreenAccess</a>(<a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html">RWsSession</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-674EAE59-7141-3AF9-9D5D-736F70EAB85E">Cancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-21F153B4-99B7-3909-817A-EAFD05F2F0C7">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8E42A936-8598-3474-9AED-D7204229D972">Completed</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-64467B92-6B29-3450-A5BD-759414CF69B8">Construct</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D03F4122-EFF6-37DA-B655-6513C966F9F7">Construct</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6842AE05-8657-3434-B081-F939638F99B7">Request</a>(<a href="GUID-347DE2AF-9FE5-3D7D-9007-7B22CAC6E7CF.html">RRegion</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, const <a href="GUID-1460DD8F-9AA1-3B99-8FFD-F309959CCA34.html">RWindowBase</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::iBuffer</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::iWsHandle</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::AddToBitmapArray(const TInt)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::AsyncRequest(TRequestStatus &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::CachedWindowSize(TSize &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::DestroyWindowNativeSizeCacheEntry()</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::DestroyWindowSizeCacheEntry()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::EnableWindowNativeSizeCacheL()</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::MWsClientClass()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::MWsClientClass(RWsBuffer *)</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::MarkWindowSizeCacheDirty()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::RefreshWindowSizeCache(const TSize &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::SetWindowNativeSize(const TSize &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WindowNativeSize(TSize &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WindowNativeSizeCacheEnabled()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WindowSizeCacheEnabled()const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::Write(TUint)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::Write(const TAny *,TInt,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::Write(const TAny *,TInt,const TAny *,TInt,TUint)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteInt(TInt,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WritePoint(const TPoint &amp;,TUint)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteRect(const TRect &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReply(TUint,const TIpcArgs *)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReply(const TAny *,TInt,TUint,const TIpcArgs *)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReply(const TAny *,TInt,const TAny *,TInt,TUint,const TIpcArgs *)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyByProvidingRemoteReadAccess(const TAny *,TInt,const TReadDescriptorType &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyInt(TInt,TUint,const TIpcArgs *)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyIntP(TInt,const TWriteDescriptorType &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyP(const TAny *,TInt,const TAny *,TInt,const TWriteDescriptorType &amp;,TUint)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyP(const TAny *,TInt,const TWriteDescriptorType &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteReplyP(const TWriteDescriptorType &amp;,TUint)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WriteSize(const TSize &amp;,TUint)const</a></td></tr><tr><td> </td><td><a href="GUID-67F5CE42-9EFA-318B-9E5D-94BDB671BDD8.html">MWsClientClass::WsHandle()const</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>The interface between an application that directly accesses the screen and the window server.</p>

			<p>Note that most applications that need to access the screen directly should use <a href="GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129.html#GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129">CDirectScreenAccess</a> instead. <a href="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html#GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77">RDirectScreenAccess</a> only needs to be used directly by applications without access to an active scheduler.</p>

		</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-A7289852-8768-3252-A71F-8656C1C6CFF8"><a name="GUID-A7289852-8768-3252-A71F-8656C1C6CFF8"><!-- --></a>
		<h3 class="sectiontitle">Enum TPriority</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>The priority of the active object that responds to notification that direct screen access must stop. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-4CCF142B-C315-3A71-B30B-27B5BC5809D9"/><span class="enumerator">EPriorityVeryHigh</span></td><td>2000</td><td>
							<p>A suggested value for the priority of the active object that responds to notification from the window server that direct screen access must stop. This is also the value used by <a href="GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129.html#GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129">CDirectScreenAccess</a> for this purpose. </p>

						 </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-EB2AF175-BE28-3F31-BBB0-9AC828DBB746"><a name="GUID-EB2AF175-BE28-3F31-BBB0-9AC828DBB746"><!-- --></a>
		<h3 class="sectiontitle">Enum TTerminationReasons</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Provides the reason why direct screen access must terminate. This enum is used in the <a href="GUID-C1D97AD4-7581-3101-9D9D-3ED68468CA19.html#GUID-6BD5F6DE-4987-3FCA-B9AA-DDB8A9DCCA6C">MAbortDirectScreenAccess::AbortNow()</a> and <a href="GUID-5A289A8A-1485-3AB9-94CF-177B83D4F450.html#GUID-56A84FC6-5053-3175-A61A-9E95C32ABEDB">MDirectScreenAccess::Restart()</a> functions.</p>

				<p>The first value (ETerminateCancel) indicates that direct screen access is being terminated by the application. The final three values indicate that direct screen access is being terminated by the window server. Note that for users of <a href="GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129.html#GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129">CDirectScreenAccess</a>, the termination code is not important because these issues are dealt with by <a href="GUID-24C7AE25-B44A-3B6F-AA05-EA90A8D36129.html#GUID-954B039E-3FB8-3AC1-AE83-B8699761B33E">CDirectScreenAccess::StartL()</a>. </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-36E146AA-DA29-3C55-B4EE-B38F2E17D089"/><span class="enumerator">ETerminateCancel</span></td><td/><td>
							<p>The application has finished direct screen access. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-4A7E6CB3-7E8F-3C8C-9AEF-EB112DC70B01"/><span class="enumerator">ETerminateRegion</span></td><td/><td>
							<p>A window is about to come in front of a part of the area that is being used for direct screen access. </p>

						 </td></tr><tr><td><a name="GUID-922A44B2-0A2A-3B63-867E-A4371EAA7E7D"/><span class="enumerator">ETerminateScreenMode</span></td><td/><td>
							<p>The screen's color depth (as enumerated by TDisplayMode) is about to change. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-7F37B537-40B8-3718-8484-C10DD1C1C3DF"/><span class="enumerator">ETerminateRotation</span></td><td/><td>
							<p>The current screen mode (the combination of screen rotation and screen size) is about to change. </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-3DDBAA9A-C54A-3DED-B26C-C3E1A282F724"><a name="GUID-3DDBAA9A-C54A-3DED-B26C-C3E1A282F724"><!-- --></a>
		<h3 class="sectiontitle">RDirectScreenAccess (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RDirectScreenAccess</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Default constructor.</p>

				<p>Developers should use the other constructor overload instead. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-849248A4-00B5-32C5-9C05-A8C581543F9A"><a name="GUID-849248A4-00B5-32C5-9C05-A8C581543F9A"><!-- --></a>
		<h3 class="sectiontitle">RDirectScreenAccess ( RWsSession &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RDirectScreenAccess</td><td>(</td><td><a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html">RWsSession</a> &amp;</td><td><span class="parameter">aWs</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>C++ constructor with a connected window server session.</p>

				<p>
					<a href="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html#GUID-64467B92-6B29-3450-A5BD-759414CF69B8">Construct()</a> must be called to complete construction.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aWs</td><td>Connected session with the window server.  </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-674EAE59-7141-3AF9-9D5D-736F70EAB85E"><a name="GUID-674EAE59-7141-3AF9-9D5D-736F70EAB85E"><!-- --></a>
		<h3 class="sectiontitle">Cancel (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Cancel</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Indicates to the window server that you have finished performing direct screen access. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-21F153B4-99B7-3909-817A-EAFD05F2F0C7"><a name="GUID-21F153B4-99B7-3909-817A-EAFD05F2F0C7"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Calls <a href="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html#GUID-8E42A936-8598-3474-9AED-D7204229D972">Completed()</a> then deletes the server side resource and sets the client's handle to it to NULL. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-8E42A936-8598-3474-9AED-D7204229D972"><a name="GUID-8E42A936-8598-3474-9AED-D7204229D972"><!-- --></a>
		<h3 class="sectiontitle">Completed (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Completed</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Indicates to the window server that you have responded to the completion of the request status passed to <a href="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html#GUID-6842AE05-8657-3434-B081-F939638F99B7">Request()</a>, by stopping direct screen access. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-64467B92-6B29-3450-A5BD-759414CF69B8"><a name="GUID-64467B92-6B29-3450-A5BD-759414CF69B8"><!-- --></a>
		<h3 class="sectiontitle">Construct (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Construct</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Second phase constructor.</p>

				<p>Creates the server side resource and initialises the client's handle to it.</p>

				<p>This function always causes a flush of the window server buffer.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>TW32Panic 17 in debug builds if called on an already constructed object. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise one of the system wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-D03F4122-EFF6-37DA-B655-6513C966F9F7"><a name="GUID-D03F4122-EFF6-37DA-B655-6513C966F9F7"><!-- --></a>
		<h3 class="sectiontitle">Construct ( TBool )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Construct</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aRegionTrackingOnly</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Second phase constructor.</p>

				<p>Creates the server side resource and initialises the client's handle to it.</p>

				<p>This function always causes a flush of the window server buffer.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>TW32Panic 17 in debug builds if called on an already constructed object. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aRegionTrackingOnly</td><td>ETrue if the DSA is intended to be used for region tracking purposes only, EFalse if the DSA will be used to perform actual drawing.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise one of the system wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-6842AE05-8657-3434-B081-F939638F99B7"><a name="GUID-6842AE05-8657-3434-B081-F939638F99B7"><!-- --></a>
		<a name="GUID-46EBE861-6272-3A04-9F00-BB7BF7F73CA4"><!----></a><h3 class="sectiontitle">Request ( RRegion *&amp;, TRequestStatus &amp;, const RWindowBase &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Request</td><td>(</td><td><a href="GUID-347DE2AF-9FE5-3D7D-9007-7B22CAC6E7CF.html">RRegion</a> *&amp;</td><td><span class="parameter">aRegion</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-1460DD8F-9AA1-3B99-8FFD-F309959CCA34.html">RWindowBase</a> &amp;</td><td><span class="parameter">aWindow</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Issues a request to the window server for permission to perform direct screen access on a window.</p>

				<p>Direct access to the screen may be refused due to lack of memory or if the target window is completely obscured.</p>

				<p>If direct access is allowed, the function passes back a clipping region which is the part of the screen the caller can draw to.</p>

				<p>When direct screen access must stop, for instance because a dialog is to be displayed in front of the region where direct screen access is taking place, the window server completes the request. The recommended way to check for this is for aStatus to be the request status of an active object that will be run when the request completes, i.e. if <a href="GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html#GUID-6842AE05-8657-3434-B081-F939638F99B7">Request()</a> returns KErrNone, call SetActive(), and in the object's RunL(), you should immediately abort direct screen access.</p>

				<p>While the DSA is in operation, it is strongly advised that the client should not make any call to WSERV that will affect the visible area of the window in which the DSA is taking place.</p>

				<p>When WSERV tells the client that it needs to abort its DSA, it waits to receive the acknowledgment from the client that it has done so. However, it doesn't wait for ever, since the client may have entered some long running calculation or even an infinite loop. So WSERV also waits on a timer: if the timer expires before the client acknowledges, then WSERV continues; if, later on, WSERV gets notification from the client that it has aborted the DSA, then WSERV will invalidate the region in which the DSA was taking place, just in case there had been a conflict between the DSA and another client.</p>

				<p>This function always causes a flush of the window server buffer.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aRegion</td><td>On return, the clipping region that the caller can draw to. NULL if the function was not successful. If the target window is invisible or completely covered by other windows then the region will be empty.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>A request status that is set to a completion code by the window server when direct screen access must stop.  </td></tr><tr><td class="parameter">aWindow</td><td>The window that you want to perform the direct screen access on.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if the request was successful, KErrNone with empty region if none of the window is currently visible, otherwise one of the system wide error codes, e.g. KErrNoMemory if out of memory. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E2092CF9-98E8-3206-91B2-36011AA6FB77.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:58:41 GMT -->
</html>