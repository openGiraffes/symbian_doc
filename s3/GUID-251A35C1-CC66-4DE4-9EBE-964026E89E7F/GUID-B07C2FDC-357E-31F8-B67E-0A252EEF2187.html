<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:23 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RDbIncremental"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RDbIncremental</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187"><a name="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RDbIncremental Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;d32dbms.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187__linkagainst"><a name="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187__linkagainst"><!-- --></a><p>Link against: edbms.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RDbIncremental</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B48D5C8C-EC79-3C74-8DF1-75394290BE90">AlterTable</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BC1F3466-946F-371B-92E3-16A6130B79F0">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C4E0338E-FFF7-313D-838F-EA172357CB39">Compact</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D92935AF-44A2-31C0-8E98-4451AB4D8CCC">CreateIndex</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F866C881-4847-399A-911E-D5AFB97AD373">DropIndex</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8F7B528E-A88E-30BE-AFF5-BE173A4342B3">DropTable</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9AD7FD9F-8A34-3FC9-99B9-C0B7B579277E">Execute</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A5CD3B14-C1BD-3D15-906C-2FF5C6EA3B36">Execute</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-0FFDE105-58FA-37B3-A9EE-19F2D0D6705E.html">TDbTextComparison</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-1B925A3A-3C57-3056-A309-A78C5CADE235">Next</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3EEA0A22-2B71-3E29-8298-215A8B88FBF9">Next</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8B0DEED7-EC36-3FD2-AA8C-008B67357646">Recover</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5F3981AC-C27C-3151-8941-CCB458F78FC2">UpdateStats</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Provides the interface for performing long-running database operations in incremental steps, allowing application programs to remain responsive to other events.</p>

			<p>After an operation has begun, a standard interface is used to continue and complete all incremental operations. On successful return from one of the initiating functions, a step value is also returned. This gives the progress indication and is, initially, positive. This value should be passed into subsequent steps in the operation, each of which may decrement the value by some amount, although they are allowed to leave it unchanged. The value reaches zero, if, and only if the operation completes.</p>

			<p>While an incremental operation is in progress, the database cannot be used for any other operations such as opening tables or preparing views.</p>

			<p>Starting an incremental operation also requires that no rowsets are open on the database and that no commit is pending for data manipulation transactions.</p>

			<p>If no explicit transaction has been started by the database, then an automatic transaction is begun when any incremental operation is started and is committed when complete or rolled back if the operation either fails or is abandoned prior to completion.   </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-B48D5C8C-EC79-3C74-8DF1-75394290BE90"><a name="GUID-B48D5C8C-EC79-3C74-8DF1-75394290BE90"><!-- --></a>
		<a name="GUID-AB4B671E-C63B-38AA-8921-D9E0617A5CE9"><!----></a><h3 class="sectiontitle">AlterTable ( RDbDatabase &amp;, const TDesC &amp;, const CDbColSet &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>AlterTable</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;</td><td><span class="parameter">aNewDef</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates a table alteration operation on a database. This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-5B2CBC62-4963-399D-8968-18D1ED9562FF">RDbDatabase::AlterTable()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-5B2CBC62-4963-399D-8968-18D1ED9562FF">RDbDatabase::AlterTable()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database which has the table to be altered.  </td></tr><tr class="bg"><td class="parameter">aTable</td><td>The name of the table which is to be altered.  </td></tr><tr><td class="parameter">aNewDef</td><td>A column set describing the new definition for the table.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to NextL().  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. Specifically, the function returns: KErrNotFound, if the table does not exist in the database. KErrBadName if a column name is invalid. KErrArgument if the new column set is empty, or there are duplicate column names, or if a column's maximum length is non-positive but not KDbUndefinedLength, or a non-numeric column has the auto-increment attribute, or an indexed column has been dropped, or a column has changed its type or attributes, or a not-null or auto-increment column has been added to a table which is not empty. KErrNotSupported if a column type is out of the recognised range, or an unknown attribute bit is set, or the maximum length for a Text8, Text16 or Binary column is more than 255. KErrTooBig if the resulting record size can be larger than 8200 bytes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-BC1F3466-946F-371B-92E3-16A6130B79F0"><a name="GUID-BC1F3466-946F-371B-92E3-16A6130B79F0"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Releases the resources used by the incremental operations object. If the operation is not yet complete, then the operation is abandoned and the database is rolled back to its state before the operation started. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-C4E0338E-FFF7-313D-838F-EA172357CB39"><a name="GUID-C4E0338E-FFF7-313D-838F-EA172357CB39"><!-- --></a>
		<a name="GUID-0F798185-B6C1-3854-A86C-2997818507F8"><!----></a><h3 class="sectiontitle">Compact ( RDbDatabase &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Compact</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates the operation of compacting a database. This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-9F164CFC-8D0C-3B65-8302-4199F1E6F590">RDbDatabase::Compact()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-9F164CFC-8D0C-3B65-8302-4199F1E6F590">RDbDatabase::Compact()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database to compact.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to Next() to continue the operation.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-D92935AF-44A2-31C0-8E98-4451AB4D8CCC"><a name="GUID-D92935AF-44A2-31C0-8E98-4451AB4D8CCC"><!-- --></a>
		<a name="GUID-007A1E66-903D-3DB8-A2AB-3912BB77F797"><!----></a><h3 class="sectiontitle">CreateIndex ( RDbDatabase &amp;, const TDesC &amp;, const TDesC &amp;, const CDbKey &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateIndex</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;</td><td><span class="parameter">aKey</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates an index creation operation on a database. This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-CA0E10E7-A5EE-3E52-AC45-7B77CD9CDE9E">RDbDatabase::CreateIndex()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-CA0E10E7-A5EE-3E52-AC45-7B77CD9CDE9E">RDbDatabase::CreateIndex()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database on which to create the index.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>A name for the created index.  </td></tr><tr><td class="parameter">aTable</td><td>The name of the table on which to create the index.  </td></tr><tr class="bg"><td class="parameter">aKey</td><td>The key for the new index.  </td></tr><tr><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to NextL().  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. Specifically, the function returns: KErrNotFound if the table does not exist in the database or a key column is not found in the table. KErrAlreadyExists if an index of the same name already exists on table or a duplicate key is present when building an index. Note that it is not possible to tell the difference between the possible causes of this error if index creation is not carried out incrementally. KErrBadName if an index or column name is invalid. KErrArgument if the key has no key columns or a fixed width column has a truncation length specified, or an invalid truncation length has been specified for a key column, or a LongText8 or LongText16 key column has no truncation length specified, or the key contains a Binary or LongBinary column. KErrNotSupported if a truncated key column is not the last one. KErrTooBig if the resulting key size is too big. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F866C881-4847-399A-911E-D5AFB97AD373"><a name="GUID-F866C881-4847-399A-911E-D5AFB97AD373"><!-- --></a>
		<a name="GUID-61713032-CBC2-39D8-9869-16E7149D87AF"><!----></a><h3 class="sectiontitle">DropIndex ( RDbDatabase &amp;, const TDesC &amp;, const TDesC &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DropIndex</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates an index discard operation on the database. This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-3C96A919-D9C8-3053-B344-78EA3E64D1E4">RDbDatabase::DropIndex()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-3C96A919-D9C8-3053-B344-78EA3E64D1E4">RDbDatabase::DropIndex()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database from which to drop the index.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>The name of the index to drop.  </td></tr><tr><td class="parameter">aTable</td><td>The name of the table which has the index.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to NextL().  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. Specifically, the function returns KErrNotFound if the table or index does not exist </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-8F7B528E-A88E-30BE-AFF5-BE173A4342B3"><a name="GUID-8F7B528E-A88E-30BE-AFF5-BE173A4342B3"><!-- --></a>
		<a name="GUID-54B08D28-C673-379E-A2AC-99837F78A6C0"><!----></a><h3 class="sectiontitle">DropTable ( RDbDatabase &amp;, const TDesC &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DropTable</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates a table discard operation on a database. All indexes belonging to the table are also discarded as part of this operation.</p>

				<p>This is the incremental version of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-F4DE7B0B-D828-3E17-94CD-3BA4FD6E5BCC">RDbDatabase::DropTable()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-F4DE7B0B-D828-3E17-94CD-3BA4FD6E5BCC">RDbDatabase::DropTable()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database from which to drop the table.  </td></tr><tr class="bg"><td class="parameter">aTable</td><td>The name of the table to drop.  </td></tr><tr><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to NextL().  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. The Store database always returns KErrNotSupported for this function. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9AD7FD9F-8A34-3FC9-99B9-C0B7B579277E"><a name="GUID-9AD7FD9F-8A34-3FC9-99B9-C0B7B579277E"><!-- --></a>
		<a name="GUID-E616953B-4812-372D-9240-AC5EA2C64362"><!----></a><h3 class="sectiontitle">Execute ( RDbDatabase &amp;, const TDesC &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Execute</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aSql</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section apidesc">
				<p>Initiates the execution of a DDL (SQL schema update) statement on the database.</p>

				<p>This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6">RDbDatabase::Execute()</a>.</p>

				<p>Note that to begin executing a DML (SQL data update) statement incrementally, use the <a href="GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D.html#GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D">RDbUpdate</a> class.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6">RDbDatabase::Execute()</a> <a href="GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D.html#GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D">RDbUpdate</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy:<ul><li><p>the schema access policy for the database, if the SQL statement is CREATE/DROP/ALTER;</p>
</li>
<li><p>the write access policy for the table in the SQL, if the SQL statement is INSERT/UPDATE/DELETE; </p>
</li>
</ul>
</dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database on which the DDL (SQL schema update) statement is to execute.  </td></tr><tr class="bg"><td class="parameter">aSql</td><td>The DDL SQL statement to be executed on the database.  </td></tr><tr><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to Next() to continue the operation.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A5CD3B14-C1BD-3D15-906C-2FF5C6EA3B36"><a name="GUID-A5CD3B14-C1BD-3D15-906C-2FF5C6EA3B36"><!-- --></a>
		<h3 class="sectiontitle">Execute ( RDbDatabase &amp;, const TDesC &amp;, TDbTextComparison, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Execute</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aSql</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0FFDE105-58FA-37B3-A9EE-19F2D0D6705E.html">TDbTextComparison</a></td><td><span class="parameter">aComparison</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates the execution of a DDL (SQL schema update) statement on the database, specifing additional comparison operations for some SQL statements.</p>

				<p>This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6">RDbDatabase::Execute()</a>.</p>

				<p>Note that to begin executing a DML (SQL data update) statement incrementally, use the <a href="GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D.html#GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D">RDbUpdate</a> class.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6">RDbDatabase::Execute()</a> <a href="GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D.html#GUID-B9D43EA2-F1F1-3830-A16A-F73F06C2BB3D">RDbUpdate</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy:<ul><li><p>the schema access policy for the database, if the SQL statement is CREATE/DROP/ALTER;</p>
</li>
<li><p>the write access policy for the table in the SQL, if the SQL statement is INSERT/UPDATE/DELETE; </p>
</li>
</ul>
</dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database on which the DDL (SQL schema update) statement is to execute.  </td></tr><tr class="bg"><td class="parameter">aSql</td><td>The DDL SQL statement to be executed on the database.  </td></tr><tr><td class="parameter">aComparison</td><td>This argument is used in the execution of some SQL statements, and is ignored in all other SQL statements. Specifically: in CREATE INDEX statements, it specifies the comparison operation used for text columns in the index key. In UPDATE and DELETE statements, it specifies the comparison operation used to evaluate the WHERE clause.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to Next() to continue the operation.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-1B925A3A-3C57-3056-A309-A78C5CADE235"><a name="GUID-1B925A3A-3C57-3056-A309-A78C5CADE235"><!-- --></a>
		<a name="GUID-08B70289-CFEE-38BB-BAB9-01DADEB6C240"><!----></a><h3 class="sectiontitle">Next ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Next</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Performs the next step in the incremental operation, returning when the step is complete.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>Initially, contains the value returned from any of the initiating functions or the last call to perform an operational step. On return, contains a value which is less than or equal to the initial value. If it equals 0, then the operation has completed successfully and the incremental object should be closed.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. If this indicates an error, then the incremental object should be closed and the operation aborted. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-3EEA0A22-2B71-3E29-8298-215A8B88FBF9"><a name="GUID-3EEA0A22-2B71-3E29-8298-215A8B88FBF9"><!-- --></a>
		<h3 class="sectiontitle">Next ( TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Next</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td><span class="parameter">aStep</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Performs the next step in the incremental operation, returning immediately and signalling the request status when the step is complete.</p>

				<p>This function is most effectively used when the incremental operation is packaged as an active object.</p>

				<p>Note that the step parameter is packaged to enable this API to work for asynchronous calls in client/server implementations of DBMS.</p>

				<p/>

				<p>See also: <a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html#GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A">TPckgBuf</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>Initially, contains the value returned from any of the initiating functions or the last call to perform an operational step. On return, contains a value which is less than or equal to the initial value. If it equals 0, then the operation has completed successfully and the incremental object should be closed.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains the completion status or one of the DBMS database error codes. If this indicates an error, then the incremental object should be closed and the operation aborted.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-8B0DEED7-EC36-3FD2-AA8C-008B67357646"><a name="GUID-8B0DEED7-EC36-3FD2-AA8C-008B67357646"><!-- --></a>
		<a name="GUID-1CC563D3-F594-39D1-AE50-740074C18BCF"><!----></a><h3 class="sectiontitle">Recover ( RDbDatabase &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Recover</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates a database recovery operation.</p>

				<p>This is the incremental version of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695">RDbDatabase::Recover()</a>. <a href="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html#GUID-8B0DEED7-EC36-3FD2-AA8C-008B67357646">Recover()</a> will try to rebuild database indexes if they are broken. If the database data is corrupted, it cannot be recovered.</p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695">RDbDatabase::Recover()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database to recover.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to NextL(). </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, or one of the DBMS database error codes. If recovery fails with either KErrNoMemory or KErrDiskFull, then recovery may be attempted again when more memory or disk space is available.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-5F3981AC-C27C-3151-8941-CCB458F78FC2"><a name="GUID-5F3981AC-C27C-3151-8941-CCB458F78FC2"><!-- --></a>
		<a name="GUID-A59F4930-E9EA-35DA-AB2B-1F95C78D34FF"><!----></a><h3 class="sectiontitle">UpdateStats ( RDbDatabase &amp;, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>UpdateStats</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Initiates the operation of calculating and updating database statistics.</p>

				<p>This is the incremental form of <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B">RDbDatabase::UpdateStats()</a></p>

				<p/>

				<p>See also: <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B">RDbDatabase::UpdateStats()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database whose statistics are to be updated.  </td></tr><tr class="bg"><td class="parameter">aStep</td><td>On return, contains the initial step count for the incremental operation. This value should be passed in to subsequent calls to Next() to continue the operation.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:23 GMT -->
</html>