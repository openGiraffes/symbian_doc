<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:28 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RFormat"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RFormat</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"><a name="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RFormat Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;f32file.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RFormat : public RSubSessionBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RFormat<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-047231E4-33D4-3B7A-8454-B4352F737D06">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-112F0C56-6EF8-3E6A-8B47-0F124618B18F">Next</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-63C9BD7D-4B9C-32C0-A700-F184E9CAEB7B">Next</a>(<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-493A9579-6200-3D5A-AC26-79250DCC24DA">Open</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B202DDB0-43C1-3F87-A437-B7E6C3533905">Open</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CloseSubSession(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateAutoCloseSubSession(RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::RSubSessionBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Session()const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SubSessionHandle()const</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Formats a device, one step at a time.</p>

			<p>
				<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1">RFormat</a> must first be opened on a device before formatting each track using <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-112F0C56-6EF8-3E6A-8B47-0F124618B18F">Next()</a>.</p>

			<p>There is also an asynchronous version of <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-112F0C56-6EF8-3E6A-8B47-0F124618B18F">Next()</a> which, if encapsulated into a suitable active object, can be used to implement a user-interruptible formatting process. </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-047231E4-33D4-3B7A-8454-B4352F737D06"><a name="GUID-047231E4-33D4-3B7A-8454-B4352F737D06"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Closes the Format subsession.</p>

				<p>Any open files are closed when the file server session is closed.</p>

				<p>
					<a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-047231E4-33D4-3B7A-8454-B4352F737D06">Close()</a> is guaranteed to return, and provides no indication whether it completed successfully or not. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-112F0C56-6EF8-3E6A-8B47-0F124618B18F"><a name="GUID-112F0C56-6EF8-3E6A-8B47-0F124618B18F"><!-- --></a>
		<a name="GUID-A78B24F0-5F7E-3382-9E0B-7613E13E5A25"><!----></a><h3 class="sectiontitle">Next ( TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Next</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aStep</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Executes the next format step.</p>

				<p>This is a synchronous function, which returns when the formatting step is complete.</p>

				<p/>

				<p>See also: <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-493A9579-6200-3D5A-AC26-79250DCC24DA">RFormat::Open</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>DiskAdmin </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>The step number. On return, it is decremented to indicate what stage the formatting has reached. Before the first call to this function, this value is seeded with the number of tracks remaining to be formatted as returned by RFormat::Open(). The function should be called repeatedly until aStep reaches zero. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful, otherwise one of the other system wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-63C9BD7D-4B9C-32C0-A700-F184E9CAEB7B"><a name="GUID-63C9BD7D-4B9C-32C0-A700-F184E9CAEB7B"><!-- --></a>
		<h3 class="sectiontitle">Next ( TPckgBuf&lt; TInt &gt; &amp;, TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Next</td><td>(</td><td><a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td><span class="parameter">aStep</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Executes the next format step.</p>

				<p>This is an asynchronous function.</p>

				<p/>

				<p>See also: <a href="GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html#GUID-493A9579-6200-3D5A-AC26-79250DCC24DA">RFormat::Open</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>DiskAdmin </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStep</td><td>The step number. On return, it is decremented to indicate what stage the formatting has reached. Before the first call to this function, this value is seeded with the number of tracks remaining to be formatted as returned by RFormat::Open(). The function should be called repeatedly until aStep reaches zero. </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>The request status. On request completion, contains a completion code: KErrNone, if successful, otherwise one of the other system-wide error codes. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-493A9579-6200-3D5A-AC26-79250DCC24DA"><a name="GUID-493A9579-6200-3D5A-AC26-79250DCC24DA"><!-- --></a>
		<a name="GUID-9E064D3F-297F-30BB-BDC7-4E30735BEB7D"><!----></a><h3 class="sectiontitle">Open ( RFs &amp;, const TDesC &amp;, TUint, TInt &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFormatMode</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens a device for formatting.</p>

				<p>The device may be formatted either at high or low density.</p>

				<p>Devices which support read-only media may not be formatted. This includes the ROM on drive Z:. All files on the drive must be closed otherwise an error is returned.</p>

				<p/>

				<p>See also: <a href="GUID-ADDC6DEA-D7DE-3D8B-A06A-1DC9F4112BAF.html#GUID-DB2BF23C-875F-3200-A6A5-D999738324FB">TFormatMode</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>DiskAdmin </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>The file server session. Must be connected.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>The drive to be formatted, specified as a drive letter followed by a colon.  </td></tr><tr><td class="parameter">aFormatMode</td><td>The format mode. See TFormatMode.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>On successful return, contains the number of tracks which remain to be formatted. This value is passed to the first iteration of Next(), which then decrements the value on this and subsequent calls to Next(). </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful, otherwise one of the other system wide error codes.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-B202DDB0-43C1-3F87-A437-B7E6C3533905"><a name="GUID-B202DDB0-43C1-3F87-A437-B7E6C3533905"><!-- --></a>
		<h3 class="sectiontitle">Open ( RFs &amp;, const TDesC &amp;, TUint, TInt &amp;, const TDesC8 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFormatMode</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aCount</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">anInfo</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Opens a device for formatting. <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> can specify new format parameters by anInfo.</p>

				<p>The device may be formatted either at high or low density.</p>

				<p>Devices which support read-only media may not be formatted. This includes the ROM on drive Z:. All files on the drive must be closed otherwise an error is returned.</p>

				<p/>

				<p>See also: <a href="GUID-ADDC6DEA-D7DE-3D8B-A06A-1DC9F4112BAF.html#GUID-DB2BF23C-875F-3200-A6A5-D999738324FB">TFormatMode</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>DiskAdmin </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>The file server session. Must be connected.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>The drive to be formatted, specified as a drive letter followed by a colon.  </td></tr><tr><td class="parameter">aFormatMode</td><td>The format mode. See TFormatMode.  </td></tr><tr class="bg"><td class="parameter">aCount</td><td>On successful return, contains the number of tracks which remain to be formatted. This value is passed to the first iteration of Next(), which then decrements the value on this and subsequent calls to Next().  </td></tr><tr><td class="parameter">anInfo</td><td>Special format information specified by user. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone, if successful, otherwise one of the other system wide error codes.</span></p></div>
</div>

	</div>

	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-9D7E765B-6872-3EB9-9D5B-1503FA466EC1.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:59:28 GMT -->
</html>