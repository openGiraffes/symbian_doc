<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:01:57 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMdaAudioInputStream"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CMdaAudioInputStream</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"><a name="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CMdaAudioInputStream Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;mdaaudioinputstream.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8__linkagainst"><a name="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8__linkagainst"><!-- --></a><p>Link against: mediaclientaudioinputstream.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CMdaAudioInputStream : public CBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMdaAudioInputStream<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719">~CMdaAudioInputStream</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-40B47655-F8B6-348E-8319-68737E1ACAAC">BitRateL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3">CustomInterface</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><a href="#GUID-399E51DD-8A42-3362-8465-0042415EF812">DataType</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE">Gain</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-491F5066-EC4A-3848-B496-1986858750A1">GetBalanceL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04">GetBytes</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BD55BF88-DAC7-3FCF-B60F-4B825C2C42A3">GetSupportedBitRatesL</a>(<a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB">MaxGain</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td><a href="#GUID-6229DD94-DD84-3198-8216-497C6C422269">NewL</a>(<a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td><a href="#GUID-A1A995D6-ACAB-3122-A9A2-6D7BF99F1B76">NewL</a>(<a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2">Open</a>(<a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td><a href="#GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C">Position</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E9CBADDC-1F6A-3457-8F79-F1CA91F10CA0">ReadL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E">RequestStop</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C">SetAudioPropertiesL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E">SetBalanceL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94">SetBitRateL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DB408216-06B3-36B8-9A02-BA1BB136D946">SetDataTypeL</a>(<a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D">SetGain</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4">SetPriority</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07">SetSingleBufferMode</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>The interface to an audio stream player passing raw audio data from the audio hardware to specified buffers.</p>

			<p>This class enables MMF clients to:</p>

			<p>Stream raw audio data from the audio hardware to specified buffers.</p>

			<p>Specify the priority of the audio stream in relation to other clients that may request to use the same audio hardware.</p>

			<p>Set the sample rate and the number of channels after successfully opening the stream. It is not possible to change these values once streaming has started.</p>

			<p>Change the gain and balance before or while streaming is in progress. Gain and balance settings take effect immediately.</p>

			<p>The API supports callbacks from the server to notify the client:</p>

			<p>MaiscOpenComplete() will be called when the audio streaming object is open and ready to stream data back to the user as a result of a previous call to <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2">Open()</a>.</p>

			<p>MaiscBufferCopied() will be called multiple times while the FIFO (queued via <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-E9CBADDC-1F6A-3457-8F79-F1CA91F10CA0">ReadL()</a>) is emptied. Note: Each buffer will be flagged with KErrAbort if received after <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> on is called. MaiscRecordComplete is called once all remaining buffers have been read.</p>

			<p>MaiscRecordComplete() is called after <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> has been called. aError - KErrAbort if MaiscRecordComplete called as a result of a call to <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a>.</p>

			<p>Users of object <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8">CMdaAudioInputStream</a> should ensure that implementation of the callback methods MaiscOpenComplete,MaiscBufferCopied and MaiscRecordComplete in class <a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html#GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0">MMdaAudioInputStreamCallback</a> do not delete the object,otherwise a Kern-Exec 3 would occur during callback. </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719"><a name="GUID-25B188EC-2C96-30DC-9EF8-E084F9F16719"><!-- --></a>
		<h3 class="sectiontitle">~CMdaAudioInputStream (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>~CMdaAudioInputStream</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Destructor.</p>

				<p>Frees all resources owned by the object prior to its destruction. </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-40B47655-F8B6-348E-8319-68737E1ACAAC"><a name="GUID-40B47655-F8B6-348E-8319-68737E1ACAAC"><!-- --></a>
		<h3 class="sectiontitle">BitRateL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>BitRateL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<div class="p">Returns the current bit rate. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotSupported If the sound device does not support returning the current bit rate </dd>
</dl>
</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The current bit rate, in bits per second. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3"><a name="GUID-ECDEE99C-97CF-3E82-B623-3979C9FC46B3"><!-- --></a>
		<a name="GUID-3906FE57-52B5-3975-B27D-95F32F7A95EB"><!----></a><h3 class="sectiontitle">CustomInterface ( TUid )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>CustomInterface</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aInterfaceId</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Retrieves a custom interface to the underlying device.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aInterfaceId</td><td>The interface UID, defined with the custom interface. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the interface implementation, or NULL if the device does not implement the interface requested. The return value must be cast to the correct type by the user. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-399E51DD-8A42-3362-8465-0042415EF812"><a name="GUID-399E51DD-8A42-3362-8465-0042415EF812"><!-- --></a>
		<h3 class="sectiontitle">DataType (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>DataType</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the current data type.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The ID of the data type. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE"><a name="GUID-1AD72B54-DD46-3DB9-A8B2-B202D633A5FE"><!-- --></a>
		<h3 class="sectiontitle">Gain (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Gain</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the current gain setting.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The current gain setting. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-491F5066-EC4A-3848-B496-1986858750A1"><a name="GUID-491F5066-EC4A-3848-B496-1986858750A1"><!-- --></a>
		<h3 class="sectiontitle">GetBalanceL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBalanceL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the current audio balance.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The current balance value. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04"><a name="GUID-E72167A7-6FBA-3FC0-9D3E-D5DD3C651A04"><!-- --></a>
		<h3 class="sectiontitle">GetBytes (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBytes</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Returns the current number of bytes rendered by audio hardware.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The number of bytes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-BD55BF88-DAC7-3FCF-B60F-4B825C2C42A3"><a name="GUID-BD55BF88-DAC7-3FCF-B60F-4B825C2C42A3"><!-- --></a>
		<a name="GUID-D5106CAE-9968-39C6-9817-D98122E7967B"><!----></a><h3 class="sectiontitle">GetSupportedBitRatesL ( RArray&lt; TInt &gt; &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>GetSupportedBitRatesL</td><td>(</td><td><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td><span class="parameter">aSupportedBitRates</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Returns the bit rates supported by the sound device</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported If the sound device does not support setting the bit rate The supported bit rates, in bits per second, shall be appended to this array. Note that the array shall be reset by this method. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"/>
</div>

	</div>
<div class="nested1" id="GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB"><a name="GUID-9DA37352-0DED-3385-9FF1-9B42B76C71AB"><!-- --></a>
		<h3 class="sectiontitle">MaxGain (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>MaxGain</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the maximum gain level.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The maximum gain value that is supported by the sound device. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-6229DD94-DD84-3198-8216-497C6C422269"><a name="GUID-6229DD94-DD84-3198-8216-497C6C422269"><!-- --></a>
		<a name="GUID-D534A585-D2B7-3906-AD82-E14A5FC1D501"><!----></a><h3 class="sectiontitle">NewL ( MMdaAudioInputStreamCallback &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;</td><td><span class="parameter">aCallBack</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section apidesc">
				<p>Instantiates a new audio input stream using default priority preferences.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>UserEnvironment For recording - the requesting client process must have a UserEnvironment capability.</dd>

						
					</dl>
Static NewL</div>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCallBack</td><td>A callback to notify the client when the input stream has been initialised and is ready for use, when data has been copied to a specified descriptor and when input streaming is stopped. The caller must create a callback class that implements this interface. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the audio input stream object.CMdaAudioInputStream* </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A1A995D6-ACAB-3122-A9A2-6D7BF99F1B76"><a name="GUID-A1A995D6-ACAB-3122-A9A2-6D7BF99F1B76"><!-- --></a>
		<h3 class="sectiontitle">NewL ( MMdaAudioInputStreamCallback &amp;, TInt, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html">CMdaAudioInputStream</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-6A1EAD31-95CA-3CAC-8897-791E9D522DF0.html">MMdaAudioInputStreamCallback</a> &amp;</td><td><span class="parameter">aCallBack</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPref</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<p>Instantiates a new audio input stream.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>UserEnvironment For recording - the requesting client process must have a UserEnvironment capability.</dd>

						
					</dl>
Note: The Priority Value and Priority Preference are used primarily when deciding what to do when several audio clients attempt to play or record simultaneously. In addition to the Priority Value and Preference, the adaptation may consider other parameters such as the SecureId and Capabilities of the client process. Whatever, the decision as to what to do in such situations is up to the audio adaptation, and may vary between different phones. Portable applications are advised not to assume any specific behaviour.</div>

				<p>Static NewL</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aCallBack</td><td>A callback to notify the client when the input stream has been initialised and is ready for use. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter">aPriority</td><td>The Priority Value - this client's relative priority. This is a value between EMdaPriorityMin and EMdaPriorityMax and represents a relative priority. A higher value indicates a more important request.  </td></tr><tr><td class="parameter">aPref</td><td>The Priority Preference - an additional audio policy parameter. The suggested default is EMdaPriorityPreferenceNone. Further values are given by TMdaPriorityPreference, and additional values may be supported by given phones and/or platforms, but should not be depended upon by portable code. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to the audio input stream object.CMdaAudioInputStream* </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2"><a name="GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2"><!-- --></a>
		<a name="GUID-B1DEC554-752D-3D8B-9BD0-B328FDB81ADE"><!----></a><h3 class="sectiontitle">Open ( TMdaPackage * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Open</td><td>(</td><td><a href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *</td><td><span class="parameter">aSettings</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Opens an input audio stream package.</p>

				<p>The MMdaAudioInputStreamCallback::MaisOpenComplete() callback function is called when the stream has been opened and is ready to record data. If the open was unsuccessful, this is indicated by the aError parameter of the callback.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSettings</td><td>A pointer to an TMdaPackage object.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C"><a name="GUID-3BC7D5C5-47FD-3409-BA5B-B4E7AA67E61C"><!-- --></a>
		<h3 class="sectiontitle">Position (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td>Position</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Returns the current position within the data stream in microseconds since the start of streaming.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The current position. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-E9CBADDC-1F6A-3457-8F79-F1CA91F10CA0"><a name="GUID-E9CBADDC-1F6A-3457-8F79-F1CA91F10CA0"><!-- --></a>
		<a name="GUID-D210A52A-1CDD-3CAF-9746-AD31D10BC993"><!----></a><h3 class="sectiontitle">ReadL ( TDes8 &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ReadL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aData</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Records streaming raw audio data.</p>

				<p>If this is the first <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-E9CBADDC-1F6A-3457-8F79-F1CA91F10CA0">ReadL()</a> after a successful <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2">Open()</a> this function starts the audio recording process.</p>

				<p>The MMdaAudioInputStreamCallback::MaisBufferCopied() callback function is called when the buffer has been successfully filled. A pointer to the newly filled buffer is returned in the callback.</p>

				<p>Note: The MMdaAudioInputStreamCallback::MaisBufferCopied() callback function is also called when a <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> is issued, with a pointer to the remaining recorded audio data and the aError parameter of the callback set to indicate recording has finished.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aData</td><td>A reference to a buffer to be written into.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E"><a name="GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E"><!-- --></a>
		<h3 class="sectiontitle">RequestStop (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RequestStop</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Requests a Stop of the recording process.</p>

				<p>The device is requested to Stop and does so after all unprocessed buffers are processed and passed back to the input stream. The device is actually Stopped when the final empty buffer indicating buffer process completion is received.</p>

				<p/>

				<p>See also: <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">CMdaAudioInputStream::Stop()</a> </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C"><a name="GUID-84777B75-3C88-3EDB-9256-21FE0D0D418C"><!-- --></a>
		<a name="GUID-EAA5A600-508D-304F-AC22-EA905E33FA1F"><!----></a><h3 class="sectiontitle">SetAudioPropertiesL ( TInt, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetAudioPropertiesL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSampleRate</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aChannels</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Sets the sample rate and number of audio channels.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSampleRate</td><td>The new sample rate. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr><tr class="bg"><td class="parameter">aChannels</td><td>The new number of channels. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E"><a name="GUID-11BA5AF9-A5B6-3DB7-BBAF-892BABE9F28E"><!-- --></a>
		<a name="GUID-F91959E0-6817-3535-B565-1458A33E7C1D"><!----></a><h3 class="sectiontitle">SetBalanceL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetBalanceL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aBalance</span> = 
							<a href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
						</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Sets the current audio balance.</p>

				<p>The balance can be any value between KMMFBalanceMaxLeft and KMMFBalanceMaxRight, the default value being KMMFBalanceCenter.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aBalance</td><td>A specified balance value.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94"><a name="GUID-E9D2DAED-3843-3D1C-BFC8-CF7979558F94"><!-- --></a>
		<a name="GUID-AAA33A03-E8A8-3F06-BCC9-9506BBA9E6DC"><!----></a><h3 class="sectiontitle">SetBitRateL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetBitRateL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aBitRate</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<div class="p">Sets the bit rate to a new value. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrNotSupported If the sound device does not support returning the current bit rate or the bit rate set is not supported </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aBitRate</td><td>The new bit rate, in bits per second.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-DB408216-06B3-36B8-9A02-BA1BB136D946"><a name="GUID-DB408216-06B3-36B8-9A02-BA1BB136D946"><!-- --></a>
		<a name="GUID-266DECA3-3065-36B9-8E9E-1DCACEB4DEDA"><!----></a><h3 class="sectiontitle">SetDataTypeL ( TFourCC )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetDataTypeL</td><td>(</td><td><a href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><span class="parameter">aAudioType</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Sets the data type. If the data type is not explicitly set it will assumed to be pcm16. If it is set then the hardware must support the data type being set otherwise the function leaves with KErrNotSupported.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported Leaves with this for any unsuported data type. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aAudioType</td><td>The fourCC code used to request the data type of the recorded data. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D"><a name="GUID-5C954D41-3175-30D1-B86B-728CF1FCD93D"><!-- --></a>
		<a name="GUID-CA8F2D7D-5EF5-314C-B6A3-9CF44CE64F53"><!----></a><h3 class="sectiontitle">SetGain ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetGain</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aNewGain</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Sets the gain for the audio device to a specified value.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aNewGain</td><td>The gain setting. This can be any value from zero to the value returned by a call to MaxGain(). A value which is less than zero is set to zero. A value which is greater than MaxGain() is set to MaxGain().  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4"><a name="GUID-3FD34F3E-7293-3B68-B73F-2A0AA6FB14A4"><!-- --></a>
		<a name="GUID-E1AB9D59-58A1-3653-8198-A746157A977C"><!----></a><h3 class="sectiontitle">SetPriority ( TInt, TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetPriority</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPref</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Sets the audio priority values.</p>

				<p>This function cannot be used while the stream object is open. It is intended for use before an <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2">Open()</a> is issued, or between a previous <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2">Stop()</a> and a new <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-28D76301-2EE1-3DD7-A9DA-E8702CE7AAD2">Open()</a>.</p>

				<p/>

				<p>See also: <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-6229DD94-DD84-3198-8216-497C6C422269">CMdaAudioInputStream::NewL()</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPriority</td><td>The Priority Value.  </td></tr><tr class="bg"><td class="parameter">aPref</td><td>The Priority Preference. </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07"><a name="GUID-3EBCFFE7-862E-378A-B63D-99D8147B1F07"><!-- --></a>
		<a name="GUID-9DBEE023-9771-3071-8091-54F18A296017"><!----></a><h3 class="sectiontitle">SetSingleBufferMode ( TBool )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetSingleBufferMode</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aSingleMode</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Indicates that the client wishes to use a single buffer to collect the data. This buffer is passed via the ReadL api.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSingleMode</td><td>ETrue to indicate setting of single buffer mode and the use of a single buffer, EFalse to indicate use of multiple buffers.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2"><a name="GUID-0D238AA3-B25C-33FC-B7EA-53523A82F6D2"><!-- --></a>
		<h3 class="sectiontitle">Stop (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Stop</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Stops the recording process.</p>

				<p>The MMdaAudioInputStreamCallback::MaisRecordComplete() callback function is called when recording has been halted. Just prior to issuing this callback, the FIFO buffers are read and the remaining audio data passed back by a final MMdaAudioInputStreamCallback::MaisBufferCopied() callback with its aError parameter set to KErrAbort.</p>

				<p>Any remaining FIFO buffers are also passed back, with their aError parameter set to KErrAbort.</p>

				<p>Stop is immediate and best used for premature stops, for example within destructors. If it is critical to receive all data buffers upto the point that Recording has Stopped, we recommend using RequestStop instead. Otherwise some trailing buffers may be lost from the recording process.</p>

				<p>If a Stop is issued after a RequestStop, Stop will take precedent.</p>

				<p/>

				<p>See also: <a href="GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html#GUID-D07EEA51-2EB6-33D0-B4D4-CEEAB78A4C2E">CMdaAudioInputStream::RequestStop()</a> </p>

			</div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-92BDB3AF-D9DB-35E2-AC6F-6435D3D1A4D8.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:01:57 GMT -->
</html>