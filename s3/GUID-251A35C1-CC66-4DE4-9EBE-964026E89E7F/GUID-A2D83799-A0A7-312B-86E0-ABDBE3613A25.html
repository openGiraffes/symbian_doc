<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:44:44 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MMsvAttachmentManagerSync"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>MMsvAttachmentManagerSync</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"><a name="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">MMsvAttachmentManagerSync Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;mw/mmsvattachmentmanagersync.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class MMsvAttachmentManagerSync</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-187AC518-D8B7-378E-8A65-748022EA44B8">CreateAttachmentL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-7BDF126D-F0AD-3272-B143-CB9A3A5E310D">ModifyAttachmentInfoL</a>(<a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8">RemoveAttachmentL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-B963229A-F49E-31DA-BDB7-E77AC9058447">RenameAttachmentL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Defines the attachment management extensions interface.</p>

			<p>This class is a pure virtual interface class that defines the APIs to be used for by MTMs and implementors of <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a>.</p>

			<p>This API extends the <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a> with synchronous calls for deleting and creating attachments.</p>

			<p/>

			<p>See also: <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html#GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F">CMsvAttachment</a>   </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-187AC518-D8B7-378E-8A65-748022EA44B8"><a name="GUID-187AC518-D8B7-378E-8A65-748022EA44B8"><!-- --></a>
		<a name="GUID-A7AAAA2A-575A-3C07-96C7-9CB2A6FB2BDD"><!----></a><h3 class="sectiontitle">CreateAttachmentL ( const TDesC &amp;, RFile &amp;, CMsvAttachment * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CreateAttachmentL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFileName</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td><span class="parameter">aAttachmentFile</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td><span class="parameter">aAttachmentInfo</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Creates a new empty attachment file.</p>

				<p>The caller is returned an open writable file handle to an empty attachment file in the message store. The caller must pass in an uninitialised file handle. If the request is sucessful the file handle is open and must close by the caller once the data has been written to it.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFileName</td><td>The filename to assign to the newly create attachment file.  </td></tr><tr class="bg"><td class="parameter">aAttachmentFile</td><td>An uninitialised file handle. This is opened and can be written to if the request is successful. The ownership is transferred . The caller must close the file handle.  </td></tr><tr><td class="parameter">aAttachmentInfo</td><td>The attachment info associated with the file. If the routine does not leave, then ownership will be transferred to the attachment manager. If the routine does leave then ownership will not have been transfered and the caller is responsible for cleanup.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-7BDF126D-F0AD-3272-B143-CB9A3A5E310D"><a name="GUID-7BDF126D-F0AD-3272-B143-CB9A3A5E310D"><!-- --></a>
		<a name="GUID-5FC448E9-83ED-3689-8006-B06BB6C19F17"><!----></a><h3 class="sectiontitle">ModifyAttachmentInfoL ( CMsvAttachment * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ModifyAttachmentInfoL</td><td>(</td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td><span class="parameter">aAttachmentInfo</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<div class="p">Modify existing attachment <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aAttachmentInfo</td><td>The attachment info associated with the file. If the routine does not leave, then ownership will be transferred to the attachment manager. If the routine does leave then ownership will not have been transfered and the caller is responsible for cleanup.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8"><a name="GUID-199C22AA-4EB6-3B3E-B1B8-5E39FBBE00A8"><!-- --></a>
		<a name="GUID-265B4CCB-C239-3B2C-BB10-2ACE6B9F9702"><!----></a><h3 class="sectiontitle">RemoveAttachmentL ( TInt )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>RemoveAttachmentL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Removes the attachment from the message entry.</p>

				<p>This changes the array index values of all the attachments after the removed one. Attachment files stored in the message store are deleted. Linked files and message entry attachments are not deleted, this is left to the caller to do if required.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"/>
</div>

	</div>
<div class="nested1" id="GUID-B963229A-F49E-31DA-BDB7-E77AC9058447"><a name="GUID-B963229A-F49E-31DA-BDB7-E77AC9058447"><!-- --></a>
		<a name="GUID-0F7A8108-A59E-30FD-9B91-3229C1C43EF4"><!----></a><h3 class="sectiontitle">RenameAttachmentL ( TInt, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>RenameAttachmentL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aIndex</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aNewName</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Renames the physical filename of an attachment.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAccessDenied If attachment manager is in read-only mode. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrAlreadyExists If the supplied attachment filename already exists. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aIndex</td><td>The array index position of the attachment to be renamed.  </td></tr><tr class="bg"><td class="parameter">aNewName</td><td>The new name of the attachment.  </td></tr></table></div>
</div>

	</div>

	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:44:44 GMT -->
</html>