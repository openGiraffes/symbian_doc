<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:22 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RDbDatabase"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Relation" scheme="URI" content="GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RDbDatabase</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733"><a name="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RDbDatabase Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;d32dbms.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733__linkagainst"><a name="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733__linkagainst"><!-- --></a><p>Link against: edbms.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RDbDatabase</td></tr></table></div><div class="section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a href="GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F.html">RDbDatabase::TSize</a></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
					<a href="GUID-D852717C-28A4-3109-8FCE-C5ACF3862372.html">RDbHandle</a>&lt; <a href="GUID-C0232845-2AFC-3C1A-A8D3-7BAFEE2111DB.html">CDbDatabase</a> &gt;</td><td><a href="#GUID-91E50DE0-AFB3-3A61-8EC9-6ECDA80FCC0C">iDatabase</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5B2CBC62-4963-399D-8968-18D1ED9562FF">AlterTable</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B">Begin</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D55FA31E-71CE-3F3B-9F4E-C5488C393AE7">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> *</td><td><a href="#GUID-1936488B-A2E2-35A5-9313-6D1A778BE07C">ColSetL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A">Commit</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9F164CFC-8D0C-3B65-8302-4199F1E6F590">Compact</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-CA0E10E7-A5EE-3E52-AC45-7B77CD9CDE9E">CreateIndex</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-7D35EEBA-00FE-3E16-B89A-6F4706C90D57">CreateTable</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-6E756CBE-68E9-373F-8A09-B0BEC137B9EA">CreateTable</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;, const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2535EC33-0EF7-3658-93B8-A3E4ACFE4DD5">Destroy</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-3C96A919-D9C8-3053-B344-78EA3E64D1E4">DropIndex</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F4DE7B0B-D828-3E17-94CD-3BA4FD6E5BCC">DropTable</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6">Execute</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-0FFDE105-58FA-37B3-A9EE-19F2D0D6705E.html">TDbTextComparison</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-FAA3D3E8-5706-3BF5-B0E1-88F0BDE0876D">InTransaction</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FFFEEF84-E353-327F-9DCC-2B4F81D39C67.html">CDbIndexNames</a> *</td><td><a href="#GUID-9010CD17-E3B2-36D5-96FA-E9EDB83E7B73">IndexNamesL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-9139C43C-43F3-36EC-A543-7EA93B7A04F9">IsDamaged</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> *</td><td><a href="#GUID-82ADCB24-40A2-3262-B563-B84765C84F06">KeyL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695">Recover</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2">Rollback</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F.html">TSize</a></td><td><a href="#GUID-6B07675E-1DD3-3AC9-80F6-50A90AA527EE">Size</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FFFEEF84-E353-327F-9DCC-2B4F81D39C67.html">CDbTableNames</a> *</td><td><a href="#GUID-CC41806C-9245-33C6-A358-37436CBADF23">TableNamesL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B">UpdateStats</a>()</td></tr></tbody></table></div><div>
<ul class="ullinks">
</ul>
</div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Abstract class providing the functionality of a database.</p>

			<p>The source of the database and the implementation characteristics of a particular database are provided by a class derived from <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-E11B1981-CA78-3660-AE09-AD3B4D453733">RDbDatabase</a>.</p>

			<p>DBMS has one such implementation: the store database.</p>

			<p>This class is not intended for user derivation.</p>

			<p>Note: For functions (i.e. Execute) that take an <a href="GUID-320DAC1D-8C1D-3E94-AAF3-AADB8AB61AB4.html#GUID-320DAC1D-8C1D-3E94-AAF3-AADB8AB61AB4">Sql</a> string, if the string contains a LIKE clause with * (asterisks) wildcard then the characters between them must be no longer than length 255. If only one * exists then the length is taken from the start and to the end of the clause. However, if the clause contains a ? (question mark) wildcard within it then the characters between must be no longer than length 253.</p>

		</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="nested1" id="GUID-91E50DE0-AFB3-3A61-8EC9-6ECDA80FCC0C"><a name="GUID-91E50DE0-AFB3-3A61-8EC9-6ECDA80FCC0C"><!-- --></a>
		<h3 class="sectiontitle">iDatabase</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-D852717C-28A4-3109-8FCE-C5ACF3862372.html">RDbHandle</a>&lt; <a href="GUID-C0232845-2AFC-3C1A-A8D3-7BAFEE2111DB.html">CDbDatabase</a> &gt;</td><td>iDatabase</td><td>[protected]</td></tr></table></div><div class="section apidesc"/>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-5B2CBC62-4963-399D-8968-18D1ED9562FF"><a name="GUID-5B2CBC62-4963-399D-8968-18D1ED9562FF"><!-- --></a>
		<a name="GUID-321F45E8-57B0-3F8B-B7D2-6E4A884589ED"><!----></a><h3 class="sectiontitle">AlterTable ( const TDesC &amp;, const CDbColSet &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>AlterTable</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;</td><td><span class="parameter">aNewDef</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Alters a table synchronously.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Table name.  </td></tr><tr class="bg"><td class="parameter">aNewDef</td><td>A new set of column definitions which describe the table structure. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrArgument, empty column set, duplicated column name, invalid column length; KErrNotFound, there is no table with the supplied name; KErrNotSupported, unknown column type, unknown column attributes; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B"><a name="GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B"><!-- --></a>
		<h3 class="sectiontitle">Begin (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Begin</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Begins a transaction.</p>

				<p>DBMS server only supports one 'granularity' of transaction lock: the whole database. Beginning a transaction locks the database, and this can fail if another client has already got a lock which excludes this client. If the same client has already locked the database it will be panic'd. The function is guaranteed to return KErrNone for client-side access.</p>

				<p>DBMS transactions do not provide any form of isolation between the clients: while one client is updating a table within a transaction, other clients will be able to see the changes as they are made. As a result, if a client retrieves two separate rows from a database there is no automatic guarantee that the data being retrieved has not been changed between the reads - this can lead to an 'inconsistent read'. A client can prevent an update while retrieving related rows by enclosing the individual reads within a transaction. Such a transaction will not modify the database and only operates as a read-lock: releasing such a lock using <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A">Commit()</a> or <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2">Rollback()</a> will not affect the database in any way.</p>

				<div class="p">How <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B">RDbDatabase::Begin()</a> works:<ul><li><p>on a shared database <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B">Begin()</a> will attempt to get a shared read-lock on the database, and will fail with KErrLocked if anyone has an exclusive write-lock. Other clients with read-locks will not cause this operation to fail.</p>
</li>
<li><p>any operation which will modify the database attempts to gain an exclusive write-lock on the database, and will fail with KErrLocked if anyone else has any lock on the database. If the current client already has a read-lock as a result of calling <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B">Begin()</a>, then it will be upgraded to an exclusive write-lock.</p>
</li>
<li><p><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A">Commit()</a> or <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2">Rollback()</a> after a read-lock has been acquired (but not a write-lock) will release that client's lock. The database will only be considered to be unlocked when all such locks are removed by all clients, when it will report a EUnlock event to any notifiers.</p>
</li>
<li><p><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A">Commit()</a> or <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2">Rollback()</a> after a write-lock has been acquired will release the lock, and report the ECommit or ERollback event to any notifiers.</p>
</li>
<li><p>automatic transactions will be used as at present if updates are made outside of explicit transactions, and such updates will also be able to fail with KErrLocked if an exclusive lock cannot be acquired.</p>
</li>
</ul>
</div>

				<p>Allowing read-locks to be shared enables greater concurrency at the same time as providing some safe guard against inconsistent reads. It does, however, lead to the possibility of deadlock: two clients wanting to update the database can reach deadlock if they both <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-39EEDEEC-990F-3720-B6AF-509CB77E594B">Begin()</a> a transaction before either of them starts an update, then one client's read-lock will prevent the other from upgrading to a write lock and vice versa. The only way out of this is to code the clients in such a way as to back out of such a deadlock situation, rather than retry forever without releasing the locks.</p>

				<p>A client will be able to change the database schema while other clients are using the database, as long as the other clients have no locks on it. As described above, other clients may find that their rowsets are then invalidated asynchronously as a result of this.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy either the read, write or the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrLocked, the database is locked by another client; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-D55FA31E-71CE-3F3B-9F4E-C5488C393AE7"><a name="GUID-D55FA31E-71CE-3F3B-9F4E-C5488C393AE7"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Closes a database. Commits any pending transaction. Frees the allocated resources. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-1936488B-A2E2-35A5-9313-6D1A778BE07C"><a name="GUID-1936488B-A2E2-35A5-9313-6D1A778BE07C"><!-- --></a>
		<a name="GUID-91247202-43B1-34A1-A146-9C0403ED5405"><!----></a><h3 class="sectiontitle">ColSetL ( const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> *</td><td>ColSetL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the table definition.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occurred; KErrNotFound, no table with that name exists; Note that the function may leave with other system-wide error codes. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Table name. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to a CDbColSet container with column definitions . The caller is responsible for destroying the returned CDbColSet instance.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A"><a name="GUID-AD8BC7C8-1847-3571-992C-51E110E6AF4A"><!-- --></a>
		<h3 class="sectiontitle">Commit (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Commit</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Commits the current transaction.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy either the read, write or the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9F164CFC-8D0C-3B65-8302-4199F1E6F590"><a name="GUID-9F164CFC-8D0C-3B65-8302-4199F1E6F590"><!-- --></a>
		<h3 class="sectiontitle">Compact (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Compact</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Synchronous database compaction. Compacts the database and returns when complete. Note that this can take an extended time to complete, so an incremental form is also provided. There is a complementary interface to calculate and report database size and usage information, which can be used by the clients to determine when it may be appropriate to compact the database.</p>

				<p/>

				<p>See also: <a href="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html#GUID-C4E0338E-FFF7-313D-838F-EA172357CB39">RDbIncremental::Compact()</a> <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B">RDbDatabase::UpdateStats()</a> <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-6B07675E-1DD3-3AC9-80F6-50A90AA527EE">RDbDatabase::Size()</a></p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>capability</strong>
						</dt>

						<dd>Note For a secure shared database, the caller must satisfy the write access policy for the database. </dd>

					
				</dl>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-CA0E10E7-A5EE-3E52-AC45-7B77CD9CDE9E"><a name="GUID-CA0E10E7-A5EE-3E52-AC45-7B77CD9CDE9E"><!-- --></a>
		<a name="GUID-EABCC137-32E3-31C2-8FC8-690A453EEDCF"><!----></a><h3 class="sectiontitle">CreateIndex ( const TDesC &amp;, const TDesC &amp;, const CDbKey &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CreateIndex</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;</td><td><span class="parameter">aKey</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Creates an index synchronously.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Index name.  </td></tr><tr class="bg"><td class="parameter">aTable</td><td>Table name.  </td></tr><tr><td class="parameter">aKey</td><td>Index definition </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrBadName, invalid index name (containing spaces for example); KErrAlreadyExists, an index with that name already exists; KErrNotFound, there is no table with that name; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-7D35EEBA-00FE-3E16-B89A-6F4706C90D57"><a name="GUID-7D35EEBA-00FE-3E16-B89A-6F4706C90D57"><!-- --></a>
		<a name="GUID-423CD612-7093-3579-87AB-CFBAA0CC9C58"><!----></a><h3 class="sectiontitle">CreateTable ( const TDesC &amp;, const CDbColSet &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CreateTable</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;</td><td><span class="parameter">aDef</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section apidesc">
				<p>Creates a table on the database.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Table name.  </td></tr><tr class="bg"><td class="parameter">aDef</td><td>A set of column definitions which describe the table structure. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrAlreadyExists, a table with that name already exists; KErrArgument, empty column set, duplicated column name, invalid column length; KErrBadName, invalid table name, invalid column name (containing spaces for example); KErrNotSupported, unknown column type, unknown column attributes; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-6E756CBE-68E9-373F-8A09-B0BEC137B9EA"><a name="GUID-6E756CBE-68E9-373F-8A09-B0BEC137B9EA"><!-- --></a>
		<h3 class="sectiontitle">CreateTable ( const TDesC &amp;, const CDbColSet &amp;, const CDbKey &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CreateTable</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-9B02D75E-1EE0-349E-9900-BEC1CAF9DECE.html">CDbColSet</a> &amp;</td><td><span class="parameter">aDef</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> &amp;</td><td><span class="parameter">aPrimaryKey</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section apidesc">
				<p>Creates a table on the database.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Table name.  </td></tr><tr class="bg"><td class="parameter">aDef</td><td>A set of column definitions which describe the table structure.  </td></tr><tr><td class="parameter">aPrimaryKey</td><td>Primary key definition. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrAlreadyExists, a table with that name already exists; KErrArgument, empty column set, duplicated column name, invalid column length; KErrBadName, invalid table name, invalid column name (containing spaces for example); KErrNotSupported, unknown column type, unknown column attributes; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-2535EC33-0EF7-3658-93B8-A3E4ACFE4DD5"><a name="GUID-2535EC33-0EF7-3658-93B8-A3E4ACFE4DD5"><!-- --></a>
		<h3 class="sectiontitle">Destroy (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Destroy</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Drops the tables and destroys the database. This handle is closed on successful destruction.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-3C96A919-D9C8-3053-B344-78EA3E64D1E4"><a name="GUID-3C96A919-D9C8-3053-B344-78EA3E64D1E4"><!-- --></a>
		<a name="GUID-FF014B62-0574-3561-9A6F-BE0C04BF9291"><!----></a><h3 class="sectiontitle">DropIndex ( const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DropIndex</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<p>Drops an index synchronously.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Index name.  </td></tr><tr class="bg"><td class="parameter">aTable</td><td>Table name. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNotFound, there is no table or index with that name; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F4DE7B0B-D828-3E17-94CD-3BA4FD6E5BCC"><a name="GUID-F4DE7B0B-D828-3E17-94CD-3BA4FD6E5BCC"><!-- --></a>
		<a name="GUID-C45D801E-4823-3771-9BFE-5F3C934F4458"><!----></a><h3 class="sectiontitle">DropTable ( const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DropTable</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Drops a table synchronously.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Table name. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNotFound, there is no table with the supplied name; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6"><a name="GUID-A730FFF4-42EA-31DB-A44D-F9ED259EA0F6"><!-- --></a>
		<a name="GUID-8F383802-E1C8-31EF-92D9-508954D25A0D"><!----></a><h3 class="sectiontitle">Execute ( const TDesC &amp;, TDbTextComparison )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Execute</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aSql</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0FFDE105-58FA-37B3-A9EE-19F2D0D6705E.html">TDbTextComparison</a></td><td><span class="parameter">aComparison</span> = EDbCompareNormal</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table></div><div class="section apidesc">
				<div class="p">Executes a SQL statement on the database, and returns when it is complete. The aComp parameter is used in the execution of some SQL statements:<ul><li><p>in CREATE INDEX statements it specifies the comparison operation used for text columns in the index key;</p>
</li>
<li><p>in UPDATE and DELETE statements it specifies the comparison operation used to evaluate the WHERE clause; Other statements ignore the value of aComp. A negative return value indicates an error. A successful DDL operation always returns KErrNone (zero), a successful DML operation returns the number of rows that were inserted, updated or deleted by the operation.</p>
</li>
</ul>
</div>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy:<ul><li><p>the schema access policy for the database, if the SQL statement is CREATE/DROP/ALTER;</p>
</li>
<li><p>the write access policy for the table in the SQL, if the SQL statement is INSERT/UPDATE/DELETE; </p>
</li>
</ul>
</dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSql</td><td>A string of 16-bit wide characters containing one SQL statement.  </td></tr><tr class="bg"><td class="parameter">aComparison</td><td>Tells the DBMS how to compare text and long text columns. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">Zero or positive value, the number of rows that were inserted, updated or deleted by the operation; KErrLocked, the database is locked by another client; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-FAA3D3E8-5706-3BF5-B0E1-88F0BDE0876D"><a name="GUID-FAA3D3E8-5706-3BF5-B0E1-88F0BDE0876D"><!-- --></a>
		<h3 class="sectiontitle">InTransaction (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>InTransaction</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">True if the database is in a transaction, false otherwise. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9010CD17-E3B2-36D5-96FA-E9EDB83E7B73"><a name="GUID-9010CD17-E3B2-36D5-96FA-E9EDB83E7B73"><!-- --></a>
		<a name="GUID-4B1A44AB-7BC4-3D52-99BD-3118CC337770"><!----></a><h3 class="sectiontitle">IndexNamesL ( const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FFFEEF84-E353-327F-9DCC-2B4F81D39C67.html">CDbIndexNames</a> *</td><td>IndexNamesL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Lists the indexes on a table.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occurred; KErrNotFound, no table with that name exists; Note that the function may leave with other system-wide error codes. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTable</td><td>Table name. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to a CDbIndexNames container with column definitions . The caller is responsible for destroying the returned CDbIndexNames instance.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-9139C43C-43F3-36EC-A543-7EA93B7A04F9"><a name="GUID-9139C43C-43F3-36EC-A543-7EA93B7A04F9"><!-- --></a>
		<h3 class="sectiontitle">IsDamaged (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsDamaged</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Reports the damage status of the database. The function checks database indexes and returs true if some of them are broken.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">True if the database is damaged, false otherwise. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-82ADCB24-40A2-3262-B563-B84765C84F06"><a name="GUID-82ADCB24-40A2-3262-B563-B84765C84F06"><!-- --></a>
		<a name="GUID-9D220416-13A7-33AD-AB56-D2DFA481B919"><!----></a><h3 class="sectiontitle">KeyL ( const TDesC &amp;, const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-0CA88018-0265-3853-AC64-3B938DD0F60C.html">CDbKey</a> *</td><td>KeyL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aTable</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section apidesc">
				<p>Returns the index key.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occurred; KErrNotFound, no index or table with that name exists; Note that the function may leave with other system-wide error codes. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Index name.  </td></tr><tr class="bg"><td class="parameter">aTable</td><td>Table name. </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to a CDbKey object containing the index definition. The caller is responsible for destroying the returned CDbKey instance.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695"><a name="GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695"><!-- --></a>
		<h3 class="sectiontitle">Recover (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Recover</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Synchronous database recovery. <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-8E35DC38-4323-3FDE-A4F5-3A670D326695">Recover()</a> will try to rebuild database indexes if they are broken. If the database data is corrupted, it cannot be recovered.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the write access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2"><a name="GUID-EB2E61CF-F2F9-3E82-9567-C6D617F340D2"><!-- --></a>
		<h3 class="sectiontitle">Rollback (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Rollback</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Rollbacks the current transaction.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy either the read, write or the schema access policy for the database. </dd>

						
					</dl>

				</div>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-6B07675E-1DD3-3AC9-80F6-50A90AA527EE"><a name="GUID-6B07675E-1DD3-3AC9-80F6-50A90AA527EE"><!-- --></a>
		<h3 class="sectiontitle">Size (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F.html">TSize</a></td><td>Size</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Returns the currently available size information for the database. This comprises a size in bytes for the database objects and a percentage used value which indicates how much of that size is live data-the remainder may be available for compaction. Some types of database may not be able to report this information, e.g. a <a href="GUID-F4A68645-2265-307F-B951-8295827E000B.html#GUID-F4A68645-2265-307F-B951-8295827E000B">RDbStoreDatabase</a>, and others may need to have <a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html#GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B">UpdateStats()</a> in order to provide valid data. In these cases, the values in the <a href="GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F.html#GUID-40DCA3A4-790E-3BD3-B9E9-7AEE8C011A3F">RDbDatabase::TSize</a> structure will contain an error value to indicate this.</p>

				<p/>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">RDbDatabase::TSize object, containing the database size and the percentage used value. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-CC41806C-9245-33C6-A358-37436CBADF23"><a name="GUID-CC41806C-9245-33C6-A358-37436CBADF23"><!-- --></a>
		<h3 class="sectiontitle">TableNamesL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FFFEEF84-E353-327F-9DCC-2B4F81D39C67.html">CDbTableNames</a> *</td><td>TableNamesL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Lists the tables on the database.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory, an out of memory condition has occurred; Note that the function may leave with other system-wide error codes. </dd>

						
					</dl>

				</div>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">A pointer to a CDbTableNames container with table names. The caller is responsible for destroying the returned CDbTableNames instance.</span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B"><a name="GUID-DDB2ADCE-E7B8-39D8-A270-FB30B0BC2B7B"><!-- --></a>
		<h3 class="sectiontitle">UpdateStats (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>UpdateStats</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Update any calculated statistics for the database. Note that this can take an extended time to complete, so an incremental form is also provided - <a href="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html#GUID-5F3981AC-C27C-3151-8941-CCB458F78FC2">RDbIncremental::UpdateStats()</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Note For a secure shared database, the caller must satisfy the write access policy for the database.</dd>

						
					</dl>

				</div>

				<p>See also: <a href="GUID-B07C2FDC-357E-31F8-B67E-0A252EEF2187.html#GUID-5F3981AC-C27C-3151-8941-CCB458F78FC2">RDbIncremental::UpdateStats()</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone The operation has completed successfully; KErrNoMemory, an out of memory condition has occurred; KErrPermissionDenied, the caller does not satisfy the relevant database security policies. Note that other system-wide error codes may also be returned.</span></p></div>
</div>

	</div>

	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:23 GMT -->
</html>