<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:52:49 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CSerial"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CSerial</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3"><a name="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CSerial Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;cs_port.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3__linkagainst"><a name="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3__linkagainst"><!-- --></a><p>Link against: c32.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CSerial : public CObject</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CSerial<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td><a href="#GUID-34458B97-6600-3B9D-A32A-C474E1DBBFE3">iVersion</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-EC77EF45-867B-3148-B239-D0CF81562525">CSerial</a>()</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-7A1E475A-C135-326C-B9D6-9C533A29D96A">~CSerial</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-ECC347C5-7CC3-3A7F-8861-A12687EE45E2">ConstructL</a>(<a href="GUID-25327159-83D6-3507-B187-09EA4BB3727F.html">RLibrary</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-7B29F2FF-A710-3350-AC8A-E82DE20383B6">Info</a>(<a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-29C1DC2F-278F-3557-B25B-23933CB4219F">ModuleName</a>(<a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a href="GUID-5CEF7907-E485-3626-8587-53CAC2A06544.html">CPort</a> *</td><td><a href="#GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4">NewPortL</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">virtual IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td><a href="#GUID-833972A1-ABB4-3BEA-B7DE-7456570642B5">PortPlatSecCapability</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-1A107F1B-118F-30C4-A4A9-753308753BDB">QueryVersionSupported</a>(const <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::AccessCount()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::CObject()</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Close()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Dec()</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::FullName()const</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Inc()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Name()const</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Open()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::Owner()const</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::SetName(const TDesC *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::SetNameL(const TDesC *)</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::SetOwner(CObject *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::UniqueID()const</a></td></tr><tr><td> </td><td><a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html">CObject::~CObject()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Factory for a single <a href="GUID-5CEF7907-E485-3626-8587-53CAC2A06544.html#GUID-5CEF7907-E485-3626-8587-53CAC2A06544">CPort</a> object.</p>

			<p>
				<a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3">CSerial</a> is the base class for implementations of serial port factories. It is intended to be overridden by the CSY so that C32 can call in and ask the CSY to create serial ports. In this way the factory is responsible for creating instances of CPort-derived classes for the protocol of the CSY. It also provides query functions, which return general information about the capabilities of the serial protocol implemented by the CSY.</p>

			<p>Owned by the <a href="GUID-5CEF7907-E485-3626-8587-53CAC2A06544.html#GUID-5CEF7907-E485-3626-8587-53CAC2A06544">CPort</a> object it creates.</p>

			<p>Writing derived classes:</p>

			<p>The pure virtual <a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4">NewPortL()</a> and <a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-7B29F2FF-A710-3350-AC8A-E82DE20383B6">Info()</a> functions must be implemented in derived classes. Serial protocol modules which can take differing action based on the version of the comms server should also override <a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-1A107F1B-118F-30C4-A4A9-753308753BDB">QueryVersionSupported()</a>.</p>

		</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="nested1" id="GUID-34458B97-6600-3B9D-A32A-C474E1DBBFE3"><a name="GUID-34458B97-6600-3B9D-A32A-C474E1DBBFE3"><!-- --></a>
		<h3 class="sectiontitle">iVersion</h3>
		
		<div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>
				</td><td>iVersion</td><td>[protected]</td></tr></table></div><div class="section apidesc">
				<p>Module version number. The class should initialise this member with its version number from its constructor. </p>

			</div>

	</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-EC77EF45-867B-3148-B239-D0CF81562525"><a name="GUID-EC77EF45-867B-3148-B239-D0CF81562525"><!-- --></a>
		<h3 class="sectiontitle">CSerial (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CSerial</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Default constructor.</p>

				<p>Derived classes can implement a <a href="GUID-DB62D45D-8962-3569-AF14-FEBD0633BF9F.html#GUID-E73BBB4E-C976-3315-ADA5-465A54E8FD50">NewL()</a> function if they require two-phase construction. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-7A1E475A-C135-326C-B9D6-9C533A29D96A"><a name="GUID-7A1E475A-C135-326C-B9D6-9C533A29D96A"><!-- --></a>
		<h3 class="sectiontitle">~CSerial (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CSerial</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Destructor. </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-ECC347C5-7CC3-3A7F-8861-A12687EE45E2"><a name="GUID-ECC347C5-7CC3-3A7F-8861-A12687EE45E2"><!-- --></a>
		<a name="GUID-0AFA898C-0883-3D19-A87D-A200B2691355"><!----></a><h3 class="sectiontitle">ConstructL ( RLibrary &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td><a href="GUID-25327159-83D6-3507-B187-09EA4BB3727F.html">RLibrary</a> &amp;</td><td><span class="parameter">aLib</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Allocate a CLibrary unloader</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>OOM this function may leave if out of memory. </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aLib</td><td>reference to the library to be unloaded in the future  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-7B29F2FF-A710-3350-AC8A-E82DE20383B6"><a name="GUID-7B29F2FF-A710-3350-AC8A-E82DE20383B6"><!-- --></a>
		<a name="GUID-B53A32A7-8AB0-31D2-ACAA-69DA0EF2DD23"><!----></a><h3 class="sectiontitle">Info ( TSerialInfo &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Info</td><td>(</td><td><a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html">TSerialInfo</a> &amp;</td><td><span class="parameter">aSerialInfo</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Specifies the protocol for getting the information about the serial protocol.</p>

				<p>Implementations should fill in the <a href="GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595.html#GUID-A6E4627A-A3AE-3B64-9E5C-710EE15C5595">TSerialInfo</a> structure to reflect the protocol's capabilities.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aSerialInfo</td><td>On return, set to indicate the capabilities of the serial protocol.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-29C1DC2F-278F-3557-B25B-23933CB4219F"><a name="GUID-29C1DC2F-278F-3557-B25B-23933CB4219F"><!-- --></a>
		<a name="GUID-D5BBC134-D119-3871-87D8-F8D03C16AD92"><!----></a><h3 class="sectiontitle">ModuleName ( TDes &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ModuleName</td><td>(</td><td><a href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes</a> &amp;</td><td><span class="parameter">aName</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Get the module name from the libary reference</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aName</td><td>Module name will be written to this descriptor.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4"><a name="GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4"><!-- --></a>
		<a name="GUID-59F200BD-B75D-3D3C-AE01-FD6B85525B9C"><!----></a><h3 class="sectiontitle">NewPortL ( const TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-5CEF7907-E485-3626-8587-53CAC2A06544.html">CPort</a> *</td><td>NewPortL</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aUnit</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section apidesc">
				<p>Specifies the protocol for creating a new serial port for the protocol. The comms server calls this function in response to a <a href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF">RComm</a>:<a href="GUID-9230EF62-376A-389C-B720-7C1EDCB7EA97.html#GUID-FC3804BF-DFCE-35A9-BB45-D88567A6CD8F">Open()</a> call.</p>

				<p>Typically, the implementation would call <a href="GUID-DB62D45D-8962-3569-AF14-FEBD0633BF9F.html#GUID-E73BBB4E-C976-3315-ADA5-465A54E8FD50">NewL()</a> on the protocol's CPort-based class. Any resources required by the new port object should be done at this stage. If the serial port object cannot be created for any reason, <a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4">NewPortL()</a> should leave with an appropriate error code.</p>

				<p>The interpretation of unit numbers is specific to the particular serial protocol module. However, unit numbers on Symbian OS should be zero-based. For the default built-in serial ports implemented by the serial protocol module ecuart.csy, the unit numbers refer to the hardware ports, with 0 being the first port on the machine. If a second request is made to create a port with a unit number that has already been created and not destroyed, <a href="GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html#GUID-736F93B4-1E7D-3048-84E4-111966B5C7C4">NewPortL()</a> should leave with KErrAlreadyExists.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aUnit</td><td>The unit number to be created.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-833972A1-ABB4-3BEA-B7DE-7456570642B5"><a name="GUID-833972A1-ABB4-3BEA-B7DE-7456570642B5"><!-- --></a>
		<a name="GUID-9E23D1ED-A531-3786-A41B-6B4D842710C8"><!----></a><h3 class="sectiontitle">PortPlatSecCapability ( TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-81A285F6-3F87-3E77-9426-61BB16BC7109.html">TSecurityPolicy</a></td><td>PortPlatSecCapability</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aPort</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div class="section apidesc">
				<p>Retrieve the security policy for a requested port. This base implementation sets the default policy to be an 'AlwaysFail' policy.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aPort</td><td>Port number.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">TSecurityPolicy Security policy associated with opeing this port </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-1A107F1B-118F-30C4-A4A9-753308753BDB"><a name="GUID-1A107F1B-118F-30C4-A4A9-753308753BDB"><!-- --></a>
		<a name="GUID-0F3D10A2-43ED-37D8-81D1-93701C3A1F4A"><!----></a><h3 class="sectiontitle">QueryVersionSupported ( const TVersion &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>QueryVersionSupported</td><td>(</td><td>const <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a> &amp;</td><td><span class="parameter">aVersion</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div class="section apidesc">
				<p>Specifies the protocol for checking the supplied <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html#GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715">TVersion</a> against the protocol's module version.</p>

				<p>The default implementation calls <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-B327F4B3-AA98-30C5-8F48-0786076F397F">User::QueryVersionSupported()</a> to perform the check against the object's iVersion member.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aVersion</td><td>The version to be checked.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">ETrue if the version is supported. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-D8C11F99-7452-35BB-B53E-440968D4C1A3.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:52:49 GMT -->
</html>