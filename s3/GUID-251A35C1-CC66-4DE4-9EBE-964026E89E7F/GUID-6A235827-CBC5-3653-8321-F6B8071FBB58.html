<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:57:58 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="BSUL::CCachedDriveInfo"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>BSUL::CCachedDriveInfo</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58"><a name="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">BSUL::CCachedDriveInfo Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;bsul/ccacheddriveinfo.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58__linkagainst"><a name="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58__linkagainst"><!-- --></a><p>Link against: bsul.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class BSUL::CCachedDriveInfo : public CBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">BSUL::CCachedDriveInfo<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-918C1CEA-756A-3E54-9ABA-13101DCB5C14">~CCachedDriveInfo</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td><a href="#GUID-FFF5CC2D-D0B8-3B69-883D-701BDAD952BE">GetDefaultRemovableMemoryCardDriveL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-54D51A17-0C84-3591-B532-2772DA7963BB">IsFlagSetOnDriveL</a>(<a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-B1281E65-76C2-3441-A122-FDD5BCC4AF41">IsReadOnlyInternalL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-596E4CA2-5F2F-3BD0-88CF-CBD0C0D7B09A">IsReadOnlyInternalL</a>(<a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-85353579-64E8-3F62-A2E6-5F89D320DDAC">MediaTypeL</a>(<a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>, <a href="GUID-A79887CF-C27A-3EF0-B58B-37009FE20B34.html">TMediaType</a>, <a href="GUID-A79887CF-C27A-3EF0-B58B-37009FE20B34.html">TMediaType</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html">CCachedDriveInfo</a> *</td><td><a href="#GUID-F2D110F8-258F-3A88-A60E-2EF7137C7172">NewL</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html">CCachedDriveInfo</a> *</td><td><a href="#GUID-0E745075-9859-3BB5-941D-A66DFB6D62C2">NewLC</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Class used to cache F32 drive information. </p>

			<p>See also: <a href="GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9.html#GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9">TDriveInfo</a>   </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-918C1CEA-756A-3E54-9ABA-13101DCB5C14"><a name="GUID-918C1CEA-756A-3E54-9ABA-13101DCB5C14"><!-- --></a>
		<h3 class="sectiontitle">~CCachedDriveInfo (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CCachedDriveInfo</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Frees all allocated resources </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-FFF5CC2D-D0B8-3B69-883D-701BDAD952BE"><a name="GUID-FFF5CC2D-D0B8-3B69-883D-701BDAD952BE"><!-- --></a>
		<h3 class="sectiontitle">GetDefaultRemovableMemoryCardDriveL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td>GetDefaultRemovableMemoryCardDriveL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>This method fetches the default removable memory card (MMC card). To determine the MMC drive a default algorithm will be used.</p>

				<p>The algorithm to be used will be to search through the drive list provided by <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html#GUID-E263C747-946F-35AA-9F1D-41833BD350FC">RFs</a> for the first drive that has the following properties 1) Drive type is EMediaHardDisk 2) Drive attributes are KDriveAttRemovable and KDriveAttLocal</p>

				<p/>

				<p>See also: <a href="GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9.html#GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9">TDriveInfo</a> </p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>leave</strong>
						</dt>

						<dd>KErrNotFound if drive not found </dd>

					
				</dl>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">TDriveUnit The drive found by the algorithm </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-54D51A17-0C84-3591-B532-2772DA7963BB"><a name="GUID-54D51A17-0C84-3591-B532-2772DA7963BB"><!-- --></a>
		<a name="GUID-3EDABAEB-B652-361B-8755-E82C57696DA7"><!----></a><h3 class="sectiontitle">IsFlagSetOnDriveL ( TDriveUnit, TUint )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsFlagSetOnDriveL</td><td>(</td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td><span class="parameter">aDrive</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFlags</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section apidesc">
				<p>This method allows the caller to test the attributes of a drive to see if they are set. For example, a drive can be check whether it is remote by checking the flag KDriveAttRemote is set. Valid flags are those defined in e32const.h starting KDriveAtt*</p>

				<p/>

				<p>See also: <a href="GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9.html#GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9">TDriveInfo</a> </p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>leave</strong>
						</dt>

						<dd>KErrBadName if aDrive is not a valid drive between EDriveA and EDriveZ </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDrive</td><td>The drive whose attribute information is being tested  </td></tr><tr class="bg"><td class="parameter">aFlags</td><td>The attributes to be checked for the drive  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">ETrue if attributes in the drive are set, EFalse otherwise </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-B1281E65-76C2-3441-A122-FDD5BCC4AF41"><a name="GUID-B1281E65-76C2-3441-A122-FDD5BCC4AF41"><!-- --></a>
		<a name="GUID-2C941FEC-8A82-3BE9-BBAE-E563D377E315"><!----></a><h3 class="sectiontitle">IsReadOnlyInternalL ( const TDesC &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsReadOnlyInternalL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFullName</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Checks if the drive associated with aFullName is both read-only and internal by checking that the KMediaAttWriteProtected and KDriveAttInternal flags are both set.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Leaves with a system-wide error code if the aFullName cannot be parsed, or with KErrBadName if the supplied path does not contain a drive letter </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFullName</td><td>File name that includes a drive  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">Returns ETrue if the drive is read-only and internal, EFalse otherwise (including when the drive is not mounted) </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-596E4CA2-5F2F-3BD0-88CF-CBD0C0D7B09A"><a name="GUID-596E4CA2-5F2F-3BD0-88CF-CBD0C0D7B09A"><!-- --></a>
		<h3 class="sectiontitle">IsReadOnlyInternalL ( TDriveUnit )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsReadOnlyInternalL</td><td>(</td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td><span class="parameter">aDrive</span></td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Checks if the specified drive is both read-only and internal by checking that the KMediaAttWriteProtected and KDriveAttInternal flags are both set.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Leaves with KErrBadName if aDrive is not a valid drive between EDriveA and EDriveZ </dd>

						
					</dl>

				</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDrive</td><td>The drive whose read-only status is being retrieved  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">Returns ETrue if the drive is read-only and internal, EFalse otherwise (including when the drive is not mounted) </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-85353579-64E8-3F62-A2E6-5F89D320DDAC"><a name="GUID-85353579-64E8-3F62-A2E6-5F89D320DDAC"><!-- --></a>
		<a name="GUID-0F5B124E-DC44-3DC1-9E65-D8A5A5A442DB"><!----></a><h3 class="sectiontitle">MediaTypeL ( TDriveUnit, TMediaType, TMediaType * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>MediaTypeL</td><td>(</td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td><span class="parameter">aDrive</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A79887CF-C27A-3EF0-B58B-37009FE20B34.html">TMediaType</a></td><td><span class="parameter">aTestValue</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A79887CF-C27A-3EF0-B58B-37009FE20B34.html">TMediaType</a> *</td><td><span class="parameter">aActual</span> = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section apidesc">
				<p>This method allows the caller to check the media type of a drive, to see if a drive is of a particular media type. It also optionally returns the media type of the drive.</p>

				<p/>

				<p>See also: <a href="GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9.html#GUID-4D883FA4-115C-3425-8A34-B00D1D4BBCF9">TDriveInfo</a> </p>

				<dl class="user">
					
						<dt class="dlterm">
							<strong>leave</strong>
						</dt>

						<dd>KErrBadName if aDrive is not a valid drive between EDriveA and EDriveZ </dd>

					
				</dl>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDrive</td><td>The drive whose media type information is being checked.  </td></tr><tr class="bg"><td class="parameter">aTestValue</td><td>The media type to compare against the drive provided.  </td></tr><tr><td class="parameter">aActual</td><td>return parameter - if the caller provides a pointer for this parameter type, then it will be populated with the actual media type of the drive. This is useful to avoid repeated queries if the media type is needed.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">ETrue if the drive media type matches the media type provided </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-F2D110F8-258F-3A88-A60E-2EF7137C7172"><a name="GUID-F2D110F8-258F-3A88-A60E-2EF7137C7172"><!-- --></a>
		<a name="GUID-F39BC9CC-292E-34F5-A802-1A05133CFB94"><!----></a><h3 class="sectiontitle">NewL ( RFs &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html">CCachedDriveInfo</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section apidesc">
				<p>Constructs <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html#GUID-6A235827-CBC5-3653-8321-F6B8071FBB58">CCachedDriveInfo</a> object by retrieving the drive status using aFs </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Reference to connected filesystem  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-0E745075-9859-3BB5-941D-A66DFB6D62C2"><a name="GUID-0E745075-9859-3BB5-941D-A66DFB6D62C2"><!-- --></a>
		<a name="GUID-0BAE5220-7187-3BA2-A3F3-8D34A3BDD035"><!----></a><h3 class="sectiontitle">NewLC ( RFs &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html">CCachedDriveInfo</a> *</td><td>NewLC</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><span class="parameter">aFs</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section apidesc">
				<p>Constructs <a href="GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html#GUID-6A235827-CBC5-3653-8321-F6B8071FBB58">CCachedDriveInfo</a> object by retrieving the drive status using aFs </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aFs</td><td>Reference to connected filesystem  </td></tr></table></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6A235827-CBC5-3653-8321-F6B8071FBB58.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:57:59 GMT -->
</html>