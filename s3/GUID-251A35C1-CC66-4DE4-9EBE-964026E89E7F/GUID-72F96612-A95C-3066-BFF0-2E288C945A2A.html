<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:43:17 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CSIPNotifyDialogAssoc"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CSIPNotifyDialogAssoc</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A"><a name="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CSIPNotifyDialogAssoc Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;mw/sipnotifydialogassoc.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A__linkagainst"><a name="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A__linkagainst"><!-- --></a><p>Link against: sipclient.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CSIPNotifyDialogAssoc : public CSIPDialogAssocBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CSIPNotifyDialogAssoc<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase</a><ul class="derivation"/></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-CF0C9516-DB47-397A-B9B9-FE1A2669E910">~CSIPNotifyDialogAssoc</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html">CSIPClientTransaction</a> *</td><td><a href="#GUID-C226E564-F185-3EDB-8121-6ACEC09B69FD">DoSendNotifyWithinDialogL</a>(<a href="GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html">CSIPMessageElements</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C const <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> &amp;</td><td><a href="#GUID-520B5A92-6075-33CA-B6E7-79F6C04FCA93">Event</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td><a href="#GUID-4E6FAE58-E4CC-308F-B9E7-F44FE8C75EBE">NewL</a>(<a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;, <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *, <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td><a href="#GUID-2E25C7FB-0FF2-3D94-8289-8EF59B837895">NewL</a>(<a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;, const <a href="GUID-F0663140-8AF3-3831-A741-483D276BF91C.html">MSIPRegistrationContext</a> &amp;, <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *, <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td><a href="#GUID-47469355-2F2B-30B5-9F99-D38A5FBB75EB">NewLC</a>(<a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;, <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *, <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td><a href="#GUID-E83B3504-C293-3399-B415-40C665E9A06D">NewLC</a>(<a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;, const <a href="GUID-F0663140-8AF3-3831-A741-483D276BF91C.html">MSIPRegistrationContext</a> &amp;, <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *, <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html">CSIPClientTransaction</a> *</td><td><a href="#GUID-15207970-C5C3-310A-AF4C-C495D7EEE6C7">SendNotifyL</a>(<a href="GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html">CSIPMessageElements</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> &amp;</td><td><a href="#GUID-C861DC07-E045-3F69-8360-1AF236BC399E">SubscriptionState</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C const <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> &amp;</td><td><a href="#GUID-FBD07D40-C636-36A3-B572-B3079B8BBA28">SubscriptionState</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::iImplementation</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::CSIPDialogAssocBase()</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::ConstructL(RStringF,CSIPDialog &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::ConstructL(RStringF,CSIPDialog &amp;,CSIPServerTransaction &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::DeletingRefresh(CSIPRefresh &amp;,TUint32)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::Dialog()</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::Dialog()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::FindRefresh(TUint32)</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::Implementation()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::IsNonTargetRefreshRequest(RStringF)const</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::SendNonTargetRefreshRequestL(RStringF,CSIPMessageElements *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::Type()const</a></td></tr><tr><td> </td><td><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html">CSIPDialogAssocBase::~CSIPDialogAssocBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Class for managing SIP NOTIFY dialog associations. It provides services for creating, using and terminating SIP NOTIFY dialog associations. The user can have multiple NOTIFY dialog associations per same SIP dialog. Implementation handles SUBSCRIBE on the dialog level defined by Call-Id, local and remote tags; user is responsible for "Event" and "Subscription-State" header semantics. </p>

		</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="nested1" id="GUID-CF0C9516-DB47-397A-B9B9-FE1A2669E910"><a name="GUID-CF0C9516-DB47-397A-B9B9-FE1A2669E910"><!-- --></a>
		<h3 class="sectiontitle">~CSIPNotifyDialogAssoc (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CSIPNotifyDialogAssoc</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Destructor </p>

			</div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-C226E564-F185-3EDB-8121-6ACEC09B69FD"><a name="GUID-C226E564-F185-3EDB-8121-6ACEC09B69FD"><!-- --></a>
		<a name="GUID-AE0FB9E1-C0EE-3C98-8EFA-92FD8170C905"><!----></a><h3 class="sectiontitle">DoSendNotifyWithinDialogL ( CSIPMessageElements * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html">CSIPClientTransaction</a> *</td><td>DoSendNotifyWithinDialogL</td><td>(</td><td><a href="GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html">CSIPMessageElements</a> *</td><td><span class="parameter">aElements</span></td><td>)</td><td/></tr></table></div><div class="section apidesc"/>
<div class="section parameters"/>
</div>

	</div>
<div class="nested1" id="GUID-520B5A92-6075-33CA-B6E7-79F6C04FCA93"><a name="GUID-520B5A92-6075-33CA-B6E7-79F6C04FCA93"><!-- --></a>
		<h3 class="sectiontitle">Event (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> &amp;</td><td>Event</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets an event about which the notification is done </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">an event </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-4E6FAE58-E4CC-308F-B9E7-F44FE8C75EBE"><a name="GUID-4E6FAE58-E4CC-308F-B9E7-F44FE8C75EBE"><!-- --></a>
		<a name="GUID-5BACE636-430E-3023-9EE3-8B0CB5547C88"><!----></a><h3 class="sectiontitle">NewL ( CSIPServerTransaction &amp;, CSIPEventHeader *, CSIPSubscriptionStateHeader * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;</td><td><span class="parameter">aTransaction</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *</td><td><span class="parameter">aEvent</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Two-phased constructor. The response to the received SIP request will create a SIP NOTIFY dialog association that will be correlated with the SIP dialog in which SIP server transaction was received. If the server transaction was not received within a SIP dialog, a new SIP dialog is created. The server transaction must be either SUBSCRIBE or REFER transaction. <dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd>aTransaction.State()==ETrying || EProceeding <p>aTransaction.Type() == <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-AC2A1A22-5EEE-3BCE-984A-217EE99D6811">SipStrConsts::ESubscribe</a> || <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-7BF9EE4B-341B-3707-96A0-8BD4A3790134">SipStrConsts::ERefer</a> aEvent != 0 &amp;&amp; aState != 0 </p>
</dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrArgument if aTransaction is not a SUBSCRIBE or REFER transaction, or aEvent == 0 or aState == 0. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPInvalidTransactionState if aTransaction is in a wrong state </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTransaction</td><td>a SIP server transaction  </td></tr><tr class="bg"><td class="parameter">aEvent</td><td>an event to send a notification about; the ownership is transferred.  </td></tr><tr><td class="parameter">aState</td><td>a subscription state; the ownership is transferred.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">New object; the ownership is transferred </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-2E25C7FB-0FF2-3D94-8289-8EF59B837895"><a name="GUID-2E25C7FB-0FF2-3D94-8289-8EF59B837895"><!-- --></a>
		<h3 class="sectiontitle">NewL ( CSIPServerTransaction &amp;, const MSIPRegistrationContext &amp;, CSIPEventHeader *, CSIPSubscriptionStateHeader * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;</td><td><span class="parameter">aTransaction</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-F0663140-8AF3-3831-A741-483D276BF91C.html">MSIPRegistrationContext</a> &amp;</td><td><span class="parameter">aContext</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *</td><td><span class="parameter">aEvent</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Two-phased constructor. The response to the received SIP request will create a SIP NOTIFY dialog association that will be correlated with the SIP dialog in which SIP server transaction was received. If the server transaction was not received within a SIP dialog, a new SIP dialog is created. The server transaction must be either SUBSCRIBE or REFER transaction. <dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd>aTransaction.State()==ETrying || EProceeding <p>aTransaction.Type() == <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-AC2A1A22-5EEE-3BCE-984A-217EE99D6811">SipStrConsts::ESubscribe</a> || <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-7BF9EE4B-341B-3707-96A0-8BD4A3790134">SipStrConsts::ERefer</a> aContext.IsContextActive() == ETrue aEvent != 0 &amp;&amp; aState != 0 </p>
</dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrArgument if aTransaction is not a SUBSCRIBE or REFER transaction, or aEvent == 0 or aState == 0. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPInvalidTransactionState if aTransaction is in a wrong state </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTransaction</td><td>a SIP server transaction  </td></tr><tr class="bg"><td class="parameter">aContext</td><td>that will be used for populating the Contact-header of the response to aTransaction  </td></tr><tr><td class="parameter">aEvent</td><td>an event to send a notification about; the ownership is transferred.  </td></tr><tr class="bg"><td class="parameter">aState</td><td>a subscription state; the ownership is transferred.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">New object; the ownership is transferred </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-47469355-2F2B-30B5-9F99-D38A5FBB75EB"><a name="GUID-47469355-2F2B-30B5-9F99-D38A5FBB75EB"><!-- --></a>
		<a name="GUID-2630E001-75E0-3F1F-A60D-B6E68F47EAC0"><!----></a><h3 class="sectiontitle">NewLC ( CSIPServerTransaction &amp;, CSIPEventHeader *, CSIPSubscriptionStateHeader * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td>NewLC</td><td>(</td><td><a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;</td><td><span class="parameter">aTransaction</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *</td><td><span class="parameter">aEvent</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Two-phased constructor. The response to the received SIP request will create a SIP NOTIFY dialog association that will be correlated with the SIP dialog in which SIP server transaction was received. If the server transaction was not received within a SIP dialog, a new SIP dialog is created. The server transaction must be either SUBSCRIBE or REFER transaction. <dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd>aTransaction.State()==ETrying || EProceeding <p>aTransaction.Type() == <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-AC2A1A22-5EEE-3BCE-984A-217EE99D6811">SipStrConsts::ESubscribe</a> || <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-7BF9EE4B-341B-3707-96A0-8BD4A3790134">SipStrConsts::ERefer</a> aEvent != 0 &amp;&amp; aState != 0 </p>
</dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrArgument if aTransaction is not a SUBSCRIBE or REFER transaction, or aEvent == 0 or aState == 0. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPInvalidTransactionState if aTransaction is in a wrong state </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTransaction</td><td>a SIP server transaction  </td></tr><tr class="bg"><td class="parameter">aEvent</td><td>an event to send a notification about; the ownership is transferred.  </td></tr><tr><td class="parameter">aState</td><td>a subscription state; the ownership is transferred.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">New object; the ownership is transferred </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-E83B3504-C293-3399-B415-40C665E9A06D"><a name="GUID-E83B3504-C293-3399-B415-40C665E9A06D"><!-- --></a>
		<h3 class="sectiontitle">NewLC ( CSIPServerTransaction &amp;, const MSIPRegistrationContext &amp;, CSIPEventHeader *, CSIPSubscriptionStateHeader * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html">CSIPNotifyDialogAssoc</a> *</td><td>NewLC</td><td>(</td><td><a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html">CSIPServerTransaction</a> &amp;</td><td><span class="parameter">aTransaction</span>,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-F0663140-8AF3-3831-A741-483D276BF91C.html">MSIPRegistrationContext</a> &amp;</td><td><span class="parameter">aContext</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-0496BF94-7EE7-3663-A2CF-231D6A722E19.html">CSIPEventHeader</a> *</td><td><span class="parameter">aEvent</span>,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> *</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section apidesc">
				<div class="p">Two-phased constructor. The response to the received SIP request will create a SIP NOTIFY dialog association that will be correlated with the SIP dialog in which SIP server transaction was received. If the server transaction was not received within a SIP dialog, a new SIP dialog is created. The server transaction must be either SUBSCRIBE or REFER transaction. <dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd>aTransaction.State()==ETrying || EProceeding <p>aTransaction.Type() == <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-AC2A1A22-5EEE-3BCE-984A-217EE99D6811">SipStrConsts::ESubscribe</a> || <a href="GUID-0F4AEC11-8C73-3527-AB76-1B6AAC308483.html#GUID-7BF9EE4B-341B-3707-96A0-8BD4A3790134">SipStrConsts::ERefer</a> aContext.IsContextActive() == ETrue aEvent != 0 &amp;&amp; aState != 0 </p>
</dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrArgument if aTransaction is not a SUBSCRIBE or REFER transaction, or aEvent == 0 or aState == 0. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPInvalidTransactionState if aTransaction is in a wrong state </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aTransaction</td><td>a SIP server transaction  </td></tr><tr class="bg"><td class="parameter">aContext</td><td>that will be used for populating the Contact-header of the response to aTransaction  </td></tr><tr><td class="parameter">aEvent</td><td>an event to send a notification about; the ownership is transferred.  </td></tr><tr class="bg"><td class="parameter">aState</td><td>a subscription state; the ownership is transferred.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">New object; the ownership is transferred </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-15207970-C5C3-310A-AF4C-C495D7EEE6C7"><a name="GUID-15207970-C5C3-310A-AF4C-C495D7EEE6C7"><!-- --></a>
		<a name="GUID-29F1E35D-AC50-3B81-8B87-72CFB7EEFFD0"><!----></a><h3 class="sectiontitle">SendNotifyL ( CSIPMessageElements * )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html">CSIPClientTransaction</a> *</td><td>SendNotifyL</td><td>(</td><td><a href="GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html">CSIPMessageElements</a> *</td><td><span class="parameter">aElements</span> = 0</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<div class="p">Creates NOTIFY and sends it to the remote target. If client provides optional SIP headers they must not contain Event and Subscription-State headers. <dl class="precondition"><dt class="dlterm">Pre-condition</dt>
<dd><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html#GUID-95F81724-B366-3969-B467-21CE0284E480">Dialog()</a>.Connection().State()==EActive <p><a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html#GUID-95F81724-B366-3969-B467-21CE0284E480">Dialog()</a>.State()==CSIPDialogTState::EConfirmed </p>
</dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPInvalidDialogState if dialog's state is incorrect </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrSIPResourceNotAvailable if a required SIP Client API object has been deleted. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>NetworkServices </dd>
</dl>
</div>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aElements</td><td>optional SIP message headers and body. Ownership is transferred.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">NOTIFY SIP UAC transaction </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-C861DC07-E045-3F69-8360-1AF236BC399E"><a name="GUID-C861DC07-E045-3F69-8360-1AF236BC399E"><!-- --></a>
		<h3 class="sectiontitle">SubscriptionState (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> &amp;</td><td>SubscriptionState</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Gets subscription state </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">subscription state </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-FBD07D40-C636-36A3-B572-B3079B8BBA28"><a name="GUID-FBD07D40-C636-36A3-B572-B3079B8BBA28"><!-- --></a>
		<h3 class="sectiontitle">SubscriptionState (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C const <a href="GUID-65943653-C8AF-3AF4-91B6-F48F55854B2F.html">CSIPSubscriptionStateHeader</a> &amp;</td><td>SubscriptionState</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section apidesc">
				<p>Gets subscription state </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">subscription state </span></p></div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 07:43:17 GMT -->
</html>