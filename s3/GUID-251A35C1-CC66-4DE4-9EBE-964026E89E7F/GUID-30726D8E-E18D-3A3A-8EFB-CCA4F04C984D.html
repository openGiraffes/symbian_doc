<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:31 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CStreamStore"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>CStreamStore</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D"><a name="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">CStreamStore Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;s32stor.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CStreamStore : public CBase</td></tr></table></div><div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CStreamStore<ul class="derivation"/></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E716B7D8-71E3-36E6-8677-361B72BC30A5">Commit</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-B1149D59-9753-374C-9424-CE34139AECB1">CommitL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C97F248A-D3E6-3F1D-982F-77221C3F9CB3">CompactL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-69FC3271-63F1-3AD5-8E14-E8BE469E287B">Delete</a>(<a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5F50B288-9855-35F9-8CAE-8738F4FD570E">DeleteL</a>(<a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a>)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a>
				</td><td><a href="#GUID-3EC033B8-A842-393E-A6E0-BCC6E9DE8050">ExtendL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-FA110BBE-C242-36EE-84B5-0F5CC101ABDA">ReclaimL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8696B042-3D5C-3995-A200-B77B978F8BF7">Revert</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-31D30CEE-5AB3-3D4B-9E17-1176E861EA5A">RevertL</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Provides the core abstract framework for stores allowing streams to be created and manipulated. </p>

		</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-E716B7D8-71E3-36E6-8677-361B72BC30A5"><a name="GUID-E716B7D8-71E3-36E6-8677-361B72BC30A5"><!-- --></a>
		<h3 class="sectiontitle">Commit (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Commit</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Commits changes.</p>

				<p>This function establishes a new commit point. Typically, this is done after changes to new or existing streams are complete and the streams themselves have been committed.</p>

				<p>Establishing a new commit point makes changes to the store permanent. Until such changes are committed, they can be rolled back or reverted, effectively causing the store to revert back to its state before the changes were made.</p>

				<p>This ensures that persistent data moves from one consistent state to another and guarantees the integrity of persistent store data in the event of failures. In particular, if a process terminates or a media failure occurs, the store reverts automatically to its state at the last successful commit point.</p>

				<p>Note that this function is not implemented by the direct file store <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> and the non-persistent in-memory store <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-B1149D59-9753-374C-9424-CE34139AECB1"><a name="GUID-B1149D59-9753-374C-9424-CE34139AECB1"><!-- --></a>
		<h3 class="sectiontitle">CommitL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CommitL</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc">
				<p>Commit changes and leaves if unsuccessful.</p>

				<p/>

				<p>See also: <a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html#GUID-E716B7D8-71E3-36E6-8677-361B72BC30A5">CStreamStore::Commit()</a> </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-C97F248A-D3E6-3F1D-982F-77221C3F9CB3"><a name="GUID-C97F248A-D3E6-3F1D-982F-77221C3F9CB3"><!-- --></a>
		<h3 class="sectiontitle">CompactL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CompactL</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Compacts the store. This returns free space to the appropriate system pool, for example, the filing system in the case of file-based stores.</p>

				<p>On completion, the function returns the total amount of free space available within the store.</p>

				<p>The function does not return until the compaction process is complete. This can take an extended amount of time.</p>

				<p>Note:</p>

				<p>this function is only supported by the permanent file store, <a href="GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C.html#GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C">CPermanentFileStore</a>, and not by <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> or <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a>.</p>

				<p>Streams must be closed before calling this function.</p>

				<p/>

				<p>See also: <a href="GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C.html#GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C">CPermanentFileStore</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The amount of free space available within the store. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-69FC3271-63F1-3AD5-8E14-E8BE469E287B"><a name="GUID-69FC3271-63F1-3AD5-8E14-E8BE469E287B"><!-- --></a>
		<a name="GUID-5E71ADCD-C2AF-3580-A76E-06CC66E3B220"><!----></a><h3 class="sectiontitle">Delete ( TStreamId )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Delete</td><td>(</td><td><a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a></td><td><span class="parameter">anId</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Deletes the specified stream from this store.</p>

				<p>This function is deprecated.</p>

				<p>If unsuccessful, the function fails silently with no way to return information to the user.</p>

				<p>The function is not supported by the direct file store, <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a>.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">anId</td><td>The id of the stream to be deleted.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-5F50B288-9855-35F9-8CAE-8738F4FD570E"><a name="GUID-5F50B288-9855-35F9-8CAE-8738F4FD570E"><!-- --></a>
		<a name="GUID-563EECA3-48DA-3920-907C-F67C46199943"><!----></a><h3 class="sectiontitle">DeleteL ( TStreamId )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DeleteL</td><td>(</td><td><a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a></td><td><span class="parameter">anId</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Deletes the specified stream from this store, leaving if unsuccessful.</p>

				<p>The function is not supported by the direct file store, <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> </p>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">anId</td><td>The id of the stream to be deleted from this store.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-3EC033B8-A842-393E-A6E0-BCC6E9DE8050"><a name="GUID-3EC033B8-A842-393E-A6E0-BCC6E9DE8050"><!-- --></a>
		<h3 class="sectiontitle">ExtendL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>
					<a href="GUID-1C4D4AFD-85E2-3D5D-B704-D1FA0E5E7DA2.html">TStreamId</a>
				</td><td>ExtendL</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc">
				<p>Generates a new stream within this store, and returns its id. This function can be used to create a new stream in advance of being written to.</p>

				<p>This function is not supported by the direct file store, <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The stream id for the newly generated stream. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-FA110BBE-C242-36EE-84B5-0F5CC101ABDA"><a name="GUID-FA110BBE-C242-36EE-84B5-0F5CC101ABDA"><!-- --></a>
		<h3 class="sectiontitle">ReclaimL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ReclaimL</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Reclaims space within a store, returning the total amount of free space available within that store.</p>

				<p>The function does not return until the reclamation process is complete. This can take an extended amount of time.</p>

				<p>The function is only supported by the permanent file store, <a href="GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C.html#GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C">CPermanentFileStore</a>, but not by other derived classes, e.g., <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> or <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C.html#GUID-A61CA45C-B19A-33FC-8233-76530DCDF03C">CPermanentFileStore</a> </p>

			</div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">The amount of free space available within the store. </span></p></div>
</div>

	</div>
<div class="nested1" id="GUID-8696B042-3D5C-3995-A200-B77B978F8BF7"><a name="GUID-8696B042-3D5C-3995-A200-B77B978F8BF7"><!-- --></a>
		<h3 class="sectiontitle">Revert (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Revert</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Rolls back the store to its state at the last commit point.</p>

				<p>This function is deprecated; use <a href="GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html#GUID-31D30CEE-5AB3-3D4B-9E17-1176E861EA5A">RevertL()</a> instead.</p>

				<p>If unsuccessful, the function fails silently with no way to return information to the user.</p>

				<p>The function is not supported by the direct file store <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> and the non-persistent in-memory store <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a> </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-31D30CEE-5AB3-3D4B-9E17-1176E861EA5A"><a name="GUID-31D30CEE-5AB3-3D4B-9E17-1176E861EA5A"><!-- --></a>
		<h3 class="sectiontitle">RevertL (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>RevertL</td><td>(</td><td>)</td><td>[inline]</td></tr></table></div><div class="section apidesc">
				<p>Rolls back the store to its state at the last commit point and leaves if unsuccessful.</p>

				<p>The function is not supported by the direct file store <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> and the non-persistent in-memory store <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a>.</p>

				<p/>

				<p>See also: <a href="GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85.html#GUID-8B713854-7858-3E02-8A1C-B3E6C1C9EA85">CDirectFileStore</a> <a href="GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD.html#GUID-5EC5199D-50F2-3BFA-BA45-4C5C017281DD">CBufStore</a> </p>

			</div>
</div>

	</div>

	
	
	
	
	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-30726D8E-E18D-3A3A-8EFB-CCA4F04C984D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:31 GMT -->
</html>