<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2011"/>
<meta name="DC.rights.owner" content="(C) Copyright 2011"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RDbNotifier"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4"/>
<link rel="stylesheet" type="text/css" href="css/commonltr.css"/>
<title>RDbNotifier</title>
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css"/><link href="css/html.css" rel="stylesheet" type="text/css"/><link href="css/style.css" rel="stylesheet" type="text/css"/><link href="css/nwg.css" rel="stylesheet" type="text/css"/><link href="css/eclipse.css" rel="stylesheet" type="text/css"/></head>
<body id="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4"><a name="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4"><!-- --></a><div class="body"><div class="contentLeft prTxt">

	<h1 class="sectiontitle">RDbNotifier Class Reference</h1>
	
	<div class="section include"><p>#include 
            
                    &lt;d32dbms.h&gt;
                </p></div>
<div class="section linkagainst" id="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4__linkagainst"><a name="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4__linkagainst"><!-- --></a><p>Link against: edbms.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RDbNotifier</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-39ED9F9A-AEC0-3B96-9A46-5FC9B02F67F7">TEvent</a> { <a href="#GUID-E5F96B41-E394-38F7-A179-CAF2C6DB7B0E">EClose</a>, <a href="#GUID-5968A366-2681-3BBB-B9C0-58722BCC158E">EUnlock</a>, <a href="#GUID-00589C8E-B965-32C2-A1B9-BA151708339A">ECommit</a>, <a href="#GUID-36F25270-3D19-377C-804C-6BB552BF5704">ERollback</a>, <a href="#GUID-A6A4ECA7-C220-3074-B38A-92DC704F0634">ERecover</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6BAC8297-D24A-3AE2-B959-AECFE525B191">Cancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7296813D-499C-3E0E-830C-84541AE0F357">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-49F19C93-5DE6-37E9-B9B3-B44AEF793EF5">NotifyChange</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-EB2583BB-8079-35A2-955D-145B5304103C">NotifyUnlock</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-AB5AF47F-6F8D-36C6-A1F9-1021D24F0586">Open</a>(<a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;)</td></tr></tbody></table></div><div class="section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
			<p>Provides notification of database changes to clients.</p>

			<p>This is useful for shared databases.   </p>

		</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="nested1" id="GUID-39ED9F9A-AEC0-3B96-9A46-5FC9B02F67F7"><a name="GUID-39ED9F9A-AEC0-3B96-9A46-5FC9B02F67F7"><!-- --></a>
		<h3 class="sectiontitle">Enum TEvent</h3>
		
		<div class="section enumerationdetail"><div class="section apidesc">
				<p>Defines the events which may be reported by a DBMS change notifier through this <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4">RDbNotifier</a> object.</p>

				<p>Each enumerator corresponds to a distinct event type.</p>

				<p>The changes are reported through a <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> object when an outstanding notification request completes.</p>

				<p>Notes</p>

				<p>If further database events occur while a client is handling the completion of a previous event, the notifier remembers the most significant event. The order of importance is:</p>

				<p>ERecover &gt; ERollback &gt; ECommit</p>

				<p>where the symbol &gt; means "is more important than" </p>

			</div>
<div class="section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td><a name="GUID-E5F96B41-E394-38F7-A179-CAF2C6DB7B0E"/><span class="enumerator">EClose</span></td><td/><td>
							<p>The database has been closed. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-5968A366-2681-3BBB-B9C0-58722BCC158E"/><span class="enumerator">EUnlock</span></td><td/><td>
							<p>All read locks have been removed. </p>

						 </td></tr><tr><td><a name="GUID-00589C8E-B965-32C2-A1B9-BA151708339A"/><span class="enumerator">ECommit</span></td><td/><td>
							<p>A transaction has been committed. </p>

						 </td></tr><tr class="bg"><td><a name="GUID-36F25270-3D19-377C-804C-6BB552BF5704"/><span class="enumerator">ERollback</span></td><td/><td>
							<p>A transaction has been rolled back </p>

						 </td></tr><tr><td><a name="GUID-A6A4ECA7-C220-3074-B38A-92DC704F0634"/><span class="enumerator">ERecover</span></td><td/><td>
							<p>The database has been recovered </p>

						 </td></tr></table></div>
</div>

	</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="nested1" id="GUID-6BAC8297-D24A-3AE2-B959-AECFE525B191"><a name="GUID-6BAC8297-D24A-3AE2-B959-AECFE525B191"><!-- --></a>
		<h3 class="sectiontitle">Cancel (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Cancel</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Cancels any outstanding notification request to this DBMS notifier.</p>

				<p>The outstanding request completes with a KErrCancel. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-7296813D-499C-3E0E-830C-84541AE0F357"><a name="GUID-7296813D-499C-3E0E-830C-84541AE0F357"><!-- --></a>
		<h3 class="sectiontitle">Close (  )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Closes a DBMS change notifier. Any outstanding notification request is automatically cancelled.</p>

				<p>Note that this function can be called on a DBMS change notifier that has already been closed. </p>

			</div>
</div>

	</div>
<div class="nested1" id="GUID-49F19C93-5DE6-37E9-B9B3-B44AEF793EF5"><a name="GUID-49F19C93-5DE6-37E9-B9B3-B44AEF793EF5"><!-- --></a>
		<a name="GUID-39B016CE-FA13-358A-9D1F-D1BC710D030D"><!----></a><h3 class="sectiontitle">NotifyChange ( TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyChange</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Makes an asynchronous request for notification of changes to the database.</p>

				<p>All events which indicate a change to the database are reported; in practice, this means all database events except <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-5968A366-2681-3BBB-B9C0-58722BCC158E">RDbNotifier::EUnlock</a>.</p>

				<p>When a change event occurs, the request completes and the <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> object contains one of the appropriate enumerators defined by the TEvent enumeration member.</p>

				<p>Alternatively, if an outstanding request is cancelled by a call to the <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-6BAC8297-D24A-3AE2-B959-AECFE525B191">Cancel()</a> member function of this class, then the request completes with KErrCancel.</p>

				<p>Only one notification request can be outstanding on this notifier at any one time.</p>

				<p>Note that if further database events occur while a client is handling a request completion, the notifier records the most significant database event and this is signalled as soon as the client issues the next <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-EB2583BB-8079-35A2-955D-145B5304103C">NotifyUnlock()</a> or <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-49F19C93-5DE6-37E9-B9B3-B44AEF793EF5">NotifyChange()</a> request.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStatus</td><td>The request status object. If the request is cancelled, this is set to KErrCancel. If the request completes normally, this is set to one of the enumerator values defined by the TEvent enumeration member.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-EB2583BB-8079-35A2-955D-145B5304103C"><a name="GUID-EB2583BB-8079-35A2-955D-145B5304103C"><!-- --></a>
		<a name="GUID-1F5BC184-0D77-3306-B424-A7A4EF8EAAF6"><!----></a><h3 class="sectiontitle">NotifyUnlock ( TRequestStatus &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyUnlock</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Makes an asynchronous request for notification of a database event. All events, including the release of all read locks, are reported.</p>

				<p>When a database event occurs, the request completes and the <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> objectcontains one of the enumerators defined by the TEvent enumeration member.</p>

				<p>Alternatively, if an outstanding request is cancelled by a call to the <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-6BAC8297-D24A-3AE2-B959-AECFE525B191">Cancel()</a> member function of this class, then the request completes with KErrCancel.</p>

				<p>Only one notification request can be outstanding on this notifier at any one time.</p>

				<p>Note that if further database events occur while a client is handling a request completion, the notifier records the most significant database event and this is signalled as soon as the client issues the next <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-EB2583BB-8079-35A2-955D-145B5304103C">NotifyUnlock()</a> or <a href="GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html#GUID-49F19C93-5DE6-37E9-B9B3-B44AEF793EF5">NotifyChange()</a> request.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aStatus</td><td>The request status object. If the request is cancelled, this is set to KErrCancel. If the request completes normally, this is set to one of the enumerator values defined by the TEvent enumeration member.  </td></tr></table></div>
</div>

	</div>
<div class="nested1" id="GUID-AB5AF47F-6F8D-36C6-A1F9-1021D24F0586"><a name="GUID-AB5AF47F-6F8D-36C6-A1F9-1021D24F0586"><!-- --></a>
		<a name="GUID-A4EF3737-589E-3473-852B-17292A0761A6"><!----></a><h3 class="sectiontitle">Open ( RDbDatabase &amp; )</h3>
		
		<div class="section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-E11B1981-CA78-3660-AE09-AD3B4D453733.html">RDbDatabase</a> &amp;</td><td><span class="parameter">aDatabase</span></td><td>)</td><td/></tr></table></div><div class="section apidesc">
				<p>Opens a DBMS change notifier on a database.</p>

				<p>Note that a notifier cannot be opened on a client side database.</p>

				<p/>

			</div>
<div class="section parameters"><table class="parameters"><thead><th>Parameter</th><th>Description</th></thead><tr><td class="parameter">aDatabase</td><td>The database to be observed.  </td></tr></table></div>
<div class="section returnsdoc"><p><span class="returnsdoclabel">Returns: </span><span class="returnsdocvalue">KErrNone if successful, otherwise another of the system-wide error codes. </span></p></div>
</div>

	</div>

	
	
	
	
	
	
</div></div><div class="footer"><hr/><div class="copy">© Nokia 2011.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-53AB4535-A859-3A8C-8344-53865B2FE0B4.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:04:24 GMT -->
</html>