
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-F8159093-6349-516B-8301-C50BD2AC9F2C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:06:14 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Using URIs from the URI List" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C" /><meta name="DC.Relation" scheme="URI" content="GUID-939C0EE6-0931-4898-842B-9D0C9D61DD2F" /><meta name="DC.Relation" scheme="URI" content="GUID-C0E7CBC4-C525-4CA8-8D21-E7E2ABE396CE" /><meta name="DC.Relation" scheme="URI" content="GUID-956E7DD6-C7FA-5F0A-9C86-D7FE58373A25" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C" /><meta name="DC.Language" content="en" /><title>Using URIs from the URI List </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C">Using URIs from the URI List</h1><div>
<p>The URI List framework provides two classes for URI list operation: <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><code class="apiname">RInetUri</code></a> and <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><code class="apiname">RInetUriList</code></a>. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><code class="apiname">RInetUri</code></a> represents a handle to the URI and its associated
properties (like <em>service type</em>, <em>list type</em>, <em>permission</em> and <em>favourite name</em>). <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><code class="apiname">RInetUriList</code></a> represents
a handle to the entire list and provides APIs for adding URIs to the
list, removing URIs from the list, and updating URIs in the list.
Before performing any operation, a session with URI List Server should
be created by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-216A97DE-FB70-3465-8989-75914D4698C2"><code class="apiname">RInetUriList::OpenL()</code></a>. </p>
<p>This section contains the following subsections: </p>
<ul>
<li id="GUID-2D38354A-5FD7-5D72-B9D2-E02D9345E60A"><a name="GUID-2D38354A-5FD7-5D72-B9D2-E02D9345E60A"><!-- --></a><p> <a href="#GUID-D466B837-760E-5FD9-84C0-D80DDB205C97">Adding a URI to the list</a> </p> </li>
<li id="GUID-7E954F3C-81F6-5EAB-975F-3E6619EFB312"><a name="GUID-7E954F3C-81F6-5EAB-975F-3E6619EFB312"><!-- --></a><p> <a href="#GUID-7FA78C8E-74A5-5FF8-99DF-11A6D9A04F83">Removing a URI from the list</a> </p> </li>
<li id="GUID-12EC94EA-75C5-52D7-8415-7E888144F491"><a name="GUID-12EC94EA-75C5-52D7-8415-7E888144F491"><!-- --></a><p> <a href="#GUID-202A44E4-3E28-5B84-8C8C-E1B1D094B9D5">Updating a URI in the list </a> </p> </li>
</ul>
<div id="GUID-D466B837-760E-5FD9-84C0-D80DDB205C97"><h3 class="section-title">Adding
a URI to the list</h3> <p>A URI can be added to the list using
the following API: </p> <p> <code class="codeph">void AddL(const RInetUri&amp;
          aInetUri)</code> </p> <p>Where the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><code class="apiname">RInetUri</code></a> parameter is the <code class="codeph">Uri</code> property object that contains
all properties of a URI. Sample code to add URIs to the list is shown
here. </p> <pre class="codeblock">//Create the URI
_LIT8(KUri, “http://www.nokia.com”);

//Create a RInetUri object
RInetUri uriObject;

//Now initialise the object with Uri properties. 
    uriObject.CreateL ( KUri, EWapPush, EBlackList);
    CleanupClosePushL(uriObject);

//Now create the RInetUriList object
    RInetUriList uriListObj;

//Create a server session
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

//Now add the Uri to list. 
    uriListObj.AddL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre> <p>The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-693DB5EF-B91F-3AD1-BD59-66F7D6987C76"><code class="apiname">RInetUri::CreateL</code></a> function
accepts a reference to an 8-bit descriptor only. By default, the permission
attribute of <code class="codeph">Uri</code> is set to <code class="codeph">EReadWrite</code>. <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-089BEF50-85CB-36E8-BD4E-FB836A687307"><code class="apiname">RInetUri::Close</code></a> should be called to free up
the memory. </p> </div>
<div id="GUID-7FA78C8E-74A5-5FF8-99DF-11A6D9A04F83"><h3 class="section-title">Removing
a URI from the list</h3> <p>The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><code class="apiname">RInetUriList</code></a> class provides the following API for removing a URI from the list: </p> <p> <code class="codeph">void RemoveL(const RInetUri&amp;           aInetUri)</code> </p> <p>Where the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><code class="apiname">RInetUri</code></a> parameter is the <code class="codeph">Uri</code> property object. This object handle can be obtained
by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-0F1C347F-1F7F-343D-B36A-B3924C7FA795"><code class="apiname">RInetUriList::OpenInetUriL()</code></a>, and passing
URI and service type. Sample code to remove URIs from the list is
shown here: </p> <pre class="codeblock">_LIT8(KUri “http://www.nokia.com”);
    RInetUri uriObject;
    RInetUriList uriListObj;
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

    uriObject = uriListObj. OpenInetUriL(KUri, EBrowser);
    CleanupClosePushL(uriObject);
    uriListObj.RemoveL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre> </div>
<div id="GUID-202A44E4-3E28-5B84-8C8C-E1B1D094B9D5"><h3 class="section-title">Updating
a URI in the list</h3> <p>The <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><code class="apiname">RInetUriList</code></a> class
provides the following API for updating properties of a URI in the
list: </p> <p> <code class="codeph">void UpdateL(const RInetUri&amp;          
aInetUri)</code> </p> <p>Where the <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><code class="apiname">RInetUri</code></a> parameter
is the <code class="codeph">Uri</code> property object. This object handle can
be obtained by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-0F1C347F-1F7F-343D-B36A-B3924C7FA795"><code class="apiname">RInetUriList::OpenInetUriL()</code></a>, and passing URI and service type. Only <em>favourite name</em> and <em>list type</em> of a URI can be updated. Sample code to update a URI
in the list is shown here. </p> <pre class="codeblock">_LIT8(KUri “http://www.nokia.com”);
    _LIT8(KUriFavoritename “Home Page of Symbian”);
    RInetUri uriObject;
    RInetUriList uriListObj;
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

    uriObject = uriListObj. OpenInetUriL(KUri, EBrowser);
    CleanupClosePushL(uriObject);
    uriObject.SetListType(EBlackList);
    uriObject.SetFavoriteNameL(KUriFavoritename);
    uriListObj.UpdateL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated December 2nd, 2010</p><hr /><div class="copy">© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-F8159093-6349-516B-8301-C50BD2AC9F2C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:06:14 GMT -->
</html>