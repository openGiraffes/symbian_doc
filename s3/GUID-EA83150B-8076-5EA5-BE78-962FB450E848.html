
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-EA83150B-8076-5EA5-BE78-962FB450E848.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:00:27 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2011" /><meta name="DC.rights.owner" content="(C) Copyright 2011" /><meta name="DC.Type" content="task" /><meta name="DC.Title" content="How to Configure a Port: Tutorial" /><meta name="abstract" content="This tutorial shows the basic steps to perform any serial port configuration through the RComm API." /><meta name="description" content="This tutorial shows the basic steps to perform any serial port configuration through the RComm API." /><meta name="DC.Relation" scheme="URI" content="GUID-35D49549-1F4D-583F-A45D-9B557A207DD2" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04" /><meta name="DC.Relation" scheme="URI" content="GUID-9B83CDD4-FC94-51A0-AC67-CD04BCAFEF08" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-EA83150B-8076-5EA5-BE78-962FB450E848" /><meta name="DC.Language" content="en" /><title>How to Configure a Port: Tutorial </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_design.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-EA83150B-8076-5EA5-BE78-962FB450E848">How to Configure a Port: Tutorial</h1><div><p>This tutorial shows the basic steps to perform any serial port configuration through the RComm API. </p><h3>Steps</h3><ol id="GUID-C7AE2DDB-A43B-5049-86B7-719BD8B224E1"><a name="GUID-C7AE2DDB-A43B-5049-86B7-719BD8B224E1"><!-- --></a><li id="GUID-84194635-B104-5ACD-9350-DF3C0216E744"><a name="GUID-84194635-B104-5ACD-9350-DF3C0216E744"><!-- --></a><p></p>Load the CSY and open a port.  </li> <li id="GUID-69055AAE-5757-58E0-8A2A-E36531F4F92C"><a name="GUID-69055AAE-5757-58E0-8A2A-E36531F4F92C"><!-- --></a><p></p>Get the capabilities of the port by calling <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-4A6ECC68-EBC7-3B6C-94AE-9272669F6FF2"><code class="apiname">RComm::Caps()</code></a> </li> <li id="GUID-B1CF56DC-B7B2-59E3-B307-00D1FC28E39A"><a name="GUID-B1CF56DC-B7B2-59E3-B307-00D1FC28E39A"><!-- --></a><p>The capabilities of the port are in the TCommCaps structure. For example, TCommCapsV01.iRate contains a bit field of the bit rates the port can manage. </p> Note: A port may be able to manage bit rates higher than those contained in the TCommCapsV01.iRate bit field.  </li> <li id="GUID-90040672-A2C7-5471-ACD7-0E598EDFB96A"><a name="GUID-90040672-A2C7-5471-ACD7-0E598EDFB96A"><!-- --></a><p></p>Create an object of type TCommConfigV01.  </li> <li id="GUID-63322006-F8E5-5D03-8751-3CFA68D83A76"><a name="GUID-63322006-F8E5-5D03-8751-3CFA68D83A76"><!-- --></a><p></p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-4C38E1D8-EC81-36A3-BAA2-4D4FFECFD995"><code class="apiname">RComm::Config()</code></a> with the <code class="codeph">aConfig</code> parameter set to the <code class="codeph">TCommConfigV01</code> object to get the port configuration.  </li> <li id="GUID-F33722CB-81E9-5FB3-87C2-C1A7267B72DE"><a name="GUID-F33722CB-81E9-5FB3-87C2-C1A7267B72DE"><!-- --></a><p></p>Set the fields that must be changed in the <code class="codeph">TCommConfigV01</code> object. For example, set the iSIREnable flag to enable Infrared.  </li> <li id="GUID-82724FBB-9070-59C6-B3B0-694A9EBA82E6"><a name="GUID-82724FBB-9070-59C6-B3B0-694A9EBA82E6"><!-- --></a><p></p>Call <a href="GUID-251A35C1-CC66-4DE4-9EBE-964026E89E7F/GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-4C38E1D8-EC81-36A3-BAA2-4D4FFECFD995"><code class="apiname">RComm::Config()</code></a> with the <code class="codeph">TCommConfigV01</code> object as the <code class="codeph">aConfig</code> parameter.  The port is now configured.  </li> </ol> <div><h3 class="section-title">Example</h3> <pre class="codeblock">TCommCaps ourCapabilities;
User::LeaveIfError(commPort.Caps (ourCapabilities));

 if ((ourCapabilities ().iSIR &amp; KCapsSIR115kbps) ||
(ourCapabilities ().iSIR &amp; KCapsSIR2400bpsOnly) ||
(ourCapabilities ().iSIR &amp; KCapsSIR4Mbps))
{
   // IR is supported, so enable it
   TCommConfig portSettings;
   User::LeaveIfError(commPort.Config (portSettings));

   portSettings ().iSIREnable = ESIREnable;
   User::LeaveIfError (commPort.SetConfig (portSettings));
}</pre> </div> </div><h3>Related concepts</h3><ul><li><a href="GUID-35D49549-1F4D-583F-A45D-9B557A207DD2.html">GlassTerm -
                glass teletype terminal</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">Â© Nokia 2011.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/s3/GUID-EA83150B-8076-5EA5-BE78-962FB450E848.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 06:00:27 GMT -->
</html>