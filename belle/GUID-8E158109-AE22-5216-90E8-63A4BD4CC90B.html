
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-8E158109-AE22-5216-90E8-63A4BD4CC90B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:40 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Opening a Socket Server connection: Tutorial" /><meta name="abstract" content="This tutorial describes how an application can open and manage a connection to the Socket Server. Other Socket Server tutorials build upon this tutorial. The Socket Server is also known as ESock." /><meta name="description" content="This tutorial describes how an application can open and manage a connection to the Socket Server. Other Socket Server tutorials build upon this tutorial. The Socket Server is also known as ESock." /><meta name="DC.Relation" scheme="URI" content="GUID-12C9C36B-8AD4-544E-A6A3-54A799EF0280" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04" /><meta name="DC.Relation" scheme="URI" content="GUID-2139B04C-6ED6-599B-A018-D92451B8353E" /><meta name="DC.Relation" scheme="URI" content="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD" /><meta name="DC.Relation" scheme="URI" content="GUID-E9E2783E-44A0-5BA6-BBF3-D13C8D67B53E" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-8E158109-AE22-5216-90E8-63A4BD4CC90B" /><meta name="DC.Language" content="en" /><title> Opening a Socket Server connection: Tutorial </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-8E158109-AE22-5216-90E8-63A4BD4CC90B"> Opening a Socket Server connection: Tutorial</h1><div><p>This tutorial describes how an application can open and
manage a connection to the Socket Server. Other Socket Server tutorials
build upon this tutorial. The Socket Server is also known as ESock. </p>
<div id="GUID-097EE4B3-EC85-4ED8-982A-690C5DCEB8D7"><h3 class="section-title">Connecting
to the Socket Server</h3><p>The <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RSocketServ</code></a> class
provides the <code class="codeph">Connect()</code> function to create a session
to the socket server. </p></div>
<div id="GUID-D3A142FD-C629-4C5C-9063-E4F82A125937"><h3 class="section-title">Procedure</h3><p>The steps to connect and then close a session with the Socket
Server are: </p><ul>
<li><p>   Call one of the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C9E237C5-DCFB-3F66-87E5-63425156995C"><code class="apiname">RSocketServ::Connect()</code></a>    functions.  </p> </li>
<li><p>   Perform socket operations  </p> </li>
<li><p>   Call <code class="codeph">Close</code> to end the session with the
Socket Server    </p> </li>
</ul></div>
<div id="GUID-109E612D-C6BA-4416-B404-B37342233FB3"><h3 class="section-title">Example</h3><pre class="codeblock">RSocketServ ss;

// Connect to ESOCK
ss.Connect();

// Perform operations on the socket server
...

// Close the connection
ss.Close();
</pre></div>
<div id="GUID-8F15D85A-6703-4297-984B-DD569D534432"><h3 class="section-title">Further
considerations</h3><p> The <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C9E237C5-DCFB-3F66-87E5-63425156995C"><code class="apiname">RSocketServ::Connect()</code></a> function allows optional extra information to be sent to the Socket
Server to change the performance of the connection. Two optional parameters
are available:  </p><ol>
<li id="GUID-A41FB7DA-2EE4-460F-9698-70A50FB682EB"><a name="GUID-A41FB7DA-2EE4-460F-9698-70A50FB682EB"><!-- --></a><p><strong>Message Slots</strong> - If the client application expects to   keep a large number of
requests open at the same time, then the client   application can
increase the message slots available to the connection.</p></li>
<li id="GUID-FDEF0A30-F872-49DF-A7EC-3B975040E5DC"><a name="GUID-FDEF0A30-F872-49DF-A7EC-3B975040E5DC"><!-- --></a><p><strong>Protocol
Preference</strong> - If the client application will   use the connection
to interact with only one protocol, then this protocol   should be
specified. The Socket Server uses the preferred protocol to improve
  the efficiency of the messages between the client application and
the protocol</p></li>
</ol></div>
<div id="GUID-5AA882EF-269B-54A6-8CDB-B1E9F26BB7D5"><h3 class="section-title"><!--no section title--></h3><p>The <code class="codeph">RSocketServ</code> connection allows a number of <a href="GUID-D0D27AEA-FDDB-5F6F-94F6-ADDF5910DC47.html">sub-connections</a> that offer more functionality. The sub-connections available are: </p> <ul>
<li id="GUID-8C317F12-D19A-5B61-A88E-E1BC10BBFE78"><a name="GUID-8C317F12-D19A-5B61-A88E-E1BC10BBFE78"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RConnection</code></a> </p> </li>
<li id="GUID-DA08493B-DB72-57F0-9CB9-CF4BE80A94E9"><a name="GUID-DA08493B-DB72-57F0-9CB9-CF4BE80A94E9"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RSubConnection</code></a> </p> </li>
<li id="GUID-28A3F706-7A81-5F72-8E66-0D236EDE6A40"><a name="GUID-28A3F706-7A81-5F72-8E66-0D236EDE6A40"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RSocket</code></a> </p> </li>
<li id="GUID-F0D169F8-7C22-5AC1-BF22-EAC4D07B9E21"><a name="GUID-F0D169F8-7C22-5AC1-BF22-EAC4D07B9E21"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RHostResolver</code></a> </p> </li>
<li id="GUID-3A4ADFEA-4FCD-54DD-8367-0A42D21A67A6"><a name="GUID-3A4ADFEA-4FCD-54DD-8367-0A42D21A67A6"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EF29C1D7-B1E5-370F-AE37-66231A6BE449.html"><code class="apiname">RNetDatabase</code></a> </p> </li>
</ul> <p>The purpose of each of these sub-connections is described
in the . </p> <p><strong>Procedure</strong> </p> <p>The procedure to attach any of these sub-connections
is: </p> <ol id="GUID-E146CDDE-DE2C-579C-901F-073C63C61F6D">
<li id="GUID-E67862A6-17E4-5F5D-8A45-F7F8BEA01E04"><a name="GUID-E67862A6-17E4-5F5D-8A45-F7F8BEA01E04"><!-- --></a><p>Create or use
an existing <code class="codeph">RSocketServ</code> session. </p> </li>
<li id="GUID-C2AD2B55-F247-5D27-B368-4467E05D5800"><a name="GUID-C2AD2B55-F247-5D27-B368-4467E05D5800"><!-- --></a><p>Call the <code class="codeph">Open()</code> function on the object for the sub-connection class.
Pass into the <code class="codeph">Open()</code> function a reference to the <code class="codeph">RSocketServ</code> session. </p> </li>
<li id="GUID-18FF884F-8930-5851-9ECD-6B9BA55A48B2"><a name="GUID-18FF884F-8930-5851-9ECD-6B9BA55A48B2"><!-- --></a><p>Perform sub-connection
operations </p> </li>
<li id="GUID-0A21C702-5125-55D1-8313-E1E7D1949C54"><a name="GUID-0A21C702-5125-55D1-8313-E1E7D1949C54"><!-- --></a><p>Call <code class="codeph">Close</code> to end the sub-session </p> </li>
</ol> <p id="GUID-F5AEE180-B9A9-542E-84C9-2C505FD75AA4-GENID-GUID-2BA537EB-BAF8-4C7E-AB00-4D19E7078467"><a name="GUID-F5AEE180-B9A9-542E-84C9-2C505FD75AA4-GENID-GUID-2BA537EB-BAF8-4C7E-AB00-4D19E7078467"><!-- --></a><strong>Example 1: Socket
(RSocket)</strong> </p> <pre class="codeblock">RSocketServ ss;
RSocket sock;

// Connect to the Sockets Server
ss.Connect();

// open a socket
sock.Open(ss);

// Perform operations on the socket
...

// Close the socket connection
sock.Close();
</pre> <p id="GUID-F5AEE180-B9A9-542E-84C9-2C505FD75AA4-GENID-GUID-2BA537EB-BAF8-4C7E-AB00-4D19E7078467"><a name="GUID-F5AEE180-B9A9-542E-84C9-2C505FD75AA4-GENID-GUID-2BA537EB-BAF8-4C7E-AB00-4D19E7078467"><!-- --></a><strong>Example 2: Connection
Management (RConnection)</strong> </p> <pre class="codeblock">RSocketServ ss;
RConnection conn;

// Connect to the Sockets Server
ss.Connect();

// Open the Connection Management sub-connection
conn.Open(ss);

// Perform operations on the connection
...

// Close the sub-connection and connection
ss.Close();
</pre> <p>This example shows that you do not need to close sub-connections
explicitly. If you close the RSocketServ connection, the Comms Framework
closes all attached sub-connections. </p> </div>
</div><h3>Related reference</h3><ul><li><a href="GUID-12C9C36B-8AD4-544E-A6A3-54A799EF0280.html">Socket
Server Reference</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated December 8th, 2010</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-8E158109-AE22-5216-90E8-63A4BD4CC90B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:40 GMT -->
</html>