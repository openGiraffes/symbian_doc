
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:53 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Handling of Multiple Clients" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D" /><meta name="DC.Relation" scheme="URI" content="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B" /><meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B" /><meta name="DC.Language" content="en" /><title>Handling of Multiple Clients </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B">Handling of Multiple Clients</h1><div><div id="GUID-10385EFC-1D2E-5B5B-A45F-481DDB7FD7E6"><h3 class="section-title">Overview</h3> <p>The Contacts Model uses a Client Server architecture. Many clients can send requests to the server for operations on one or more contacts databases. </p> <p>In the case where multiple clients are accessing the same database the server will attempt to process the requests sequentially. </p> <p>Requests are usually carried out immediately: </p> <ul><li id="GUID-0C2B9C63-789B-5119-A184-EFEBB0D3C48B"><a name="GUID-0C2B9C63-789B-5119-A184-EFEBB0D3C48B"><!-- --></a><p>The request is valid for the current state and is processed </p> </li> <li id="GUID-CCDE2531-BC43-5611-AA73-DC6DF26AB938"><a name="GUID-CCDE2531-BC43-5611-AA73-DC6DF26AB938"><!-- --></a><p>The request is not valid for the current state and is completed by leaving with an appropriate error code </p> </li> </ul> <p>There are however two scenarios where a request cannot be processed immediately: </p> <ul><li id="GUID-2FBB589B-0BB1-5BD9-AA34-81BEE3867A86"><a name="GUID-2FBB589B-0BB1-5BD9-AA34-81BEE3867A86"><!-- --></a><p>The request needs to open or modify a contact item currently locked by any session </p> </li> <li id="GUID-8DA367AD-939A-58BF-887A-AADEFBCE33C4"><a name="GUID-8DA367AD-939A-58BF-887A-AADEFBCE33C4"><!-- --></a><p>The current state of the server prevents the request from being carried out </p> </li> </ul> <p>In both of these cases the request is queued with the expectation that the condition preventing its completion will soon cease. </p> <p>When a contact item is unlocked, or the state of the server changes, an attempt is made to execute the first request in the queue. If the request still cannot be processed it is once again added to the queue. This activity is repeated for all queued requests. </p> <p>A request will only remain in the queue for a defined period known as the operation timeout. At the end of this period the client’s request will be completed by leaving with an error code appropriate for the request. These error codes conform to the values used in the previous version of the Contacts Model. </p> </div> <div id="GUID-92691A23-A7E9-5C54-A4BF-A84CE7358F65"><h3 class="section-title">Setting the Operation Timeout Value</h3> <p>The following API is used to set the operation timeout value: </p> <pre class="codeblock">void CContactDatabase::SetOperationTimeOutL(const TInt aMilSeconds) const</pre> <div class="tablenoborder"><a name="GUID-3C039DC6-75D0-5C60-965C-2312CB353DB6"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-3C039DC6-75D0-5C60-965C-2312CB353DB6" frame="border" border="1" rules="all"><tbody><tr class=""><td class="cellrowborder" valign="top"><p>Parameter </p> </td> <td class="cellrowborder" valign="top"><p> <em>aMilSeconds </em> </p> <p>The operation timeout in milliseconds. This timeout is only applied to requests sent by clients of this database after this time. </p> </td> </tr> </tbody> </table></div> </div> <div id="GUID-4AAFE94A-183C-57D5-9456-09026F050DE7"><h3 class="section-title">Implementation Considerations </h3> <p>By default the operation timeout is 1 second. You may wish to change this value based on the way in which the application layer uses the Contacts Model. </p> <p>The timeout is set per session – multiple clients using the same database can specify independent values for the operation timeout. </p> </div> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D541AD43-0832-57CB-BFB3-2FE386942F9B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:53 GMT -->
</html>