<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CActiveScheduler" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171" />
<title>CActiveScheduler</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171"><a name="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CActiveScheduler Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;e32base.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: euser_v5.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CActiveScheduler : public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CActiveScheduler<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="body refbody apiDetail apiDetail cxxClassNestedDetail section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li>CActiveScheduler::TLoop</li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Type Definitions</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">typedef</td><td>TLoop * <a href="#GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880">TLoopOwner</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2">CActiveScheduler</a>()</td></tr><tr class="bg"><td align="right" class="code"></td><td><a href="#GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF">~CActiveScheduler</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9D385056-C6D7-33E2-BB4F-090BAEBFDAED">Add</a>(<a class="xref xref apiRelation" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><a href="#GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D">Current</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-73CBD4BA-5A17-34CA-99A1-4EFAD30FE154">Install</a>(<a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><a href="#GUID-AC9D2885-4B00-3FCD-80A6-A1325E24347F">Replace</a>(<a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-E1032B9F-9929-3BE3-AB3F-2BB5C8652544">RunIfReady</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-01A006BB-9973-31EF-9409-CA7F83E0B721">WaitForAnyRequest</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-4E8EC2E6-EB37-30AA-8782-4A52FAAEE5A6">Extension_</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD">Level</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Controls the handling of asynchronous requests as represented by active objects.</p>
<p class="p">An active scheduler is used to schedule the sequence in which active object request completion events are handled by a single event-handling thread.</p>
<p class="p">An active scheduler can be instantiated and used directly if either:</p>
<div class="p">
<ul class="ul">
<li class="li">
<p class="p">the RunL() function of all of its active objects is guaranteed not to leave, or</p>
</li>
</ul>
</div>
<div class="p">
<ul class="ul">
<li class="li">
<p class="p">each of its active objects implements a suitable RunError() function to provide suitable cleanup</p>
</li>
</ul>
</div>
<p class="p">If any of the active scheduler's active objects does not provide a RunError() function, then a <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B4C76104-EA1B-3FC3-A31E-86A976598171">CActiveScheduler</a> derived class must be defined and an implementation of the <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a> function provided to perform the cleanup required.</p>
<p class="p">There is one active scheduler per thread and the static functions provided by the class always refer to the current active scheduler.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">CActiveScheduler::Error</a> <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F">CActive</a> <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> </p>
</div>
<h2 class="sectiontitle">Member Type Definition Documentation</h2><div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880"><a name="GUID-F08FE73A-C17B-39C6-A668-FB2B0B9F8880"><!-- --></a>
<h3 class="sectiontitle">Typedef TLoopOwner</h3>
<div class="section signature"><table class="signature"><tr><td>typedef TLoop *</td><td>TLoopOwner</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2"><a name="GUID-347160E5-B5B3-3316-BF79-5550FE32B2C2"><!-- --></a>
<h3 class="sectiontitle">CActiveScheduler (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CActiveScheduler</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructs an active scheduler.</p>
<p class="p">After construction, the scheduler should be installed.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-73CBD4BA-5A17-34CA-99A1-4EFAD30FE154">CActiveScheduler::Install</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF"><a name="GUID-3BB97353-EA84-3E4C-BCD3-CC077078CECF"><!-- --></a>
<h3 class="sectiontitle">~CActiveScheduler (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CActiveScheduler</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Frees resources prior to destruction.</p>
<p class="p">Specifically, it removes all active objects from the active scheduler's list of active objects.</p>
<p class="p">An active scheduler should only be destroyed when the top-level call to <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> has returned.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">CActiveScheduler::Start</a> <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9D385056-C6D7-33E2-BB4F-090BAEBFDAED"><a name="GUID-9D385056-C6D7-33E2-BB4F-090BAEBFDAED"><!-- --></a>
<a name="GUID-E98BE8E3-A6E1-3810-A774-A61BC44A80A6"><!-- --></a><h3 class="sectiontitle">Add ( CActive * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Add</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a> *</td><td><span class="parameter">aActive</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Adds the specified active object to the current active scheduler.</p>
<p class="p">An active object can be removed from an active scheduler either by destroying the active object or by using its Deque() member function.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A0987E46-FC71-39D5-99F9-6FF02EC6CEEE">CActive::Deque</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aActive</td><td>Pointer to the active object to be added. </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">41 if the active object aRequest has already been added to the current active scheduler.</td></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">48 if aRequest is NULL.</td></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">44 if the thread does not have an installed active scheduler.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D"><a name="GUID-F03D7A42-AE68-3ACA-95A8-0306C7E5851D"><!-- --></a>
<h3 class="sectiontitle">Current (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>Current</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets a pointer to the currently installed active scheduler.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the active scheduler which is currently installed. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8"><a name="GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8"><!-- --></a>
<a name="GUID-B842A955-E9CC-3E0D-8403-0264F7E4BF5A"><!-- --></a><h3 class="sectiontitle">Error ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Error</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aError</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Handles the result of a leave occurring in an active objects RunL() function.</p>
<p class="p">An active scheduler always invokes an active objects RunL() function under a trap harness.</p>
<p class="p">The default implementation must be replaced.</p>
<p class="p">Any cleanup relevant to the possible causes of leaving should be performed. If <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> or <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt()</a> is called from within this function, the current wait loop terminates. This may be an appropriate response to catastrophic error conditions.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">CActiveScheduler::Halt</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aError</td><td>The leave code propagated from the active objects RunL() function </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">47 if the default implementation is invoked.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4E8EC2E6-EB37-30AA-8782-4A52FAAEE5A6"><a name="GUID-4E8EC2E6-EB37-30AA-8782-4A52FAAEE5A6"><!-- --></a>
<a name="GUID-0DC0CC6C-9798-3F55-8555-C0DFFD81D7AA"><!-- --></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Extension function </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CC11238A-11FA-3AB4-8D03-0E599417E883"><a name="GUID-CC11238A-11FA-3AB4-8D03-0E599417E883"><!-- --></a>
<a name="GUID-841CD8EA-EF23-342B-A2B0-29429FB79B12"><!-- --></a><h3 class="sectiontitle">Halt ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Halt</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aExitCode</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Unilaterally terminates the current scheduler loop.</p>
<p class="p">This causes the current scheduler loop to stop, whether it was started using <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start()</a> or <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">CActiveScheduler::Start()</a>. It can also trigger a leave from <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> if an exit code is provided. If the current level has already been stopped, then this still records the exit code.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aExitCode</td><td>If non-zero, the reason code reported by Start().  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-73CBD4BA-5A17-34CA-99A1-4EFAD30FE154"><a name="GUID-73CBD4BA-5A17-34CA-99A1-4EFAD30FE154"><!-- --></a>
<a name="GUID-B7D72F3B-2E37-3A7B-8771-A48837D6F8B9"><!-- --></a><h3 class="sectiontitle">Install ( CActiveScheduler * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Install</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><span class="parameter">aScheduler</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Installs the specified active scheduler as the current active scheduler.</p>
<p class="p">The installed active scheduler now handles events for this thread.</p>
<p class="p">The current active scheduler can be uninstalled by passing a NULL pointer.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aScheduler</td><td>A pointer to the active scheduler to be installed. If this is NULL, the current active scheduler is uninstalled. </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">43 if If there is already an installed active scheduler.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD"><a name="GUID-22B23875-11BC-3392-8CF7-1E31FA5CBECD"><!-- --></a>
<h3 class="sectiontitle">Level (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>Level</td><td>(</td><td>)</td><td>const [protected, inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
					DeprecatedUse the <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth()</a> function instead.</p>
<p class="p">Gets the scheduler's level of nestedness.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-78D61D10-55EC-373B-95CA-FC8A45627274">StackDepth()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The level of nestedness.</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AC9D2885-4B00-3FCD-80A6-A1325E24347F"><a name="GUID-AC9D2885-4B00-3FCD-80A6-A1325E24347F"><!-- --></a>
<a name="GUID-6B0B0438-C956-35ED-9A0D-D4C299677524"><!-- --></a><h3 class="sectiontitle">Replace ( CActiveScheduler * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td>Replace</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html">CActiveScheduler</a> *</td><td><span class="parameter">aNewActiveScheduler</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Allows the current active scheduler to be replaced, while retaining its active objects.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNewActiveScheduler</td><td>The new active scheduler. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Previous active scheduler. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E1032B9F-9929-3BE3-AB3F-2BB5C8652544"><a name="GUID-E1032B9F-9929-3BE3-AB3F-2BB5C8652544"><!-- --></a>
<a name="GUID-F1FCFCBF-B270-3BE5-B5FC-3FAB0626D348"><!-- --></a><h3 class="sectiontitle">RunIfReady ( TInt &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>RunIfReady</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aError</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aMinimumPriority</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
					Deprecated
				</p>
<p class="p">Causes the RunL() function of at most one pending active object of priority aMinimumPriority or greater to be run.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aError</td><td>Error returned by called active object.  </td></tr><tr class="bg"><td class="parameter">aMinimumPriority</td><td>Minimum priority of active object to run. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>EFalse if no active object's RunL() function was run, i.e. if there were no active objects of priority aMinimumPriority or greater pending. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-78D61D10-55EC-373B-95CA-FC8A45627274"><a name="GUID-78D61D10-55EC-373B-95CA-FC8A45627274"><!-- --></a>
<h3 class="sectiontitle">StackDepth (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>StackDepth</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the current number of nested wait loops.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of nested calls to Start(). </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3281C85C-1A45-3049-B711-64CA8BFBC452"><a name="GUID-3281C85C-1A45-3049-B711-64CA8BFBC452"><!-- --></a>
<h3 class="sectiontitle">Start (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Start</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Starts a new wait loop under the control of the current active scheduler.</p>
<p class="p">At least one active object, with an outstanding request, must be added to the scheduler before the wait loop is started, otherwise no events will occur and the thread will hang, or any events that do occur will be counted as stray signals, raising a panic.</p>
<p class="p">While <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> is executing, user code runs only:</p>
<p class="p">1. in the RunL() function of active objects known to the current active scheduler</p>
<p class="p">2. in the RunError() function of an active object that leaves from its RunL()</p>
<p class="p">3. in the current active schedulers <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a> function, if an active objects RunError() returns an error code.</p>
<p class="p">
<a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a> returns only when a corresponding <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> or <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">Halt()</a> is issued.</p>
<p class="p">Although this can be used to start a nested wait loop, this API is deprecated for that specific functionality, and a <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> object should be used instead.</p>
<p class="p">(Note that a nested wait loop is used when the handling of a completed event in an active object requires the processing of further events from the other active objects before it can complete. This is a form of modal processing.)</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">CActiveScheduler::Stop</a> <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-CC11238A-11FA-3AB4-8D03-0E599417E883">CActiveScheduler::Halt</a> <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-49FE8001-39DC-389F-851D-44C74BCE55D2">CActive::RunError</a> <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">CActiveScheduler::Error</a> <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> </p>
</div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">44 if the thread does not have an active scheduler installed.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B"><a name="GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B"><!-- --></a>
<h3 class="sectiontitle">Stop (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Stop</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Stops the wait loop started by the most recent call to <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-3281C85C-1A45-3049-B711-64CA8BFBC452">Start()</a>.</p>
<p class="p">Typically, this is called by the RunL() of one of the schedulers active objects. When this RunL() finishes, the schedulers wait loop terminates, i.e. it does not wait for the completion of the next request.</p>
<p class="p">It will not stop a wait loop started by a call to <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start()</a>.</p>
<p class="p">
<a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-B59D1017-1D81-3D5E-B0A2-73FC9C06194B">Stop()</a> may also be called from <a class="xref" href="GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html#GUID-C081C83E-D7DB-37FC-B902-2E210FFE45F8">Error()</a>.</p>
<p class="p">Note that stopping a nested wait loop is deprecated using this functionality, use a <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3">CActiveSchedulerWait</a> object instead.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-F1EDF50B-E91B-3141-9CE1-F76458A97022">CActiveSchedulerWait::Start</a> <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL</a> CActiveSchedulerWait::Error <a class="xref" href="GUID-4F74C605-1F32-33C6-82A3-60259E6C73B3.html#GUID-57ED10CA-FAD8-3060-AAF8-19D0EB75C65F">CActiveSchedulerWait::AsyncStop</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-01A006BB-9973-31EF-9409-CA7F83E0B721"><a name="GUID-01A006BB-9973-31EF-9409-CA7F83E0B721"><!-- --></a>
<h3 class="sectiontitle">WaitForAnyRequest (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>WaitForAnyRequest</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Wait for an asynchronous request to complete.</p>
<p class="p">The default implementation just calls <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest()</a>.</p>
<p class="p">Derived classes can replace this. Typically, this would be done to implement code for maintaining an outstanding request; this would be followed by a call to <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest()</a>.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-19F7FD59-2B62-38E9-8DB6-CF683FB7E268">User::WaitForAnyRequest</a> </p>
</div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B4C76104-EA1B-3FC3-A31E-86A976598171.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
</html>