<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B9209668-D191-35F0-A02A-DABD6B1A706C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:09 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CImImap4GetMail" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C" />
<title>CImImap4GetMail</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C"><a name="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CImImap4GetMail Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/impcmtm.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CImImap4GetMail</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-44273F6E-32CC-3D33-BF11-8AC293423C83">~CImImap4GetMail</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-86781091-0088-3807-BA59-9FBBB7C63C0C">DoCancel</a>()</td></tr><tr><td align="right" class="code">const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><a href="#GUID-82CF0847-893E-3CCC-8C1F-C3768B64946B">FinalProgress</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C CMsvOperation *</td><td><a href="#GUID-EE9B61E5-767B-32DB-BC2F-20E0979ED09B">GetMailL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-2DEC2EBD-EC94-3BAF-AD9D-8900FCD1CABE.html">CImap4ClientMtm</a> &amp;, const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><a href="#GUID-32BF7473-25EF-3896-9CE5-C75216493D3E">ProgressL</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-C48FAA27-6384-3230-8FB2-8EC44A3F5AEB">RunL</a>()</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Encapsulates an operation to copy, move, and populate (i.e. download the full message body) IMAP4 emails from the remote inbox to any local folder.</p>
<p class="p">Note that the same operations are available by calling <a class="xref" href="GUID-2DEC2EBD-EC94-3BAF-AD9D-8900FCD1CABE.html#GUID-0D719D79-BBDD-30F8-876E-89ADA897340B">CImap4ClientMtm::InvokeAsyncFunctionL()</a> with a suitable command.</p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-44273F6E-32CC-3D33-BF11-8AC293423C83"><a name="GUID-44273F6E-32CC-3D33-BF11-8AC293423C83"><!-- --></a>
<h3 class="sectiontitle">~CImImap4GetMail (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>~CImImap4GetMail</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-86781091-0088-3807-BA59-9FBBB7C63C0C"><a name="GUID-86781091-0088-3807-BA59-9FBBB7C63C0C"><!-- --></a>
<h3 class="sectiontitle">DoCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>DoCancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-82CF0847-893E-3CCC-8C1F-C3768B64946B"><a name="GUID-82CF0847-893E-3CCC-8C1F-C3768B64946B"><!-- --></a>
<h3 class="sectiontitle">FinalProgress (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>FinalProgress</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets information about a completed operation.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-B11BF7F3-4D60-3AE4-8929-4D594D5F6E2B.html#GUID-B11BF7F3-4D60-3AE4-8929-4D594D5F6E2B">TImap4GenericProgress</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Packaged TImap4GenericProgress holding progress information. </dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">IMCM</td><td class="panicvalue">30 Operation has not completed</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EE9B61E5-767B-32DB-BC2F-20E0979ED09B"><a name="GUID-EE9B61E5-767B-32DB-BC2F-20E0979ED09B"><!-- --></a>
<a name="GUID-1650A5C8-3D66-3726-AAD9-E93795844758"><!-- --></a><h3 class="sectiontitle">GetMailL ( TInt, CImap4ClientMtm &amp;, const CMsvEntrySelection &amp;, TDes8 &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C CMsvOperation *</td><td>GetMailL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFunctionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-2DEC2EBD-EC94-3BAF-AD9D-8900FCD1CABE.html">CImap4ClientMtm</a> &amp;</td><td><span class="parameter">aImap4ClientMtm</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aMsvEntrySelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aImap4GetMailInfo</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aObserverRequestStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates and begins a new IMAP4 get mail operation.</p>
<div class="p">Note that the function should be, though is not, marked as static. The workaround is to call the function using a NULL <a class="xref" href="GUID-B9209668-D191-35F0-A02A-DABD6B1A706C.html#GUID-B9209668-D191-35F0-A02A-DABD6B1A706C">CImImap4GetMail</a> pointer: <pre class="pre codeblock">CImImap4GetMail* gm = NULL;
CMsvOperation* gmOp = gm-&gt;GetMailL(id, mtm, sel, info, status);</pre>
</div>
<p class="p">Alternatively, instead of using this class, call <a class="xref" href="GUID-2DEC2EBD-EC94-3BAF-AD9D-8900FCD1CABE.html#GUID-0D719D79-BBDD-30F8-876E-89ADA897340B">CImap4ClientMtm::InvokeAsyncFunctionL()</a> directly. Any functionality accessible through this class can also be accessed through that function.</p>
<p class="p">Copy commands:</p>
<div class="p">
<ul class="ul">
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-08B2803F-631B-3DF1-A684-116E3C57E3DF">KIMAP4MTMConnectAndCopyNewMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-10AACB21-56C0-3C2C-9805-B048CEBC1921">KIMAP4MTMConnectAndCopyNewMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-328BA7B3-25A9-39FE-A561-9D3914C09DFA">KIMAP4MTMConnectAndCopyAllMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-7D1BB7C0-B21A-3ACA-9066-9122A27CB4E1">KIMAP4MTMConnectAndCopyAllMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-B341F2B8-FC86-3F7D-AAF0-74DF19F62EF7">KIMAP4MTMConnectAndCopyMailSelectionAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-5591D8F6-95F1-3995-A45F-925DC0059D7E">KIMAP4MTMConnectAndCopyMailSelectionAndDisconnect</a>
</p>
</li>
</ul>
</div>
<p class="p">Move commands:</p>
<div class="p">
<ul class="ul">
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-C903FAAC-82A1-304F-A8B2-B99A57185C6F">KIMAP4MTMConnectAndMoveNewMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-5DE9A886-583D-3D4C-BD31-EAA611FAAF0F">KIMAP4MTMConnectAndMoveNewMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-52453EDF-8357-3581-B1A1-BB66C9D106A1">KIMAP4MTMConnectAndMoveAllMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-3E5A1518-4229-39AF-80B5-824F4A675104">KIMAP4MTMConnectAndMoveAllMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-85578DA4-BF27-392C-BA37-8CE2021E29F1">KIMAP4MTMConnectAndMoveMailSelectionAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-7677D38D-A828-3205-9EF2-22EE59E31070">KIMAP4MTMConnectAndMoveMailSelectionAndDisconnect</a>
</p>
</li>
</ul>
</div>
<p class="p">Populate commands:</p>
<div class="p">
<ul class="ul">
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-C5C68AAB-49A8-3F98-B75E-18FB59FFF1A5">KIMAP4MTMConnectAndPopulateNewMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-FE645F6E-539C-3954-8FD4-7D76123706FF">KIMAP4MTMConnectAndPopulateNewMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-20C270E5-C35E-3C71-86AE-F67C62C140DF">KIMAP4MTMConnectAndPopulateAllMailAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-84549D47-433B-378D-A242-74D92599DD9F">KIMAP4MTMConnectAndPopulateAllMailAndDisconnect</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-C8183DD6-EBBE-3531-BD88-02FEA703C6F1">KIMAP4MTMConnectAndPopulateMailSelectionAndStayOnline</a>
</p>
</li>
<li class="li">
<p class="p">
<a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-562F8B47-74C0-3A60-A042-A13183864C61">KIMAP4MTMConnectAndPopulateMailSelectionAndDisconnect</a>
</p>
</li>
</ul>
</div>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-C2B54202-9BE6-3172-AB3B-79BBB3ACEF99.html#GUID-66B8E85D-5101-3BC5-BF6A-4F0FB73CE15D">TImap4Cmds</a> <a class="xref" href="GUID-766F611D-FCB8-33EA-BB7B-6B4612C7CACC.html#GUID-766F611D-FCB8-33EA-BB7B-6B4612C7CACC">TImImap4GetMailInfo</a> <a class="xref" href="GUID-923C3D66-91A8-31E6-AC2A-C6FEB3D084CA.html#GUID-923C3D66-91A8-31E6-AC2A-C6FEB3D084CA">TImImap4GetPartialMailInfo</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFunctionId</td><td>Type of operation to perform, a TImap4Cmds value. Permitted commands are: </td></tr><tr class="bg"><td class="parameter">aImap4ClientMtm</td><td>A reference to the IMAP4 Client MTM that wants to perform the Get Mail operation.  </td></tr><tr><td class="parameter">aMsvEntrySelection</td><td>A selection of messages that need to be copied/moved to a local folder. The first entry in this selection MUST be the service. Other IDs can be appended to the selection depending on which operation is to be performed. For the 'copy new', 'copy all', 'move new', 'move all', 'populate new', 'populate all' situations, the folder from which the messages are to be copied, moved or populated should be appended after the service ID. For all the other situations (i.e. copying, moving or populating a selection of messages), the selection of messages should be appended after the service ID. Please note that the selection of messages MUST have the same parent i.e. MUST be in the same folder.  </td></tr><tr class="bg"><td class="parameter">aImap4GetMailInfo</td><td>A packaged TImImap4GetMailInfo object storing the maximum message size, the destination folder ID, and what message parts are required. For populate commands, this can be a packaged TImImap4GetPartialMailInfo object, specifying separate size limits for body text and attachments.  </td></tr><tr><td class="parameter">aObserverRequestStatus</td><td>The status to be completed when the get mail operation has completed.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The new message operation object through which the get operation can be controlled.</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-32BF7473-25EF-3896-9CE5-C75216493D3E"><a name="GUID-32BF7473-25EF-3896-9CE5-C75216493D3E"><!-- --></a>
<h3 class="sectiontitle">ProgressL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>ProgressL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets information on the progress of the operation.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B11BF7F3-4D60-3AE4-8929-4D594D5F6E2B.html#GUID-B11BF7F3-4D60-3AE4-8929-4D594D5F6E2B">TImap4GenericProgress</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Packaged TImap4GenericProgress holding progress information. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C48FAA27-6384-3230-8FB2-8EC44A3F5AEB"><a name="GUID-C48FAA27-6384-3230-8FB2-8EC44A3F5AEB"><!-- --></a>
<h3 class="sectiontitle">RunL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>RunL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B9209668-D191-35F0-A02A-DABD6B1A706C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:09 GMT -->
</html>