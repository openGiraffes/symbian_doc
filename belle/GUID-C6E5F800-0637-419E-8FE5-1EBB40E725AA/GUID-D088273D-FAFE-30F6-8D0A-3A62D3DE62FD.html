<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CBaseServerMtm" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD" />
<title>CBaseServerMtm</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD"><a name="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CBaseServerMtm Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/mtsr.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CBaseServerMtm : public CActive, public CActive</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CBaseServerMtm<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> *</td><td><a href="#GUID-D5B95A55-1952-370C-80FA-02F0B5B5EB77">iServerEntry</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-55AB8CF4-C3E6-3E7E-AFBD-C02E67F7957F">~CBaseServerMtm</a>()</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-1CF2BA4E-ABFF-3709-A358-A47F2723F37F">ChangeEntries</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-4DBB6FBC-53C1-3DF8-BF1C-C64646EF0DC8">ChangeL</a>(<a class="xref xref apiRelation" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td><a href="#GUID-4AF5B0CD-C85F-37FE-BA02-7DBAFCDCC619">CommandExpected</a>()</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-1198BB7F-3D97-3BCE-AB2F-2A070E45DD7E">CopyFromLocalL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-8FAF6940-CF1E-34B1-9D4F-9567498ECB2B">CopyToLocalL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-5AA7C4D7-7A61-37D9-A7FD-AD11E4F16A87">CopyWithinServiceL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-80BE7BC6-E763-3F60-B264-76F9693067CF">CreateL</a>(<a class="xref xref apiRelation" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a>, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-EBB9B170-EDB4-39F9-9A02-0AF8E3168BEA">DeleteAllL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-283C40F7-ED1E-30D7-AB79-61F35E9C3469">GetNonOperationMtmData</a>(<a class="xref xref apiRelation" href="GUID-F0846584-DBD1-3600-841B-7B3642F01667.html">TNonOperationMtmDataType</a> &amp;, <a class="xref xref apiRelation" href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-CC8B3F14-9344-3D5D-A9C1-2EC476A09145">MoveFromLocalL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-DC2EB2C7-EBEE-3F6A-A3B0-D83912FAAD3E">MoveToLocalL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-7362680E-657B-3421-AEFB-7542524D1859">MoveWithinServiceL</a>(const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, TMsvId, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">pure virtual const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><a href="#GUID-E38DE2F2-9BF2-388E-833D-1732FB28C583">Progress</a>()</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-2D5EFBAB-3A04-3B0C-A875-C8AD10718644">StartCommandL</a>(<a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2EDFF839-C701-3E19-A104-7E4947FAE305">SystemProgress</a>(<a class="xref xref apiRelation" href="GUID-D31A16BD-787C-383E-B86C-AE35902FCDFA.html">TMsvSystemProgress</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-A2CA3CC7-95D8-377B-9453-91A21ED3D38D">CBaseServerMtm</a>(<a class="xref xref apiRelation" href="GUID-0D5D7FAC-4F14-3046-92FB-873B8350FF4C.html">CRegisteredMtmDll</a> &amp;, <a class="xref xref apiRelation" href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> *)</td></tr><tr class="bg"><td align="right" class="code">pure virtual void</td><td><a href="#GUID-851ED81F-7E90-330E-9586-A546584FCADF">DoComplete</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-F6D63F0C-ECC5-3042-B579-703BF75B924E">DoRunL</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-833E8A25-18F5-3AE8-AFD3-BA727DAACFE1">Extension_</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-842C0D89-51AD-35CE-9A74-A401CCA04AE1">GetInterface</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::iStatus</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive:TPriority</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::CActive(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Cancel()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Deque()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::DoCancel()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsActive()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsAdded()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Priority()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetActive()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetPriority(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::~CActive()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Base class for Server-side MTM components. Server-side MTMs provide all message transport functionality for a particular messaging protocol.</p>
<p class="p">MTM implementers implement a derived class to provide such functionality for their message protocol. Writers of message client applications are never concerned with this class and its sub-classes, as these are only accessed by the Message Server.</p>
<p class="p">Each MTM interprets the generic commands in different ways. For example, a Fax MTM would transmit a fax when asked to copy a fax from a local folder to a fax service. For the same function, an IMAP MTM would create a copy of the message on the remote server and update the message index to show the copy of the message on the remote server. An important initial design task is to the map the functions to the functionality provided by the protocol.</p>
<p class="p">Server-side MTM functions are called by the Message Server as a result of a client request that requires some remote operation with the MTM's protocol. The following steps give a simplified view of the usual sequence of events:</p>
<p class="p">1. the Message Server instantiates a Server-side MTM object through the factory function</p>
<p class="p">2. the Message Server calls the appropriate asynchronous function on the Server-side MTM interface, passing a <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> argument</p>
<p class="p">3. the Server-side MTM function typically starts whatever asynchronous communications it requires and returns</p>
<p class="p">4. the Server-side MTM is signalled when the asynchronous communications complete, and handles the result</p>
<p class="p">5. the Server-side MTM signals the Message Server, through the <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> passed earlier</p>
<p class="p">6. the Message Server deletes the Server-side MTM object</p>
<p class="p">To qualify this somewhat:</p>
<p class="p">1. it is up to the Server-side MTM implementation to decide how to translate data back and forth between the formats used by Message Server (index entry, message store, binary files), and that required by the protocol; this is another important design task</p>
<p class="p">2. depending on the protocol being used, the communications sequence can be of considerable complexity; typically it requires division into a number of asynchronous steps</p>
<p class="p">3. for greater efficiency where further commands are shortly expected, deletion of the Server-side MTM object can be prevented</p>
<p class="p">For asynchronous requests, a Server-side MTM should always complete the <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> with KErrNone. Any errors should be returned in the progress information.</p>
<p class="p">Note the following significant groups of functions:</p>
<p class="p">1. Copy and move from remote functions: <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-8FAF6940-CF1E-34B1-9D4F-9567498ECB2B">CopyToLocalL()</a> and <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-DC2EB2C7-EBEE-3F6A-A3B0-D83912FAAD3E">MoveToLocalL()</a> are called by the Message Server to get a selection of entries from a remote location. For many protocols, this should be interpreted as message retrieval. For protocols where messages exist on a remote server, this function is typically used to download specific messages, after an initial connection has downloaded message headers.</p>
<p class="p">2. Copy and move to remote functions: <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-1198BB7F-3D97-3BCE-AB2F-2A070E45DD7E">CopyFromLocalL()</a> and <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-CC8B3F14-9344-3D5D-A9C1-2EC476A09145">MoveFromLocalL()</a> are called by the Message Server to copy/move a selection of entries to a remote location. For many protocols, this should be interpreted as message sending.</p>
<p class="p">3. Copy and move within remote functions: <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-5AA7C4D7-7A61-37D9-A7FD-AD11E4F16A87">CopyWithinServiceL()</a> and <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-7362680E-657B-3421-AEFB-7542524D1859">MoveWithinServiceL()</a> are called by the Message Server to copy a selection of entries within a remote service. An example of their use might be for a user rearranging messages within remote folders.   </p>
</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-D5B95A55-1952-370C-80FA-02F0B5B5EB77"><a name="GUID-D5B95A55-1952-370C-80FA-02F0B5B5EB77"><!-- --></a>
<h3 class="sectiontitle">iServerEntry</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> *</td><td>iServerEntry</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The entry on which to operate. It is set in the constructor.</p>
<p class="p">The destructor deletes this member. </p>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A2CA3CC7-95D8-377B-9453-91A21ED3D38D"><a name="GUID-A2CA3CC7-95D8-377B-9453-91A21ED3D38D"><!-- --></a>
<a name="GUID-14D61820-A4AE-3668-A029-B135BE96945B"><!-- --></a><h3 class="sectiontitle">CBaseServerMtm ( CRegisteredMtmDll &amp;, CMsvServerEntry * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CBaseServerMtm</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-0D5D7FAC-4F14-3046-92FB-873B8350FF4C.html">CRegisteredMtmDll</a> &amp;</td><td><span class="parameter">aRegisteredMtmDll</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> *</td><td><span class="parameter">aServerEntry</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor.</p>
<p class="p">The function is passed a <a class="xref" href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html#GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D">CMsvServerEntry</a> object in aServerEntry. This object is used to access and change Message Server entries. Its context is initially set either to the parent of the entry or selection being operated on, or the entry itself. The constructor stores it in the protected iServerEntry member.</p>
<p class="p">Derived classes can implement a constructor to perform any additional MTM-specific setup that can be safely carried out in a constructor. Such constructors must call the base class constructor function.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRegisteredMtmDll</td><td>Registration data for the MTM DLL  </td></tr><tr class="bg"><td class="parameter">aServerEntry</td><td>Context on which to operate  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-55AB8CF4-C3E6-3E7E-AFBD-C02E67F7957F"><a name="GUID-55AB8CF4-C3E6-3E7E-AFBD-C02E67F7957F"><!-- --></a>
<h3 class="sectiontitle">~CBaseServerMtm (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CBaseServerMtm</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor.</p>
<p class="p">This cleans up the base class. CBaseServerMtm-derived objects are deleted by the Message Server when they are no longer required.</p>
<p class="p">Derived classes can implement a destructor to do any additional clean up tasks that they require. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1CF2BA4E-ABFF-3709-A358-A47F2723F37F"><a name="GUID-1CF2BA4E-ABFF-3709-A358-A47F2723F37F"><!-- --></a>
<a name="GUID-B81F763B-3D99-3B7C-92E2-22532387DE9E"><!-- --></a><h3 class="sectiontitle">ChangeEntries ( const CMsvEntrySelection &amp;, TInt, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ChangeEntries</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aMark</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Updates a remote selection of id with relevant data when called by the Message Server.</p>
<p class="p">Implementations should implement Extension_ and handle KUIDChangeEntriesExtension if the messaging protocol supports updating of remote entries. If this is not supported, implementations can ignore the KUIDChangeEntriesExtension. However implentations should chain the extension ids to their base class if they are not handled.</p>
<p class="p">This function wraps the call to Extension_ passing the necessary params in the form of TChangeEntriesParams as the second argument.</p>
<p class="p">The Server-side MTM implementation must decide what information in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is relevant to the remote entry, and translate it appropriately for the specific protocol. Most of the data contained in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is specific to the Symbian OS Message Server, and would probably have no direct correlation with the protocol's own storage format. Some entry data may however be useful. For example, if the protocol supports remote renaming of folders, the implementation could:</p>
<p class="p">1. check for a folder type entry</p>
<p class="p">2. extract the folder name from aNewEntry.iDetails</p>
<p class="p">3. check if the folder name has changed by comparing the new name with iDetails in the index entry currently; if not, complete with KErrNone</p>
<p class="p">4. initiate a protocol-specific action to rename the remote folder</p>
<p class="p">The implementation should also always update the local Message Server index through CMsvServerEntry::ChangeL().</p>
<p class="p">
</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>Selection of TMsvId which to update  </td></tr><tr class="bg"><td class="parameter">aMark</td><td>Read and Unread mark value.  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNotSupported if the Server-side MTM does not support this operation Other codes Dependent on implementation </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4DBB6FBC-53C1-3DF8-BF1C-C64646EF0DC8"><a name="GUID-4DBB6FBC-53C1-3DF8-BF1C-C64646EF0DC8"><!-- --></a>
<a name="GUID-D1EC880B-0FB8-3576-A721-BF5115CCAABD"><!-- --></a><h3 class="sectiontitle">ChangeL ( TMsvEntry, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ChangeL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a></td><td><span class="parameter">aNewEntry</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Updates a remote entry with relevant data when called by the Message Server.</p>
<p class="p">Implementations should provide this function if the messaging protocol supports updating of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">The Server-side MTM implementation must decide what information in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is relevant to the remote entry, and translate it appropriately for the specific protocol. Most of the data contained in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is specific to the Symbian OS Message Server, and would probably have no direct correlation with the protocol's own storage format. Some entry data may however be useful. For example, if the protocol supports remote renaming of folders, the implementation could:</p>
<p class="p">1. check for a folder type entry</p>
<p class="p">2. extract the folder name from aNewEntry.iDetails</p>
<p class="p">3. check if the folder name has changed by comparing the new name with iDetails in the index entry currently; if not, complete with KErrNone</p>
<p class="p">4. initiate a protocol-specific action to rename the remote folder</p>
<p class="p">The implementation should also always update the local Message Server index through CMsvServerEntry::ChangeL().</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNewEntry</td><td>Data by which to update entry  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4AF5B0CD-C85F-37FE-BA02-7DBAFCDCC619"><a name="GUID-4AF5B0CD-C85F-37FE-BA02-7DBAFCDCC619"><!-- --></a>
<h3 class="sectiontitle">CommandExpected (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
</td><td>CommandExpected</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests if the Server-side MTM object should be deleted when called by the Message Server</p>
<p class="p">It is useful to stop the MTM being deleted when more commands are expected shortly. This would be the case, for example, after receiving a command to go online.</p>
<p class="p">If there are no more commands expected by the Server-side MTM object, then the function should return EFalse, and the Message Server will delete it.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue: the MTM object should not be deleted EFalse: the MTM object can be deleted </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1198BB7F-3D97-3BCE-AB2F-2A070E45DD7E"><a name="GUID-1198BB7F-3D97-3BCE-AB2F-2A070E45DD7E"><!-- --></a>
<a name="GUID-D6CF1EC5-E40F-3B8A-8085-AD38805614BC"><!-- --></a><h3 class="sectiontitle">CopyFromLocalL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CopyFromLocalL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Copies a selection of entries from a local location to a remote location.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports retrieval of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">Implementations of this function have three fundamental steps:</p>
<p class="p">1. reading entry data</p>
<p class="p">2. converting entry data from the Message Server format into that required by the protocol</p>
<p class="p">3. doing the transfer operation using the appropriate communications protocols</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the copy is required  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The entry ID of the service by which the entries should be transferred  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8FAF6940-CF1E-34B1-9D4F-9567498ECB2B"><a name="GUID-8FAF6940-CF1E-34B1-9D4F-9567498ECB2B"><!-- --></a>
<a name="GUID-166EBB68-10B0-30E3-AFD8-0D69C157EE24"><!-- --></a><h3 class="sectiontitle">CopyToLocalL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CopyToLocalL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Copies a selection of entries from a remote location to a local location. This will only be meaningful for some protocols.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports retrieval of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">Implementations of this function have three fundamental steps:</p>
<p class="p">1. doing the transfer operation using the appropriate communications protocols</p>
<p class="p">2. converting protocol-specific data into the three-part storage format (index entry, message store, binary files) required by the Message Server</p>
<p class="p">3. updating entries in the Message Server</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the copy/moving is required.  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The entry ID to which the selection is to be copied  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5AA7C4D7-7A61-37D9-A7FD-AD11E4F16A87"><a name="GUID-5AA7C4D7-7A61-37D9-A7FD-AD11E4F16A87"><!-- --></a>
<a name="GUID-5E5FF06A-D76D-3DF8-9594-178651D48F82"><!-- --></a><h3 class="sectiontitle">CopyWithinServiceL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CopyWithinServiceL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Copies a selection of entries within a remote location.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports the ability to copy entries within a remote service. If this is not supported, implementations should leave with KErrNotSupported.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the copy is required  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The server entry ID to which the selection is to be copied  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-80BE7BC6-E763-3F60-B264-76F9693067CF"><a name="GUID-80BE7BC6-E763-3F60-B264-76F9693067CF"><!-- --></a>
<a name="GUID-C4F23839-A986-3C31-8ED8-6F58C3090803"><!-- --></a><h3 class="sectiontitle">CreateL ( TMsvEntry, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>CreateL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a></td><td><span class="parameter">aNewEntry</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates a new remote entry with relevant data when called by the Message Server.</p>
<p class="p">Implementations should provide this function if the messaging protocol supports creation of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">As with <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-4DBB6FBC-53C1-3DF8-BF1C-C64646EF0DC8">ChangeL()</a>, the Server-side MTM implementation must decide what information in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is relevant to the remote entry, and translate it appropriately for the specific protocol. Most of the data contained in the <a class="xref" href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a> is specific to the Message Server, and would probably have no direct correlation with the protocol's own storage format. For example, for a folder, probably only the name and parent are needed, so if the protocol supports creation of remote folders, the implementation could:</p>
<p class="p">1. check for a folder type entry</p>
<p class="p">2. get the folder name and parent details from aNewEntry</p>
<p class="p">3. initiate a protocol-specific action to create the remote folder</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNewEntry</td><td>Data by which to create entry  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EBB9B170-EDB4-39F9-9A02-0AF8E3168BEA"><a name="GUID-EBB9B170-EDB4-39F9-9A02-0AF8E3168BEA"><!-- --></a>
<a name="GUID-62139C08-1B55-39C3-87D1-ACA8DBE5E225"><!-- --></a><h3 class="sectiontitle">DeleteAllL ( const CMsvEntrySelection &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>DeleteAllL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes each entry in the supplied selection when called by the message Server. If any of the entries in the selection is a parent entry, then all its children should also be deleted, recursively to the bottom of the ownership tree.</p>
<p class="p">Implementations should provide this function if the messaging protocol supports deletion of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of entries that are to be deleted.  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous completion object.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-851ED81F-7E90-330E-9586-A546584FCADF"><a name="GUID-851ED81F-7E90-330E-9586-A546584FCADF"><!-- --></a>
<a name="GUID-F635645F-318E-3B73-A0C5-D4E9212268BC"><!-- --></a><h3 class="sectiontitle">DoComplete ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>DoComplete</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aError</span></td><td>)</td><td>[protected, pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Called by the base class RunL() if <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-F6D63F0C-ECC5-3042-B579-703BF75B924E">DoRunL()</a> leaves.</p>
<p class="p">It should be implemented to handle this error. For example, progress information could be updated to reflect the problem.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aError</td><td>The leave code given by DoRunL().  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F6D63F0C-ECC5-3042-B579-703BF75B924E"><a name="GUID-F6D63F0C-ECC5-3042-B579-703BF75B924E"><!-- --></a>
<h3 class="sectiontitle">DoRunL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>DoRunL</td><td>(</td><td>)</td><td>[protected, pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Handles the completion of any asynchronous requests that it makes. It is called from the base class RunL() .</p>
<p class="p">Note that any leaves made by this function result in <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-851ED81F-7E90-330E-9586-A546584FCADF">DoComplete()</a> being called with the leave code. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-833E8A25-18F5-3AE8-AFD3-BA727DAACFE1"><a name="GUID-833E8A25-18F5-3AE8-AFD3-BA727DAACFE1"><!-- --></a>
<a name="GUID-326C4A43-45FA-3D83-8596-2C4DAF1CA15C"><!-- --></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">The extension method provides a polymorphic behaviour to call the correct SystemProgress function. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aExtensionId</td><td>The Uid passed in as KUIDMsgMsvSystemProgress to obtain the System Progress.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrExtensionNotSupported retuned if no Extension_ function is overriddden by the derived class. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-842C0D89-51AD-35CE-9A74-A401CCA04AE1"><a name="GUID-842C0D89-51AD-35CE-9A74-A401CCA04AE1"><!-- --></a>
<a name="GUID-FCFDE986-25AF-3A78-90A5-BC5958ABF9F4"><!-- --></a><h3 class="sectiontitle">GetInterface ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>GetInterface</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aUid</span></td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns a pointer to the interface with the specified Uid.</p>
<p class="p">This method is the first part of an extension pattern to allow for more functionality to be supported without adding virtual methods to this base class.</p>
<p class="p">The default implementation returns a NULL pointer.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUid</td><td>Uid of the extension interface  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to the extension interface </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-283C40F7-ED1E-30D7-AB79-61F35E9C3469"><a name="GUID-283C40F7-ED1E-30D7-AB79-61F35E9C3469"><!-- --></a>
<a name="GUID-1485BAC4-A8B1-32F5-844A-B91FD0FD94A5"><!-- --></a><h3 class="sectiontitle">GetNonOperationMtmData ( TNonOperationMtmDataType &amp;, TPtrC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>GetNonOperationMtmData</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-F0846584-DBD1-3600-841B-7B3642F01667.html">TNonOperationMtmDataType</a> &amp;</td><td><span class="parameter">aMtmDataType</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;</td><td><span class="parameter">aResultBuffer</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Call to this method leads to call Extension_ method of server MTMs, to which the thread handle of the client application is passed. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CC8B3F14-9344-3D5D-A9C1-2EC476A09145"><a name="GUID-CC8B3F14-9344-3D5D-A9C1-2EC476A09145"><!-- --></a>
<a name="GUID-84A4D5CE-EEF5-3AC4-BB17-F870A9210BCA"><!-- --></a><h3 class="sectiontitle">MoveFromLocalL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>MoveFromLocalL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Moves a selection of entries from a local location to a remote location.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports retrieval of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">Implementations of this function have three fundamental steps:</p>
<p class="p">1. reading entry data</p>
<p class="p">2. converting entry data from the Message Server format into that required by the protocol</p>
<p class="p">3. doing the transfer operation using the appropriate communications protocols</p>
<p class="p">The implementation of <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-CC8B3F14-9344-3D5D-A9C1-2EC476A09145">MoveFromLocalL()</a> should differ from <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-1198BB7F-3D97-3BCE-AB2F-2A070E45DD7E">CopyFromLocalL()</a> in additionally deleting the original local data.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the move is required  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The entry ID of the service by which the entries should be transferred  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DC2EB2C7-EBEE-3F6A-A3B0-D83912FAAD3E"><a name="GUID-DC2EB2C7-EBEE-3F6A-A3B0-D83912FAAD3E"><!-- --></a>
<a name="GUID-36023F8B-FCDA-333C-B4ED-09F757D8118C"><!-- --></a><h3 class="sectiontitle">MoveToLocalL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>MoveToLocalL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Moves a selection of entries from a remote location to a local location.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports retrieval of remote entries. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">Implementations of this function have three fundamental steps:</p>
<p class="p">1. doing the transfer operation using the appropriate communications protocols</p>
<p class="p">2. converting protocol-specific data into the three-part storage format (index entry, message store, binary files) required by the Message Server</p>
<p class="p">3. updating entries in the Message Server</p>
<p class="p">
<a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-DC2EB2C7-EBEE-3F6A-A3B0-D83912FAAD3E">MoveToLocalL()</a> should differ from <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-8FAF6940-CF1E-34B1-9D4F-9567498ECB2B">CopyToLocalL()</a> in additionally deleting the original remote data.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the moving is required.  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The entry ID to which the selection is to be copied/moved  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7362680E-657B-3421-AEFB-7542524D1859"><a name="GUID-7362680E-657B-3421-AEFB-7542524D1859"><!-- --></a>
<a name="GUID-F4ABBEDC-2011-347E-9180-20A41DA792EF"><!-- --></a><h3 class="sectiontitle">MoveWithinServiceL ( const CMsvEntrySelection &amp;, TMsvId, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>MoveWithinServiceL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aDestination</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Moves a selection of entries within a remote location.</p>
<p class="p">Requirements:</p>
<p class="p">Implementations should provide this function if the messaging protocol supports the ability to move entries within a remote service. If this is not supported, implementations should leave with KErrNotSupported.</p>
<p class="p">The implementation of <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-7362680E-657B-3421-AEFB-7542524D1859">MoveWithinServiceL()</a> should differ from <a class="xref" href="GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html#GUID-5AA7C4D7-7A61-37D9-A7FD-AD11E4F16A87">CopyWithinServiceL()</a> in additionally deleting the original data.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>The collection of message index entries for which the move is required  </td></tr><tr class="bg"><td class="parameter">aDestination</td><td>The server entry ID to which the selection is to be moved  </td></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">The Server-side MTM does not support this operation</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">leave codes Dependent on implementation</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E38DE2F2-9BF2-388E-833D-1732FB28C583"><a name="GUID-E38DE2F2-9BF2-388E-833D-1732FB28C583"><!-- --></a>
<h3 class="sectiontitle">Progress (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>Progress</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">This function is called by the Message Server to get progress information for the current asynchronous operation.</p>
<p class="p">The call is made as a response to a client program requesting progress information through <a class="xref" href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html#GUID-C7C7FEBB-7235-3328-8400-C29429923391">CMsvOperation::ProgressL()</a>. The packing format used in the <a class="xref" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html#GUID-FB97E0A3-352A-316F-97C6-69E4741A8120">TDesC8</a> is MTM-specific. Only the implementation of the <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Interface MTM progress information functions need to understand the format.</p>
<p class="p">The progress buffer should have a maximum size of 256 bytes.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-A5982338-A057-3870-8832-F503AEAC470A.html#GUID-EFCB78BB-AC3F-3A3E-905A-1234563AB829">CBaseMtmUi::DisplayProgressSummary()</a> <a class="xref" href="GUID-A5982338-A057-3870-8832-F503AEAC470A.html#GUID-CC6B72C5-E3AD-38B2-8611-01141F2DFF0A">CBaseMtmUi::GetProgress()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Progress information on current asynchronous operation </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2D5EFBAB-3A04-3B0C-A875-C8AD10718644"><a name="GUID-2D5EFBAB-3A04-3B0C-A875-C8AD10718644"><!-- --></a>
<a name="GUID-3DBC1C86-A1D4-3177-9ECF-DB7B069F83B4"><!-- --></a><h3 class="sectiontitle">StartCommandL ( CMsvEntrySelection &amp;, TInt, const TDesC8 &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>StartCommandL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td><span class="parameter">aSelection</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aCommand</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aParameter</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Executes an MTM-specific operation on a selection of entries when called by the Message Server.</p>
<p class="p">The call is made as a response to a client program invoking an MTM-specific operation through <a class="xref" href="GUID-177AF50B-14EF-3C45-AE22-1FEE5678261D.html#GUID-BF363018-C9E1-3071-9EB3-25144F9AC722">CBaseMtm::InvokeSyncFunctionL()</a>/InvokeAsyncFunctionL(). The aSelection, aCommand, and aParameter arguments pass the values of the original aSelection, aFunctionId, and aParameter respectively arguments from such a call. The use (if any) of the aSelection and aParameter arguments by the function depends on the command.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSelection</td><td>A selection of message entries on which the command is to be executed  </td></tr><tr class="bg"><td class="parameter">aCommand</td><td>The MTM-specific command to be carried out  </td></tr><tr><td class="parameter">aParameter</td><td>Command-specific parameters  </td></tr><tr class="bg"><td class="parameter">aStatus</td><td>Asynchronous completion word for the operation  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2EDFF839-C701-3E19-A104-7E4947FAE305"><a name="GUID-2EDFF839-C701-3E19-A104-7E4947FAE305"><!-- --></a>
<a name="GUID-271DC82B-2926-3EF0-A05E-3C23631EC4AB"><!-- --></a><h3 class="sectiontitle">SystemProgress ( TMsvSystemProgress &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SystemProgress</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D31A16BD-787C-383E-B86C-AE35902FCDFA.html">TMsvSystemProgress</a> &amp;</td><td><span class="parameter">aOutSysProg</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">This call leads to calling one of the server Mtms to populate the <a class="xref" href="GUID-D31A16BD-787C-383E-B86C-AE35902FCDFA.html#GUID-D31A16BD-787C-383E-B86C-AE35902FCDFA">TMsvSystemProgress</a> structure. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aOutSysProg</td><td>The TMsvSystemProgress structure to be populated by the server  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>the error of the Extension_ method call </dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D088273D-FAFE-30F6-8D0A-3A62D3DE62FD.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
</html>