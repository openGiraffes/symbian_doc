<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:39 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxFile" />
<meta name="DC.Title" content="iconv.html" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC" />
<title>iconv.h</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC"><a name="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">iconv.h File Reference</h1>
<div class="body refbody apiDetail apiClassifierDetail cxxFileDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-5B88D5F5-A18E-3396-9418-D70FF38970BC"><a name="GUID-5B88D5F5-A18E-3396-9418-D70FF38970BC"><!-- --></a>
<h3 class="sectiontitle">Typedef iconv_t</h3>
<div class="section signature"><table class="signature"><tr><td>typedef void *</td><td>iconv_t</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2CDBDCB3-568C-3EDC-BBB8-E6FEBA2292FA"><a name="GUID-2CDBDCB3-568C-3EDC-BBB8-E6FEBA2292FA"><!-- --></a>
<a name="GUID-E97CCC74-C1B9-3F4B-9934-72A4B5CFDFA5"><!-- --></a><h3 class="sectiontitle">iconv_open ( const char *, const char * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html">iconv_t</a></td><td>iconv_open</td><td>(</td><td>const char *</td><td><span class="parameter">tocharset</span>,</td></tr><tr><td colspan="3"> </td><td>const char *</td><td><span class="parameter">fromcharset</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Allocate memory for codeset conversion descriptor. The <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-2CDBDCB3-568C-3EDC-BBB8-E6FEBA2292FA">iconv_open()</a> function returns a conversion descriptor that describes a conversion from the codeset specified by the string pointed to by the fromcode argument to the codeset specified by the string pointed to by the tocode argument. For state-dependent encodings, the conversion descriptor will be in a codeset-dependent initial shift state, ready for immediate use with <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a>.</p>
<p class="p">Settings of fromcode and tocode and their permitted combinations are implementation-dependent.</p>
<p class="p">A conversion descriptor remains valid in a process until that process closes it.</p>
<p class="p">If a file descriptor is used to implement conversion descriptors, the FD_CLOEXEC flag will be set;</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Upon successful completion, iconv_open() returns a conversion descriptor for use on subsequent calls to iconv(). Otherwise iconv_open() returns (iconv_t)-1 and sets errno to indicate the error.</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26"><a name="GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26"><!-- --></a>
<a name="GUID-34D84239-26DE-3165-B67B-275597B17AD7"><!-- --></a><h3 class="sectiontitle">iconv ( iconv_t, const char **, size_t *, char **, size_t * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-381654FC-8996-3621-93A3-636F88EE7207.html">size_t</a></td><td>iconv</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html">iconv_t</a></td><td><span class="parameter">conversion_descriptor</span>,</td></tr><tr><td colspan="3"> </td><td>const char **</td><td><span class="parameter">inbuf</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-381654FC-8996-3621-93A3-636F88EE7207.html">size_t</a> *</td><td><span class="parameter">inbytesleft</span>,</td></tr><tr><td colspan="3"> </td><td>char **</td><td><span class="parameter">outbuf</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-381654FC-8996-3621-93A3-636F88EE7207.html">size_t</a> *</td><td><span class="parameter">outbytesleft</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> function converts the sequence of characters from one codeset, in the array specified by inbuf, into a sequence of corresponding characters in another codeset, in the array specified by outbuf. The codesets are those specified in the <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-2CDBDCB3-568C-3EDC-BBB8-E6FEBA2292FA">iconv_open()</a> call that returned the conversion descriptor, cd. The inbuf argument points to a variable that points to the first character in the input buffer and inbytesleft indicates the number of bytes to the end of the buffer to be converted. The outbuf argument points to a variable that points to the first available byte in the output buffer and outbytesleft indicates the number of the available bytes to the end of the buffer.</p>
<p class="p">For state-dependent encodings, the conversion descriptor cd is placed into its initial shift state by a call for which inbuf is a null pointer, or for which inbuf points to a null pointer. When <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> is called in this way, and if outbuf is not a null pointer or a pointer to a null pointer, and outbytesleft points to a positive value, <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> will place, into the output buffer, the byte sequence to change the output buffer to its initial shift state. If the output buffer is not large enough to hold the entire reset sequence, <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> will fail and set errno to [E2BIG]. Subsequent calls with inbuf as other than a null pointer or a pointer to a null pointer cause the conversion to take place from the current state of the conversion descriptor.</p>
<p class="p">If a sequence of input bytes does not form a valid character in the specified codeset, conversion stops after the previous successfully converted character. If the input buffer ends with an incomplete character or shift sequence, conversion stops after the previous successfully converted bytes. If the output buffer is not large enough to hold the entire converted input, conversion stops just prior to the input bytes that would cause the output buffer to overflow. The variable pointed to by inbuf is updated to point to the byte following the last byte successfully used in the conversion. The value pointed to by inbytesleft is decremented to reflect the number of bytes still not converted in the input buffer. The variable pointed to by outbuf is updated to point to the byte following the last byte of converted output data. The value pointed to by outbytesleft is decremented to reflect the number of bytes still available in the output buffer. For state-dependent encodings, the conversion descriptor is updated to reflect the shift state in effect at the end of the last successfully converted byte sequence.</p>
<p class="p">If <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> encounters a character in the input buffer that is valid, but for which an identical character does not exist in the target codeset, <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-ADFCEF1E-784D-39BD-AF57-690A1F5AFA26">iconv()</a> performs an implementation-dependent conversion on this character.</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The iconv() function updates the variables pointed to by the arguments to reflect the extent of the conversion and returns the number of non-identical conversions performed. If the entire string in the input buffer is converted, the value pointed to by inbytesleft will be 0. If the input conversion is stopped due to any conditions mentioned above, the value pointed to by inbytesleft will be non-zero and errno is set to indicate the condition. If an error occurs iconv() returns (size_t)-1 and sets errno to indicate the error.</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-945D65ED-238A-3BA8-96BB-F7FD9DC9E2A6"><a name="GUID-945D65ED-238A-3BA8-96BB-F7FD9DC9E2A6"><!-- --></a>
<a name="GUID-215EEBBD-DE55-37C3-933A-096661C3F46F"><!-- --></a><h3 class="sectiontitle">iconv_close ( iconv_t )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C int</td><td>iconv_close</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html">iconv_t</a></td><td><span class="parameter">conversion_descriptor</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-945D65ED-238A-3BA8-96BB-F7FD9DC9E2A6">iconv_close()</a> function deallocates the conversion descriptor cd and all other associated resources allocated by <a class="xref" href="GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html#GUID-2CDBDCB3-568C-3EDC-BBB8-E6FEBA2292FA">iconv_open()</a>.</p>
<p class="p">If a file descriptor is used to implement the type iconv_t, that file descriptor will be closed.</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Upon successful completion, 0 is returned. Otherwise, -1 is returned and errno is set to indicate the error.</dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></p></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-2F4B01BA-7B15-364A-B678-805B042D28BC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:39 GMT -->
</html>