<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-78779CD2-7F40-3843-885B-E8DBEC88E45C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:50 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxFile" />
<meta name="DC.Title" content="select.html" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-78779CD2-7F40-3843-885B-E8DBEC88E45C" />
<title>select.h</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-78779CD2-7F40-3843-885B-E8DBEC88E45C"><a name="GUID-78779CD2-7F40-3843-885B-E8DBEC88E45C"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">select.h File Reference</h1>
<div class="body refbody apiDetail apiClassifierDetail cxxFileDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-835DBB6E-6D18-39E4-B48D-1D732E4BEDB7"><a name="GUID-835DBB6E-6D18-39E4-B48D-1D732E4BEDB7"><!-- --></a>
<h3 class="sectiontitle">Typedef __fd_mask</h3>
<div class="section signature"><table class="signature"><tr><td>typedef unsigned long</td><td>__fd_mask</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-BF859296-E0F1-30BD-B426-2715A8F10B23"><a name="GUID-BF859296-E0F1-30BD-B426-2715A8F10B23"><!-- --></a>
<h3 class="sectiontitle">_SIGSET_T_DECLARED</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-EF730544-7EF6-3955-BC5A-141BA0408162"><a name="GUID-EF730544-7EF6-3955-BC5A-141BA0408162"><!-- --></a>
<h3 class="sectiontitle">Typedef sigset_t</h3>
<div class="section signature"><table class="signature"><tr><td>typedef 
					<a class="xref xref apiRelation" href="GUID-6B9FA9E3-BBBA-3B9F-8538-94583F2D3BA4.html">__uint64_t</a>
</td><td>sigset_t</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">For full documentation see: <a class="xref" href="http://www.opengroup.org/onlinepubs/009695399/basedefs/signal.h.html">http://www.opengroup.org/onlinepubs/009695399/basedefs/signal.h.html</a></p>
<p class="p">The sigset_t data type is used to represent a signal set.</p>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-63D442F0-2010-34FC-8C02-F3DCE68602F3"><a name="GUID-63D442F0-2010-34FC-8C02-F3DCE68602F3"><!-- --></a>
<h3 class="sectiontitle">FD_SETSIZE</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">The value of this macro is the maximum number of file descriptors that a <a class="xref" href="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286.html#GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286">fd_set</a> object can hold information about.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-07257017-4779-3C3C-8C2E-01F232684C0E"><a name="GUID-07257017-4779-3C3C-8C2E-01F232684C0E"><!-- --></a>
<h3 class="sectiontitle">_NFDBITS</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-EBE0A303-232B-3C34-A533-213E5268481D"><a name="GUID-EBE0A303-232B-3C34-A533-213E5268481D"><!-- --></a>
<h3 class="sectiontitle">_howmany</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286"><a name="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286"><!-- --></a>
<h3 class="sectiontitle">Typedef fd_set</h3>
<div class="section signature"><table class="signature"><tr><td>typedef struct <a class="xref xref apiRelation" href="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286.html">fd_set</a></td><td>fd_set</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-08614CDE-BCCF-35C1-BF0A-936F4184A80B"><a name="GUID-08614CDE-BCCF-35C1-BF0A-936F4184A80B"><!-- --></a>
<h3 class="sectiontitle">__fdset_mask</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-1C823E91-4D33-339D-9CFE-D3AE7FE02432"><a name="GUID-1C823E91-4D33-339D-9CFE-D3AE7FE02432"><!-- --></a>
<h3 class="sectiontitle">FD_CLR</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Clears the bit for the file descriptor fd in the file descriptor set fdset.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-309EC6FB-54F9-3A49-BEC7-FEFD1D0A01CF"><a name="GUID-309EC6FB-54F9-3A49-BEC7-FEFD1D0A01CF"><!-- --></a>
<h3 class="sectiontitle">FD_ISSET</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Returns a non-zero value if the bit for the file descriptor fd is set in the file descriptor set pointed to by fdset, and 0 otherwise.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-4A071655-9CF0-3D0D-8C05-07EED445DD50"><a name="GUID-4A071655-9CF0-3D0D-8C05-07EED445DD50"><!-- --></a>
<h3 class="sectiontitle">FD_SET</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Sets the bit for the file descriptor fd in the file descriptor set fdset.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-C0562046-4439-377F-B796-6B518ADE9974"><a name="GUID-C0562046-4439-377F-B796-6B518ADE9974"><!-- --></a>
<h3 class="sectiontitle">FD_ZERO</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Initialises the file descriptor set fdset to have zero bits for all file descriptors.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-06F01E4A-2AF3-3B41-A18C-9AECE07AFC79"><a name="GUID-06F01E4A-2AF3-3B41-A18C-9AECE07AFC79"><!-- --></a>
<h3 class="sectiontitle">_SELECT_DECLARED</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-486D9146-5332-376E-A267-3DA1C6391D88"><a name="GUID-486D9146-5332-376E-A267-3DA1C6391D88"><!-- --></a>
<a name="GUID-8B4D4123-8146-3157-B171-28F71E0C8E4A"><!-- --></a><h3 class="sectiontitle">select ( int, fd_set *, fd_set *, fd_set *, struct timeval * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C int</td><td>select</td><td>(</td><td>int</td><td><span class="parameter">,</span></td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286.html">fd_set</a> *</td><td><span class="parameter">,</span></td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286.html">fd_set</a> *</td><td><span class="parameter">,</span></td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-9BC229F6-9D5B-3EA1-BEAF-C1BA5896A286.html">fd_set</a> *</td><td><span class="parameter">,</span></td></tr><tr><td colspan="3"> </td><td>struct <a class="xref xref apiRelation" href="GUID-E120EDB8-D04F-3A22-A8B3-0BA20F84A04C.html">timeval</a> *</td><td><span class="parameter"></span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">The select() function indicates which of the specified file descriptors is ready for reading, ready for writing, or has an error condition pending. If the specified condition is false for all of the specified file descriptors, select() blocks, up to the specified timeout interval, until the specified condition is true for at least one of the specified file descriptors.</p>
<p class="p">The select system call examines the I/O descriptor sets whose addresses are passed in readfds, writefds, and exceptfds to see if some of their descriptors are ready for reading, are ready for writing, or have an exceptional condition pending, respectively. The only exceptional condition detectable is out-of-band data received on a socket. The first maxfd descriptors are checked in each set; i.e., the descriptors from 0 through maxfd -1 in the descriptor sets are examined. On return, select replaces the given descriptor sets with subsets consisting of those descriptors that are ready for the requested operation. The select system call returns the total number of ready descriptors in all the sets.</p>
<p class="p">The descriptor sets are stored as bit fields in arrays of integers. The following macros are provided for manipulating such descriptor sets:</p>
<div class="p">
<pre class="pre codeblock">FD_ZERO (&amp;fdset;); initializes a descriptor set fdset to the null set. 
FD_SET (fd, &amp;fdset;); includes a particular descriptor fd in fdset. 
FD_CLR (fd, &amp;fdset;); removes fd from fdset. 
FD_ISSET (fd, &amp;fdset;); is non-zero if fd is a member of fdset, zero otherwise.</pre>
</div>
<p class="p">The behavior of these macros is undefined if a descriptor value is less than zero or greater than or equal to FD_SETSIZE, which is normally at least equal to the maximum number of descriptors supported by the system.</p>
<p class="p">If tvptr is not a null pointer, it specifies the maximum interval to wait for the selection to complete. System activity can lengthen the interval by an indeterminate amount.</p>
<p class="p">To effect a poll, the tvptr argument should not be a null pointer, but it should point to a zero-valued timeval structure.</p>
<p class="p">Any of readfds, writefds, and exceptfds may be given as null pointers if no descriptors are of interest.</p>
<p class="p">Errors:</p>
<p class="p">An error return from select indicates: [EBADF] One of the descriptor sets specified an invalid descriptor. [EFAULT] One of the arguments readfds, writefds, exceptfds, or tvptr points to an invalid address. [EINVAL] The specified time limit is invalid. One of its components is negative or too large. [EINVAL] The maxfd argument was invalid.</p>
<p class="p">Limitations:</p>
<div class="p">select is not interrupted by signals, as signals are not supported by Symbian OS. If tvptr is set to null, select does not block forever, but waits for a maximum of 10 seconds and returns. select cannot be called a second time on the same socket descriptor before the first select operation on the same socket descriptor completes. (i.e) Only one select operation can be outstanding on a Socket. This is because of the limitation of the underlying Ioctl operation. Only one Ioctl operation may be outstanding for each socket. Examples: <pre class="pre codeblock">#include &lt;sys/select.h&gt;
#include &lt;unistd.h&gt;
/*
 A simple example of testing a single FD for readability
 This example returns 1 when the fd is ready for reading.
*/
#include &lt;sys/select.h&gt;
#include &lt;unistd.h&gt;
/*
 A simple example of testing a single FD for readability
 This example returns 1 when the fd is ready for reading.
*/
int isready(int fd)
{
    int rc;
    fd_set fds;
    struct timeval tv;
   
    /*
 FD_ZERO() clears out the fd_set called fds, so that
 it doesnt contain any file descriptors.
     */
    FD_ZERO(&amp;fds);
    /*
 FD_SET() adds the file descriptor "fd" to the fd_set,
 so that select() will return if fd is readable
     */
    FD_SET(fd,&amp;fds);
    tv.tv_sec = tv.tv_usec = 0;
    /*
 The first argument to select is the highest file
 descriptor value plus 1.
     */
                        
     /* The second argument to select() is the address of
 the fd_set that contains fds were waiting
 to be readable.
      */
                        
     /* The third parameter is an fd_set that you want to
 know if you can write on -- this example doesnt
 use it, so it passes 0, or NULL.
      */
     /* The fourth parameter is sockets youre waiting for
 out-of-band data for.
      */
                
     /* The last parameter to select() is a time-out of how
 long select() should block.
      */
     rc = select(fd+1, &amp;fds, NULL, NULL, &amp;tv);
     /* select() returns the number of fds that are ready       
 Once select() returns, the original fd_set has been
 modified so it now reflects the state of why select()
 woke up. i.e. If file descriptor 4 was originally in
 the fd_set, and then it became readable, the fd_set
 contains file descriptor 4 in it.
      */
     if (rc &lt; 0)
       return -1;
     return FD_ISSET(fd,&amp;fds) ? 1 : 0;
}</pre>
</div>
<p class="p">See also: accept() connect() <a class="xref" href="GUID-1E1E8FB2-DEC1-3D52-B3B7-B339F4F689E8.html#GUID-A875B66B-C9C6-3F08-BC12-FEA99787D653">getdtablesize()</a> <a class="xref" href="GUID-BFE42A4B-8624-32D6-9FF4-217649125C12.html#GUID-61C6C5A7-F06C-3363-9983-A4F91726E71D">gettimeofday()</a> read() <a class="xref" href="GUID-70ED2366-90B0-30FA-BAFD-3DE3A1894A41.html#GUID-93004357-1C15-3C11-8975-0A04067016B5">recv()</a> <a class="xref" href="GUID-70ED2366-90B0-30FA-BAFD-3DE3A1894A41.html#GUID-86640361-7309-3D49-8820-5DBB494AD9B2">send()</a> write()</p>
<p class="p">Notes:</p>
<p class="p">The default size of FD_SETSIZE is currently set to 1024. In order to accommodate programs which might potentially use a larger number of open files with select, it is possible to increase this size by having the program define FD_SETSIZE before the inclusion of any header which includes</p>
<p class="p">#include &lt; <a class="xref" href="GUID-A96F1C9C-1E70-3763-9EDA-4907430183E8.html#GUID-A96F1C9C-1E70-3763-9EDA-4907430183E8">sys/types.h</a> &gt;</p>
<p class="p">If maxfd is greater than the number of open files, select is not guaranteed to examine the unused file descriptors. For historical reasons, select will always examine the first 256 descriptors.</p>
<p class="p">The select system call appeared in BSD 4.2.</p>
<p class="p">Bugs:</p>
<p class="p">
<tt class="ph tt"> -susv2 </tt> allows systems to modify the original tvptr in place. Thus, it is unwise to assume that the tvptr value will be unmodified by the select system call.</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The select system call returns the number of ready descriptors that are contained in the descriptor sets, or -1 if an error occurred. If the time limit expires, select returns 0. If select returns with an error, the descriptor sets will be unmodified.</dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></div></p></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-78779CD2-7F40-3843-885B-E8DBEC88E45C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:50 GMT -->
</html>