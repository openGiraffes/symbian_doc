<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EFAFDD75-7E59-306A-882D-317F5564979E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:42 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="RHeap" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-EFAFDD75-7E59-306A-882D-317F5564979E" />
<title>RHeap</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-EFAFDD75-7E59-306A-882D-317F5564979E"><a name="GUID-EFAFDD75-7E59-306A-882D-317F5564979E"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">RHeap Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;e32cmn.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class RHeap : public RAllocator</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RHeap<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator</a><ul class="derivation"><li class="derivation-depth-2 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator</a></li></ul></li></ul></li></ul></div>
<div class="body refbody apiDetail apiDetail cxxClassNestedDetail section nested"><h2 class="sectiontitle">Nested Classes and Structures</h2><ul><li><a class="xref xref apiRelation apiRelation cxxClassNestedStruct" href="GUID-E6CB514B-AC7B-37D7-AF33-30BD34ADCF1D.html">RHeap::SDebugCell</a></li><li><a class="xref xref apiRelation apiRelation cxxClassNestedStruct" href="GUID-66F689C8-E31E-3CC1-850B-9B4685B74225.html">RHeap::SHeapCellInfo</a></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Type Definitions</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">typedef</td><td>void(* <a href="#GUID-18991197-CCA3-3B3F-813B-698FC2BA8AE5">TWalkFunc</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-5A494A21-3D1A-3EF7-8717-536BC62A9AB2">iAlign</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td><a href="#GUID-BD55F006-910C-344F-86A8-2DB31B323161">iBase</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-CF60053F-3205-36A3-8072-B41CADCAAA4F">iChunkHandle</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>
</td><td><a href="#GUID-3DAC8628-866F-358F-81E9-92710139A52F">iFailType</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-669D0368-7ADE-35FA-881C-51D476D45B8A.html">RFastLock</a>
</td><td><a href="#GUID-81A2D6DC-D9BB-34D3-B284-962EE76F1192">iLock</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-5B311278-A08C-3CB7-8A42-23402D2D5AFB">iMaxLength</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-FAB57ADE-1E80-36D6-9418-270A61B7E38C">iNestingLevel</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-69373924-BF80-3E1B-BB9A-BE2BC71577C7">iTestData</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td><a href="#GUID-4BFD53D7-BEE9-3E8E-827A-DCBF702ABEBD">iTop</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-1358CAFE-0878-306C-9EFC-039AB3D72625">iUnused1</a></td></tr><tr><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-6985ED5C-1995-332B-B9BE-EED2BCE87A03">iUnused2</a></td></tr><tr class="bg"><td align="right" valign="top" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-0AB8B002-350D-3D72-94EE-7CB0A38EE07E">iUnused3</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-8AF7BDBA-5804-3E6A-8A05-8B35C4D0F102">anonymous</a> { <a href="#GUID-008EDAF9-34C7-3B3A-A0DA-76F011D3934B">EDebugHdrSize</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-1A04229B-6403-33E3-BC6B-9239C67E0BA8">anonymous</a> { <a href="#GUID-8A1E2C61-07D9-3C5B-9BFC-3A7643439DDC">ECellAlignment</a> }</td></tr><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-6FEB8517-FACA-3787-913D-339F1D892E77">anonymous</a> { <a href="#GUID-B64FF00A-A129-356F-AC76-8C8774F84963">EFreeCellSize</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-E2FCEC1E-92A7-3CAB-86D8-CBC492187A3B">anonymous</a> { <a href="#GUID-3D423A57-BAB9-3175-8523-25CE8CD38125">EAllocCellSize</a> }</td></tr><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-B5215C4B-B26E-3541-BDDB-4AEFA99E0F00">TCellType</a> { <a href="#GUID-AA3D1CE5-9852-3379-9BC3-6A6344B2B804">EGoodAllocatedCell</a>, <a href="#GUID-A84313EA-BB0C-3A1B-BDC2-321D625AAE78">EGoodFreeCell</a>, <a href="#GUID-13EB7319-5F11-3943-9E17-780160DD1771">EBadAllocatedCellSize</a>, <a href="#GUID-AB5E5D3D-81D1-3C58-A2DC-E6C0042AD27C">EBadAllocatedCellAddress</a>, ..., <a href="#GUID-F88524E7-AF78-31CB-8C77-409E3725E878">EBadFreeCellSize</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-BAA2A4BB-AAFC-3C82-8EB5-25501952BEA2">TDebugHeapId</a> { <a href="#GUID-B0D104CA-B32B-3DF8-B8C3-EECEEDDD6F8E">EUser</a>, <a href="#GUID-1D6C3E33-BFEC-3D4E-98FB-14150A3B923D">EKernel</a> }</td></tr><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-C374DCAA-9FEC-355B-AE03-91E8E99504F2">TDebugOp</a> { <a href="#GUID-6F6C7CC2-4034-3656-AFA1-74F5C6D9C593">EWalk</a>, <a href="#GUID-E14358AC-959B-395A-B615-A6F896F5A7C1">EHybridHeap</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-26580459-7EBC-38B4-B324-21B0F4D441B8">TDefaultShrinkRatios</a> { <a href="#GUID-41EEAF2B-79D0-3996-AE09-F0675AB5AC6C">EShrinkRatio1</a>, <a href="#GUID-D283740D-AD30-3097-8308-F2E857D4EC8F">EShrinkRatioDflt</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-24023DF4-0A70-3AFF-8AF5-5E2C98C0B146">Alloc</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B06416F2-2F90-3289-951F-59AFE411A0C4">AllocLen</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-7D044668-82DB-3BA6-A733-70D7203D2818">AllocSize</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2E86C91D-1CF2-324F-9FB4-28D1EBB95229">Available</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2FB6F727-3E11-32C2-BDB6-1F86ED6CE3E5">Compress</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-0ACB5743-DC89-3A3F-A324-F096E9013FE3">DebugFunction</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">virtual UIMPORT_C void</td><td><a href="#GUID-1E8642A0-8731-3949-8539-26523B8D4677">Free</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-7CB3006D-BCFE-321D-A7D7-7CC991C5710A">ReAlloc</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">virtual UIMPORT_C void</td><td><a href="#GUID-75FFFB70-077B-3CC4-B7DE-D2362027E308">Reset</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-C2915112-E7FD-3D02-A47C-9F69C39C1362">RHeap</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-3E190619-57A8-36BD-BE72-2B616978A1C8">Extension_</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iAccessCount</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iCellCount</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iFlags</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iHandleCount</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iHandles</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::iTotalAllocSize</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:@5</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TAllocDebugOp</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TAllocFail</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TDbgHeapType</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TExtension_Op</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TFlags</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator:TReAllocMode</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Align(TAny *)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Align(TInt)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::AllocAligned(TInt,TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::AllocL(TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::AllocLC(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::AllocZ(TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::AllocZL(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Base()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Check()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Close()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Count()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Count(TInt &amp;)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::DoClose()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::FreeZ(TAny *&amp;)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::MaxLength()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Open()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::RAllocator()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::ReAllocL(TAny *,TInt,TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Size()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgCheckFailure()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgGetAllocFail()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgMarkCheck(TBool,TInt,const TDesC8 &amp;,TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgMarkCheck(TBool,TInt,const TUint8 *,TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgMarkEnd(TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgMarkStart()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgSetAllocFail(TAllocFail,TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::__DbgSetBurstAllocFail(TAllocFail,TUint,TUint)</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Represents the default implementation for a heap.</p>
<p class="p">The heap itself is contained in a chunk and may be the only occupant of the chunk or may share the chunk.</p>
<p class="p">The class contains member functions for allocating, adjusting, freeing individual cells and generally managing the heap.</p>
<p class="p">The class is not a handle in the same sense that <a class="xref" href="GUID-326A2F4D-0E99-31C0-A35D-E8BF45913F07.html#GUID-326A2F4D-0E99-31C0-A35D-E8BF45913F07">RChunk</a> is a handle; i.e. there is no Kernel object which corresponds to the heap. </p>
</div>
<h2 class="sectiontitle">Member Type Definition Documentation</h2><div class="topic reference apiRef apiValue cxxTypedef nested1" id="GUID-18991197-CCA3-3B3F-813B-698FC2BA8AE5"><a name="GUID-18991197-CCA3-3B3F-813B-698FC2BA8AE5"><!-- --></a>
<h3 class="sectiontitle">Typedef TWalkFunc</h3>
<div class="section signature"><table class="signature"><tr><td>typedef void(*</td><td>TWalkFunc</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<h2 class="sectiontitle">Member Attribute Documentation</h2><div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-5A494A21-3D1A-3EF7-8717-536BC62A9AB2"><a name="GUID-5A494A21-3D1A-3EF7-8717-536BC62A9AB2"><!-- --></a>
<h3 class="sectiontitle">iAlign</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iAlign</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-BD55F006-910C-344F-86A8-2DB31B323161"><a name="GUID-BD55F006-910C-344F-86A8-2DB31B323161"><!-- --></a>
<h3 class="sectiontitle">iBase</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td>iBase</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-CF60053F-3205-36A3-8072-B41CADCAAA4F"><a name="GUID-CF60053F-3205-36A3-8072-B41CADCAAA4F"><!-- --></a>
<h3 class="sectiontitle">iChunkHandle</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iChunkHandle</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-3DAC8628-866F-358F-81E9-92710139A52F"><a name="GUID-3DAC8628-866F-358F-81E9-92710139A52F"><!-- --></a>
<h3 class="sectiontitle">iFailType</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">TAllocFail</a>
</td><td>iFailType</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-81A2D6DC-D9BB-34D3-B284-962EE76F1192"><a name="GUID-81A2D6DC-D9BB-34D3-B284-962EE76F1192"><!-- --></a>
<h3 class="sectiontitle">iLock</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-669D0368-7ADE-35FA-881C-51D476D45B8A.html">RFastLock</a>
</td><td>iLock</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-5B311278-A08C-3CB7-8A42-23402D2D5AFB"><a name="GUID-5B311278-A08C-3CB7-8A42-23402D2D5AFB"><!-- --></a>
<h3 class="sectiontitle">iMaxLength</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iMaxLength</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-FAB57ADE-1E80-36D6-9418-270A61B7E38C"><a name="GUID-FAB57ADE-1E80-36D6-9418-270A61B7E38C"><!-- --></a>
<h3 class="sectiontitle">iNestingLevel</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iNestingLevel</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-69373924-BF80-3E1B-BB9A-BE2BC71577C7"><a name="GUID-69373924-BF80-3E1B-BB9A-BE2BC71577C7"><!-- --></a>
<h3 class="sectiontitle">iTestData</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>iTestData</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-4BFD53D7-BEE9-3E8E-827A-DCBF702ABEBD"><a name="GUID-4BFD53D7-BEE9-3E8E-827A-DCBF702ABEBD"><!-- --></a>
<h3 class="sectiontitle">iTop</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td>iTop</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-1358CAFE-0878-306C-9EFC-039AB3D72625"><a name="GUID-1358CAFE-0878-306C-9EFC-039AB3D72625"><!-- --></a>
<h3 class="sectiontitle">iUnused1</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iUnused1</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-6985ED5C-1995-332B-B9BE-EED2BCE87A03"><a name="GUID-6985ED5C-1995-332B-B9BE-EED2BCE87A03"><!-- --></a>
<h3 class="sectiontitle">iUnused2</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iUnused2</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiValue cxxVariable nested1" id="GUID-0AB8B002-350D-3D72-94EE-7CB0A38EE07E"><a name="GUID-0AB8B002-350D-3D72-94EE-7CB0A38EE07E"><!-- --></a>
<h3 class="sectiontitle">iUnused3</h3>
<div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>iUnused3</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-8AF7BDBA-5804-3E6A-8A05-8B35C4D0F102"><a name="GUID-8AF7BDBA-5804-3E6A-8A05-8B35C4D0F102"><!-- --></a>
<h3 class="sectiontitle">Enum anonymous</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<p class="p">Size of a free cell header. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-008EDAF9-34C7-3B3A-A0DA-76F011D3934B"><span class="enumerator">EDebugHdrSize</span></a></td><td>sizeof(SDebugCell)</td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-1A04229B-6403-33E3-BC6B-9239C67E0BA8"><a name="GUID-1A04229B-6403-33E3-BC6B-9239C67E0BA8"><!-- --></a>
<h3 class="sectiontitle">Enum anonymous</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<p class="p">The default cell alignment. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-8A1E2C61-07D9-3C5B-9BFC-3A7643439DDC"><span class="enumerator">ECellAlignment</span></a></td><td>8</td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-6FEB8517-FACA-3787-913D-339F1D892E77"><a name="GUID-6FEB8517-FACA-3787-913D-339F1D892E77"><!-- --></a>
<h3 class="sectiontitle">Enum anonymous</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<p class="p">Size of a free cell header. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-B64FF00A-A129-356F-AC76-8C8774F84963"><span class="enumerator">EFreeCellSize</span></a></td><td>4</td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-E2FCEC1E-92A7-3CAB-86D8-CBC492187A3B"><a name="GUID-E2FCEC1E-92A7-3CAB-86D8-CBC492187A3B"><!-- --></a>
<h3 class="sectiontitle">Enum anonymous</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<p class="p">Size of an allocated cell header in a release build. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-3D423A57-BAB9-3175-8523-25CE8CD38125"><span class="enumerator">EAllocCellSize</span></a></td><td>4</td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-B5215C4B-B26E-3541-BDDB-4AEFA99E0F00"><a name="GUID-B5215C4B-B26E-3541-BDDB-4AEFA99E0F00"><!-- --></a>
<h3 class="sectiontitle">Enum TCellType</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-AA3D1CE5-9852-3379-9BC3-6A6344B2B804"><span class="enumerator">EGoodAllocatedCell</span></a></td><td></td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-A84313EA-BB0C-3A1B-BDC2-321D625AAE78"><span class="enumerator">EGoodFreeCell</span></a></td><td></td><td> </td></tr><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-13EB7319-5F11-3943-9E17-780160DD1771"><span class="enumerator">EBadAllocatedCellSize</span></a></td><td></td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-AB5E5D3D-81D1-3C58-A2DC-E6C0042AD27C"><span class="enumerator">EBadAllocatedCellAddress</span></a></td><td></td><td> </td></tr><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-FDC30F0E-87CF-3FA0-A96D-6C91900BA943"><span class="enumerator">EBadFreeCellAddress</span></a></td><td></td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-F88524E7-AF78-31CB-8C77-409E3725E878"><span class="enumerator">EBadFreeCellSize</span></a></td><td></td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-BAA2A4BB-AAFC-3C82-8EB5-25501952BEA2"><a name="GUID-BAA2A4BB-AAFC-3C82-8EB5-25501952BEA2"><!-- --></a>
<h3 class="sectiontitle">Enum TDebugHeapId</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-B0D104CA-B32B-3DF8-B8C3-EECEEDDD6F8E"><span class="enumerator">EUser</span></a></td><td>0</td><td>
<p class="p">The heap is a user heap. </p>
</td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-1D6C3E33-BFEC-3D4E-98FB-14150A3B923D"><span class="enumerator">EKernel</span></a></td><td>1</td><td>
<p class="p">The heap is the Kernel heap. </p>
</td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-C374DCAA-9FEC-355B-AE03-91E8E99504F2"><a name="GUID-C374DCAA-9FEC-355B-AE03-91E8E99504F2"><!-- --></a>
<h3 class="sectiontitle">Enum TDebugOp</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-6F6C7CC2-4034-3656-AFA1-74F5C6D9C593"><span class="enumerator">EWalk</span></a></td><td>128</td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-E14358AC-959B-395A-B615-A6F896F5A7C1"><span class="enumerator">EHybridHeap</span></a></td><td></td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-26580459-7EBC-38B4-B324-21B0F4D441B8"><a name="GUID-26580459-7EBC-38B4-B324-21B0F4D441B8"><!-- --></a>
<h3 class="sectiontitle">Enum TDefaultShrinkRatios</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-41EEAF2B-79D0-3996-AE09-F0675AB5AC6C"><span class="enumerator">EShrinkRatio1</span></a></td><td>256</td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-D283740D-AD30-3097-8308-F2E857D4EC8F"><span class="enumerator">EShrinkRatioDflt</span></a></td><td>512</td><td> </td></tr></table></div>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C2915112-E7FD-3D02-A47C-9F69C39C1362"><a name="GUID-C2915112-E7FD-3D02-A47C-9F69C39C1362"><!-- --></a>
<h3 class="sectiontitle">RHeap (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>RHeap</td><td>(</td><td>)</td><td>[protected, inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-24023DF4-0A70-3AFF-8AF5-5E2C98C0B146"><a name="GUID-24023DF4-0A70-3AFF-8AF5-5E2C98C0B146"><!-- --></a>
<a name="GUID-25D40050-B53D-3FE2-B39E-B79832706B0C"><!-- --></a><h3 class="sectiontitle">Alloc ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>Alloc</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span></td><td>)</td><td>[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Alloc(TInt)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Allocates a cell of the specified size from the heap.</p>
<p class="p">If there is insufficient memory available on the heap from which to allocate a cell of the required size, the function returns NULL.</p>
<p class="p">The cell is aligned according to the alignment value specified at construction, or the default alignment value, if an explict value was not specified.</p>
<p class="p">The resulting size of the allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html#GUID-ECBFBC46-E7AF-3E3B-A347-7A3FD976CDAE">KMaxTInt</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSize</td><td>The size of the cell to be allocated from the heap </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the allocated cell. NULL if there is insufficient memory available.</dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">47 if the maximum unsigned value of aSize is greater than or equal to the value of KMaxTInt/2; for example, calling Alloc(-1) raises this panic.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B06416F2-2F90-3289-951F-59AFE411A0C4"><a name="GUID-B06416F2-2F90-3289-951F-59AFE411A0C4"><!-- --></a>
<a name="GUID-1462ADF6-FB96-3BAE-BDDC-69AC8AF91B57"><!-- --></a><h3 class="sectiontitle">AllocLen ( const TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>AllocLen</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aCell</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocLen(const TAny *)const</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the length of the available space in the specified allocated cell.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCell</td><td>A pointer to the allocated cell. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The length of the available space in the allocated cell.</dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">42 if aCell does not point to a valid cell.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7D044668-82DB-3BA6-A733-70D7203D2818"><a name="GUID-7D044668-82DB-3BA6-A733-70D7203D2818"><!-- --></a>
<a name="GUID-932B54B1-1BE0-3072-9F56-906202D16628"><!-- --></a><h3 class="sectiontitle">AllocSize ( TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>AllocSize</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aTotalAllocSize</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::AllocSize(TInt &amp;)const</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the number of cells allocated on this heap, and the total space allocated to them.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTotalAllocSize</td><td>On return, contains the total space allocated to the cells. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of cells allocated on this heap. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2E86C91D-1CF2-324F-9FB4-28D1EBB95229"><a name="GUID-2E86C91D-1CF2-324F-9FB4-28D1EBB95229"><!-- --></a>
<a name="GUID-6AD0F7E2-F512-3677-AB2F-9B7AB44F5161"><!-- --></a><h3 class="sectiontitle">Available ( TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Available</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aBiggestBlock</span></td><td>)</td><td>const [virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Available(TInt &amp;)const</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the total free space currently available on the heap and the space available in the largest free block.</p>
<p class="p">Note that this function exists mainly for compatibility reasons. In a modern heap implementation such as that present in Symbian it is not appropriate to concern oneself with details such as the amount of free memory available on a heap and its largeset free block, because the way that a modern heap implmentation works is not simple. The amount of available virtual memory != physical memory and there are multiple allocation strategies used internally, which makes all memory usage figures "fuzzy" at best.</p>
<p class="p">In short, if you want to see if there is enough memory available to allocate a block of memory, call <a class="xref" href="GUID-EFAFDD75-7E59-306A-882D-317F5564979E.html#GUID-24023DF4-0A70-3AFF-8AF5-5E2C98C0B146">Alloc()</a> and if it succeeds then there is enough memory! Messing around with functions like this is somewhat pointless with modern heap allocators.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aBiggestBlock</td><td>On return, contains the space available in the largest free block on the heap. Due to the internals of modern heap implementations, you can probably still allocate a block larger than this! </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The total free space currently available on the heap. Again, you can probably still allocate more than this! </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2FB6F727-3E11-32C2-BDB6-1F86ED6CE3E5"><a name="GUID-2FB6F727-3E11-32C2-BDB6-1F86ED6CE3E5"><!-- --></a>
<h3 class="sectiontitle">Compress (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Compress</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Compress()</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Compresses the heap.</p>
<p class="p">The function frees excess committed space from the top of the heap. The size of the heap is never reduced below the minimum size specified during creation of the heap.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The space reclaimed. If no space can be reclaimed, then this value is zero. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0ACB5743-DC89-3A3F-A324-F096E9013FE3"><a name="GUID-0ACB5743-DC89-3A3F-A324-F096E9013FE3"><!-- --></a>
<a name="GUID-AD37085A-4563-39B5-8FAD-C268D9FEC673"><!-- --></a><h3 class="sectiontitle">DebugFunction ( TInt, TAny *, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DebugFunction</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aFunc</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span> = NULL,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a2</span> = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::DebugFunction(TInt,TAny *,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3E190619-57A8-36BD-BE72-2B616978A1C8"><a name="GUID-3E190619-57A8-36BD-BE72-2B616978A1C8"><!-- --></a>
<a name="GUID-BF5ABD19-5B90-3D48-A588-C21AC66A741C"><!-- --></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html">RAllocator::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1E8642A0-8731-3949-8539-26523B8D4677"><a name="GUID-1E8642A0-8731-3949-8539-26523B8D4677"><!-- --></a>
<a name="GUID-A6010788-7F69-38B4-B8CC-007D9F417D5C"><!-- --></a><h3 class="sectiontitle">Free ( TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>Free</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aPtr</span></td><td>)</td><td>[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Free(TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Frees the specified cell and returns it to the heap.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPtr</td><td>A pointer to a valid cell; this pointer can also be NULL, in which case the function does nothing and just returns. </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">42 if aCell points to an invalid cell.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7CB3006D-BCFE-321D-A7D7-7CC991C5710A"><a name="GUID-7CB3006D-BCFE-321D-A7D7-7CC991C5710A"><!-- --></a>
<a name="GUID-C0A4F4AF-F7D2-3CD9-930E-81B09745E17C"><!-- --></a><h3 class="sectiontitle">ReAlloc ( TAny *, TInt, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ReAlloc</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">aPtr</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSize</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aMode</span> = 0</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::ReAlloc(TAny *,TInt,TInt)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Increases or decreases the size of an existing cell in the heap.</p>
<p class="p">If the cell is being decreased in size, then it is guaranteed not to move, and the function returns the pointer originally passed in aCell. Note that the length of the cell will be the same if the difference between the old size and the new size is smaller than the minimum cell size.</p>
<p class="p">If the cell is being increased in size, i.e. aSize is bigger than its current size, then the function tries to grow the cell in place. If successful, then the function returns the pointer originally passed in aCell. If unsuccessful, then:</p>
<p class="p">1. if the cell cannot be moved, i.e. aMode has the ENeverMove bit set, then the function returns NULL. 2. if the cell can be moved, i.e. aMode does not have the ENeverMove bit set, then the function tries to allocate a new replacement cell, and, if successful, returns a pointer to the new cell; if unsuccessful, it returns NULL.</p>
<p class="p">Note that in debug mode, the function returns NULL if the cell cannot be grown in place, regardless of whether the ENeverMove bit is set.</p>
<p class="p">If the reallocated cell is at a different location from the original cell, then the content of the original cell is copied to the reallocated cell.</p>
<p class="p">If the supplied pointer, aCell is NULL, then the function attempts to allocate a new cell, but only if the cell can be moved, i.e. aMode does not have the ENeverMove bit set.</p>
<p class="p">Note the following general points:</p>
<p class="p">1. If reallocation fails, the content of the original cell is preserved.</p>
<p class="p">2. The resulting size of the re-allocated cell may be rounded up to a value greater than aSize, but is guaranteed to be not less than aSize.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-9DB4A58C-6FC8-3292-A547-4C161BD188FC.html#GUID-63CC3FB7-6ADB-3C71-9725-DF39817667EB">RAllocator::TReAllocMode</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPtr</td><td>A pointer to the cell to be reallocated. This may be NULL. </td></tr><tr class="bg"><td class="parameter">aSize</td><td>The new size of the cell. This may be bigger or smaller than the size of the original cell. </td></tr><tr><td class="parameter">aMode</td><td>Flags controlling the reallocation. The only bit which has any effect on this function is that defined by the enumeration ENeverMove of the enum RAllocator::TReAllocMode. If this is set, then any successful reallocation guarantees not to have changed the start address of the cell. By default, this parameter is zero. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the reallocated cell. This may be the same as the original pointer supplied through aCell. NULL if there is insufficient memory to reallocate the cell, or to grow it in place.</dd></dl></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">42, if aCell is not NULL, and does not point to a valid cell.</td></tr><tr><td class="paniccode">USER</td><td class="panicvalue">47, if the maximum unsigned value of aSize is greater than or equal to KMaxTInt/2. For example, calling ReAlloc(someptr,-1) raises this panic.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-75FFFB70-077B-3CC4-B7DE-D2362027E308"><a name="GUID-75FFFB70-077B-3CC4-B7DE-D2362027E308"><!-- --></a>
<h3 class="sectiontitle">Reset (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>UIMPORT_C void</td><td>Reset</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-C5475104-B67A-3722-B11D-DBB930423492.html">MAllocator::Reset()</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Frees all allocated cells on this heap. </p>
</div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EFAFDD75-7E59-306A-882D-317F5564979E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:42 GMT -->
</html>