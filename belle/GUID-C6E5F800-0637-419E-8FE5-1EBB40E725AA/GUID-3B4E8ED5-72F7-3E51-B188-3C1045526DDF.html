<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="RComm" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF" />
<title>RComm</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF"><a name="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">RComm Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;c32comm.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: c32.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class RComm : public RSubSessionBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">RComm<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-AA8D519C-3059-3C00-BA1F-73D9F2363980">RComm</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4400C0F3-B1A0-3F2D-8A1C-2571726FC846">Break</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-FA364383-CAE7-3F97-ABAC-ABBF9A03111F">BreakCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-37025F98-6C88-3F87-A146-C6C28ED769ED">Cancel</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-5D2C7D0B-7AEB-30D0-BA94-F1EBDC76F756">Caps</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5F3D449E-65E8-32E4-B316-247FC859D8D6">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B94D13DB-F31F-3DA1-82DD-4B13E8B53310">Config</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F6BDB4F3-7CCB-3490-A55B-A9CFC9202B92">DebugState</a>(TCommDebugInfo &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-7E88FD6A-F58C-3513-9D2F-3D718200944A">GetFlowControlStatus</a>(<a class="xref xref apiRelation" href="GUID-7282263E-55AB-348F-B651-B3F1A447C43D.html">TFlowControl</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-AA7B5918-1A77-3851-95F9-A9A1B0A14C8D">GetRole</a>(<a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-CB89076D-F077-3353-B757-FECB3E96DD41">Mode</a>(<a class="xref xref apiRelation" href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TCommServerConfig</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-619C33BE-B8AE-3499-9AB3-A52E6F649786">NotifyBreak</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-FE108D5D-B377-3331-B47C-43F1CEF532EF">NotifyBreakCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FBD8299D-C9A2-3452-9BF8-F8DD1EC46D8D">NotifyConfigChange</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6F3048A2-AF17-30A1-8EA6-797F83A481B3">NotifyConfigChangeCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F9916B19-110D-3DC3-9220-E22AE358E615">NotifyDataAvailableCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-AB754E8C-4C8B-3183-9A72-687E3052CB7A">NotifyFlowControlChange</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-7282263E-55AB-348F-B651-B3F1A447C43D.html">TFlowControl</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-900AB05A-EE5C-365F-87A3-FC60F48CA67B">NotifyFlowControlChangeCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1AF92BB8-0586-3394-91AA-15A17F7B1739">NotifyOutputEmpty</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-92A782EA-168D-3C88-A896-FBC489A59F83">NotifyOutputEmptyCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6895C222-0951-38D1-A91A-2A4C25879FFE">NotifySignalChange</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-AC0292EC-0BD8-31A5-852F-351D1A960A02">NotifySignalChangeCancel</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-54E99C6B-1F9D-3715-AAE5-E6FACD5C88B2">Open</a>(<a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-510E2857-4673-391D-9E0A-04F4D24825EF">Open</a>(<a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a>, <a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-202C13FA-B620-31FD-8C72-28795C10D48C">OpenWhenAvailable</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C1AA7AEA-C0F5-370C-B13D-697692D09A06">OpenWhenAvailable</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-17B873BF-6A2D-366F-AAE7-66E49CC5DA1A">OpenWhenAvailableCancel</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-082F5520-9C07-3471-8640-98E6D8D6C8AC">QueryReceiveBuffer</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-204BFBBC-CE69-376E-9770-131082D3E61F">Read</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-85DB3F3A-9C1E-334C-B55F-9E589177147B">Read</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DA1C7FC2-D6ED-3AE3-8679-4F32CF939C65">Read</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F8AAD977-2939-353F-B4E5-B8EB4DDEB5F2">ReadCancel</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9D1039ED-47A4-3993-99C2-7F08ABDE8652">ReceiveBufferLength</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D3E69EA3-88C6-375E-B063-261DA6366A65">ResetBuffers</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-714BD9C9-62FD-35EC-A92A-F1A08820E00C">SetAccessMode</a>(<a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-00622755-F606-39AC-97EF-1096EC30A5CA">SetConfig</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-42C5A59B-96F3-3AA6-87C1-E680B9891C1C">SetMode</a>(const <a class="xref xref apiRelation" href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TCommServerConfig</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-89FB3A75-A50C-3784-B818-8259F3D6040F">SetReceiveBufferLength</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-3120C7BC-D19E-34DC-8D9D-126258592042">SetSignals</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-43571A3F-0079-3826-858C-4FCD1F52BF96">SetSignalsToMark</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-641696E6-619D-39B2-B2DB-93BCFFAC8759">SetSignalsToSpace</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><a href="#GUID-142C6424-2A38-3419-8035-9716BEAC14FE">Signals</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-AAE3E0C6-AC0B-31B9-B375-A2492C9F05B1">Write</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2A751014-5C32-3135-ACAD-C2EE9E5FDDB8">Write</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D247D14C-EBDB-3274-A1CE-FD53D9252D21">Write</a>(<a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E41AEC28-8B0F-3BAD-AFCA-F381ABE7911F">WriteCancel</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CloseSubSession(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateAutoCloseSubSession(RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::RSubSessionBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Session()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SubSessionHandle()const</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">A sub-session to the C32 Serial Server used for addressing a serial port.</p>
<p class="p">All the necessary functions are provided by this class for communicating via a port, including functions for opening, closing, reading, writing, port configuration and capability checking. An <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF">RComm</a> session represents a single serial port and once opened cannot be altered to represent another port.</p>
<p class="p">Ports are referenced by a character string whose format is referred to as Port Prefix format. This format is also known as the CSY internal name, and the ports "short" name in older releases.</p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AA8D519C-3059-3C00-BA1F-73D9F2363980"><a name="GUID-AA8D519C-3059-3C00-BA1F-73D9F2363980"><!-- --></a>
<h3 class="sectiontitle">RComm (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>RComm</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4400C0F3-B1A0-3F2D-8A1C-2571726FC846"><a name="GUID-4400C0F3-B1A0-3F2D-8A1C-2571726FC846"><!-- --></a>
<a name="GUID-A94731AA-7D03-3665-A39C-6DE94F53453A"><!-- --></a><h3 class="sectiontitle">Break ( TRequestStatus &amp;, TTimeIntervalMicroSeconds32 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Break</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTime</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets a break condition for a specified time.</p>
<p class="p">A break condition on a line is when a data line is held permanently high for an indeterminate period which must be greater than the time normally taken to transmit two characters. It is sometimes used as an error signal between computers and other devices attached to them over RS232 lines.</p>
<p class="p">Notes:</p>
<p class="p">Setting breaks is not supported on the integral ARM serial hardware. EPOC has no support for detecting received breaks. There is no way to detects whether setting a break is supported using <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-5D2C7D0B-7AEB-30D0-BA94-F1EBDC76F756">Caps()</a>.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aTime</td><td>A timed break period in microseconds. </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FA364383-CAE7-3F97-ABAC-ABBF9A03111F"><a name="GUID-FA364383-CAE7-3F97-ABAC-ABBF9A03111F"><!-- --></a>
<h3 class="sectiontitle">BreakCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>BreakCancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels any pending <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-4400C0F3-B1A0-3F2D-8A1C-2571726FC846">Break()</a> operations. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-37025F98-6C88-3F87-A146-C6C28ED769ED"><a name="GUID-37025F98-6C88-3F87-A146-C6C28ED769ED"><!-- --></a>
<h3 class="sectiontitle">Cancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Cancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancels any pending reads and writes.</p>
<div class="p">A panic will result if an attempt is made to reconfigure a port if there are any pending reads or writes. Use this function before configuring a port if there is any doubt as to whether it is safe to do so. It isn't necessary to call <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-37025F98-6C88-3F87-A146-C6C28ED769ED">Cancel()</a> before closing a port as this is done automatically. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5D2C7D0B-7AEB-30D0-BA94-F1EBDC76F756"><a name="GUID-5D2C7D0B-7AEB-30D0-BA94-F1EBDC76F756"><!-- --></a>
<a name="GUID-4A6ECC68-EBC7-3B6C-94AE-9272669F6FF2"><!-- --></a><h3 class="sectiontitle">Caps ( TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Caps</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aCaps</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads the capabilities of the serial port.</p>
<p class="p">As the serial driver can control a range of different physical devices with differing capabilities, it could be considered important from the point of view of the operating system to be able to read these capabilities before attempting to configure the port. In practice however, program development is likely to be targeted at a specific hardware configuration, and interrogation of a device to ascertain its capabilities isn't normally necessary.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCaps</td><td>On return this descriptor will contain either a packaged TCommCapsV01 structure or a packaged TCommCapsV02 structure corresponding to the capabilities of the serial device and of the CSY module, depending on the size of the descriptor passed in to the function.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5F3D449E-65E8-32E4-B316-247FC859D8D6"><a name="GUID-5F3D449E-65E8-32E4-B316-247FC859D8D6"><!-- --></a>
<h3 class="sectiontitle">Close (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Closes a serial port. If the session is closed without having closed all the open ports via calls to this function, then the session close will close all remaining ports opened by the session. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B94D13DB-F31F-3DA1-82DD-4B13E8B53310"><a name="GUID-B94D13DB-F31F-3DA1-82DD-4B13E8B53310"><!-- --></a>
<a name="GUID-4C38E1D8-EC81-36A3-BAA2-4D4FFECFD995"><!-- --></a><h3 class="sectiontitle">Config ( TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Config</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aConfig</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads the current configuration of the serial port.</p>
<p class="p">It isn't essential to read an existing configuration in order to set a new one. However, calling this function is a useful way of initializing a TCommConfig structure and thus avoiding the overhead of having to explicitly set every member. If a port were being shared between difference processes, it would also be good manners to save an existing configuration before using the port in order than it might be restored when you have finished with it.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aConfig</td><td>On return, a TCommConfig package buffer holding the configuration settings  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F6BDB4F3-7CCB-3490-A55B-A9CFC9202B92"><a name="GUID-F6BDB4F3-7CCB-3490-A55B-A9CFC9202B92"><!-- --></a>
<a name="GUID-8EDC6CD1-39C0-38D8-8305-648B1D491B22"><!-- --></a><h3 class="sectiontitle">DebugState ( TCommDebugInfo &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DebugState</td><td>(</td><td>TCommDebugInfo &amp;</td><td><span class="parameter"></span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Debug state information. Only implemented for DEBUG builds. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7E88FD6A-F58C-3513-9D2F-3D718200944A"><a name="GUID-7E88FD6A-F58C-3513-9D2F-3D718200944A"><!-- --></a>
<a name="GUID-0CC4FABC-5D6C-3BF5-9DDB-19B882A44CD0"><!-- --></a><h3 class="sectiontitle">GetFlowControlStatus ( TFlowControl &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetFlowControlStatus</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-7282263E-55AB-348F-B651-B3F1A447C43D.html">TFlowControl</a> &amp;</td><td><span class="parameter">aFlowControl</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the current status of flow control between the port and the third party (external PC or internal signalling stack).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFlowControl</td><td>On return, flow control status  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AA7B5918-1A77-3851-95F9-A9A1B0A14C8D"><a name="GUID-AA7B5918-1A77-3851-95F9-A9A1B0A14C8D"><!-- --></a>
<a name="GUID-6451963A-24FB-3B74-B1CF-BC8AF760A1EF"><!-- --></a><h3 class="sectiontitle">GetRole ( TCommRole &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetRole</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a> &amp;</td><td><span class="parameter">aRole</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets current DCE/DTE role.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRole</td><td>On return, current DCE/DTE role  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CB89076D-F077-3353-B757-FECB3E96DD41"><a name="GUID-CB89076D-F077-3353-B757-FECB3E96DD41"><!-- --></a>
<a name="GUID-EC3FBC03-96E2-385B-BF70-9C9AD58D8274"><!-- --></a><h3 class="sectiontitle">Mode ( TCommServerConfig &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Mode</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TCommServerConfig</a> &amp;</td><td><span class="parameter">aConfig</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets server buffering mode.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aConfig</td><td>A packaged TCommServerConfigV01 structure which will hold the required information on return.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-619C33BE-B8AE-3499-9AB3-A52E6F649786"><a name="GUID-619C33BE-B8AE-3499-9AB3-A52E6F649786"><!-- --></a>
<a name="GUID-3E770940-7472-3F9C-A9B2-C0BE2AD5794E"><!-- --></a><h3 class="sectiontitle">NotifyBreak ( TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyBreak</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when a break occurs: the remote end has held the communication line high for a certain number of bits to indicate a break condition.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>On return, system wide error code for asynchronous function.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FE108D5D-B377-3331-B47C-43F1CEF532EF"><a name="GUID-FE108D5D-B377-3331-B47C-43F1CEF532EF"><!-- --></a>
<h3 class="sectiontitle">NotifyBreakCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifyBreakCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-619C33BE-B8AE-3499-9AB3-A52E6F649786">NotifyBreak()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FBD8299D-C9A2-3452-9BF8-F8DD1EC46D8D"><a name="GUID-FBD8299D-C9A2-3452-9BF8-F8DD1EC46D8D"><!-- --></a>
<a name="GUID-28AD58D5-6ECB-3ABE-AFC4-DE15BC87FE1A"><!-- --></a><h3 class="sectiontitle">NotifyConfigChange ( TRequestStatus &amp;, TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyConfigChange</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aNewConfig</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when the port configuration (data rate, character width, stop bits, handshaking, or parity) of the remote end changes.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>On return, system wide error code for asynchronous function.  </td></tr><tr class="bg"><td class="parameter">aNewConfig</td><td>On completion, a packaged TCommNotificationV01.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6F3048A2-AF17-30A1-8EA6-797F83A481B3"><a name="GUID-6F3048A2-AF17-30A1-8EA6-797F83A481B3"><!-- --></a>
<h3 class="sectiontitle">NotifyConfigChangeCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifyConfigChangeCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FBD8299D-C9A2-3452-9BF8-F8DD1EC46D8D">NotifyConfigChange()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-41E99A09-B4D8-3776-B28B-354549A1F470"><a name="GUID-41E99A09-B4D8-3776-B28B-354549A1F470"><!-- --></a>
<a name="GUID-3F08398A-9280-3C71-9A9E-C71BFFB68372"><!-- --></a><h3 class="sectiontitle">NotifyDataAvailable ( TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyDataAvailable</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when data is available to be read from the input buffer.</p>
<p class="p">This API allows the client to delay creation of the buffer receiving the data until the data has arrived. This allows the client to query the size of the data waiting before creating the buffer, and simplifies the client's buffer management since it is only needed during the subsequent <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> calls.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> or <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> or readOneOrMore(), while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>On return, a system wide error code.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F9916B19-110D-3DC3-9220-E22AE358E615"><a name="GUID-F9916B19-110D-3DC3-9220-E22AE358E615"><!-- --></a>
<h3 class="sectiontitle">NotifyDataAvailableCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifyDataAvailableCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AB754E8C-4C8B-3183-9A72-687E3052CB7A"><a name="GUID-AB754E8C-4C8B-3183-9A72-687E3052CB7A"><!-- --></a>
<a name="GUID-6F8E90EF-2E0D-3410-B33D-C938BCC092BC"><!-- --></a><h3 class="sectiontitle">NotifyFlowControlChange ( TRequestStatus &amp;, TFlowControl &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyFlowControlChange</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-7282263E-55AB-348F-B651-B3F1A447C43D.html">TFlowControl</a> &amp;</td><td><span class="parameter">aFlowControl</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when the flow control between the CSY and the external device changes.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>On return, system wide error code for asynchronous function.  </td></tr><tr class="bg"><td class="parameter">aFlowControl</td><td>On completion, new flow control status.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-900AB05A-EE5C-365F-87A3-FC60F48CA67B"><a name="GUID-900AB05A-EE5C-365F-87A3-FC60F48CA67B"><!-- --></a>
<h3 class="sectiontitle">NotifyFlowControlChangeCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifyFlowControlChangeCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-AB754E8C-4C8B-3183-9A72-687E3052CB7A">NotifyFlowControlChange()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1AF92BB8-0586-3394-91AA-15A17F7B1739"><a name="GUID-1AF92BB8-0586-3394-91AA-15A17F7B1739"><!-- --></a>
<a name="GUID-2A9081EE-0EA1-31D4-A25A-698E2E594E5A"><!-- --></a><h3 class="sectiontitle">NotifyOutputEmpty ( TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifyOutputEmpty</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when the transmit buffer is emptied.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>On return, system wide error code for asynchronous function.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-92A782EA-168D-3C88-A896-FBC489A59F83"><a name="GUID-92A782EA-168D-3C88-A896-FBC489A59F83"><!-- --></a>
<h3 class="sectiontitle">NotifyOutputEmptyCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifyOutputEmptyCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-1AF92BB8-0586-3394-91AA-15A17F7B1739">NotifyOutputEmpty()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6895C222-0951-38D1-A91A-2A4C25879FFE"><a name="GUID-6895C222-0951-38D1-A91A-2A4C25879FFE"><!-- --></a>
<a name="GUID-A3CA9AA9-A84F-33C3-BCB0-E184BC182F56"><!-- --></a><h3 class="sectiontitle">NotifySignalChange ( TRequestStatus &amp;, TUint &amp;, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>NotifySignalChange</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a> &amp;</td><td><span class="parameter">aSignals</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aSignalMask</span> = 0x3F</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Notifies the client when one of the signals change.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>Asynchronous completion status  </td></tr><tr class="bg"><td class="parameter">aSignals</td><td>On return, the new set of signals. The bottom five bits contain a mask of the signals that are set (using the Signal line constants). The top four bits store which signal has changed (using the Signal line changed constants).  </td></tr><tr><td class="parameter">aSignalMask</td><td>Bitmaks of the signals to monitor. The default is all signals. See also KSignalDTEOutputs and KSignalDTEInputs.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AC0292EC-0BD8-31A5-852F-351D1A960A02"><a name="GUID-AC0292EC-0BD8-31A5-852F-351D1A960A02"><!-- --></a>
<h3 class="sectiontitle">NotifySignalChangeCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>NotifySignalChangeCancel</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-6895C222-0951-38D1-A91A-2A4C25879FFE">NotifySignalChange()</a> request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-54E99C6B-1F9D-3715-AAE5-E6FACD5C88B2"><a name="GUID-54E99C6B-1F9D-3715-AAE5-E6FACD5C88B2"><!-- --></a>
<a name="GUID-F2CBC6B8-0BE8-3361-8BDA-774BFB245BE6"><!-- --></a><h3 class="sectiontitle">Open ( RCommServ &amp;, const TDesC &amp;, TCommAccess )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;</td><td><span class="parameter">aServer</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a></td><td><span class="parameter">aMode</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a serial port, for one of the three modes indicated by the TCommAccess argument.</p>
<p class="p">The TCommAccess argument may dictate exclusive use of the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF">RComm</a>, shared use (thereby giving permission for the port to be shared by other <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF">RComm</a> objects) or pre-emptable use (allowing another client to pre-empt this session with an open request in one of the other two modes). The request will fail if the port does not exist, or if it has been opened in exclusive mode elsewhere. If the port has been opened in shared mode elsewhere, the request will fail if a subsequent attempt is made to open it in exclusive mode. A client opening a port in pre-emptive mode must be prepared to have its outstanding requests errored with KErrCancel if another client opens the port in either ECommShared or ECommExclusive mode. In this case the port handle will effectively be transferred from the pre-emptable client to the new client.</p>
<p class="p">The first variant (this) will open the port in DTE role, that is, the lines are configured as for a port of a computer. For instance, the signal lines DTR and RTS are outputs while the other signals (DCD,CTS,DSR,RING) are inputs.</p>
<p class="p">The second variant allows the port to be opened in either DTE role or DCE role. This latter role means that the lines are configured as for a port of a modem. DTR and RTS are inputs while the other signals are outputs.</p>
<p class="p">The request to open in either role will fail with KErrLocked if the port has already been opened in the opposite role elsewhere.</p>
<div class="p">
<pre class="pre codeblock">Signal constant    DTE role     DCE role
----------------------------------------
KSignalCTS         input        output
KSignalDSR         input        output
KSignalDCD         input        output
KSignalRNG         input        output
KSignalRTS         output       input
KSignalDTR         output       input</pre>
</div>
<p class="p">Note:</p>
<p class="p">1. On some earlier versions of C32 the port number was limited to one digit, i.e. from 0 to 9. This restriction is now removed, and the number of ports is now only limited by the CSY and/or the Device Drivers up to a maximum of KMaxTUint ports.</p>
<p class="p">2. This API checks that the client has the correct capabilities to open the port, while the <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306">RCommServ</a> APIs do not. So a CSY that allowed the client to interrogate it via <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-82FD3C87-070A-37DD-BD34-3A88287AAFF4">RCommServ::GetPortInfo()</a> and load it via <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-008B035B-B12E-3B28-9341-FD47A605E85B">RCommServ::LoadCommModule()</a> may still reject the same client's call to this API.</p>
<p class="p">3. There are a number of distinct steps that must be performed before being able to issue an <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-54E99C6B-1F9D-3715-AAE5-E6FACD5C88B2">Open()</a> request for a serial port. For convenience these are listed here:</p>
<p class="p">a. Load the physical device driver, which interacts directly with the hardware at the lowest level (usually via <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-9BA5B176-F5F2-3CA4-8EE1-0A079BBB5122">User::LoadPhysicalDevice()</a>).</p>
<p class="p">b. Load the logical device driver, which provides the comms server with a consistent interface to the hardware (usually via <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-5F468789-891C-3B87-96F9-D33A8EB22D1C">User::LoadLogicalDevice()</a>).</p>
<p class="p">c. Connect to the C32 Serial Server using <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306">RCommServ</a></p>
<p class="p">d. Load a specific Comms Module (.CSY) by filename via <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-008B035B-B12E-3B28-9341-FD47A605E85B">RCommServ::LoadCommModule</a>.</p>
<p class="p">In some environments the physical and logical device drivers are loaded as part of device boot.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aServer</td><td>The comms server session.  </td></tr><tr class="bg"><td class="parameter">aName</td><td>The name of the port (e.g. "COMM::0")  </td></tr><tr><td class="parameter">aMode</td><td>The mode in which the port is opened. There is no default.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code: KErrNone if successful; KErrPermissionDenied if the port given in aName is wrong or if the request fails the CSY's own security check; KErrNotSupported if this port is not supported by the CSY or the hardware; KErrLocked if the port has already been opened; KErrAccessDenied if the device driver encounteres a problem opening the hardware port.</dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">Dependent</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-510E2857-4673-391D-9E0A-04F4D24825EF"><a name="GUID-510E2857-4673-391D-9E0A-04F4D24825EF"><!-- --></a>
<h3 class="sectiontitle">Open ( RCommServ &amp;, const TDesC &amp;, TCommAccess, TCommRole )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;</td><td><span class="parameter">aServer</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a></td><td><span class="parameter">aMode</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a></td><td><span class="parameter">aRole</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a serial port, as described for the other <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-54E99C6B-1F9D-3715-AAE5-E6FACD5C88B2">Open()</a> variant.</p>
<p class="p">This variant allows the port to be opened in either DTE role or DCE role. DCE role means that the lines are configured as for a port of a modem. DTR and RTS are inputs while the other signals are outputs.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aServer</td><td>The comms server session  </td></tr><tr class="bg"><td class="parameter">aName</td><td>The name of the port  </td></tr><tr><td class="parameter">aMode</td><td>The mode in which the port is opened. There is no default.  </td></tr><tr class="bg"><td class="parameter">aRole</td><td>DTE/DCE role  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code: KErrNone if successful; KErrPermissionDenied if the port given in aName is wrong; KErrNotSupported if this port is not supported by the CSY or the hardware; KErrLocked if the port has already been opened in the opposite role elsewhere. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">Dependent</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-202C13FA-B620-31FD-8C72-28795C10D48C"><a name="GUID-202C13FA-B620-31FD-8C72-28795C10D48C"><!-- --></a>
<a name="GUID-36A5411B-77E4-3671-BEDF-CE79239B771E"><!-- --></a><h3 class="sectiontitle">OpenWhenAvailable ( TRequestStatus &amp;, RCommServ &amp;, const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenWhenAvailable</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;</td><td><span class="parameter">aServer</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a serial port when it is freed by another client.</p>
<p class="p">When a client has a port open in either exclusive or shared mode, another client may use this function to gain access to the port when the owning client closes its handle. Upon closure, the asynchronous <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-202C13FA-B620-31FD-8C72-28795C10D48C">OpenWhenAvailable()</a> function will complete. The port role, DTE or DCE, will not be changed by this request and so the role will be inherited from the previous session. Furthermore, the port will automatically opened in ECommPreemptable mode. This can be subsequently upgraded to ECommShared or ECommExclusive mode using the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-714BD9C9-62FD-35EC-A92A-F1A08820E00C">SetAccessMode()</a> function.</p>
<p class="p">If client submits an <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-202C13FA-B620-31FD-8C72-28795C10D48C">OpenWhenAvailable()</a> request and then attempts to execute an action, for example a read or write request, before the OpenWhenAvailable has completed, the action will fail with the KErrNotReady error code.</p>
<p class="p">The server can only support one OpenWhenAvailable request per port. For example, if client A has a port open in exclusive mode and client B has an OpenWhenAvailable request pending, then client C's OpenWhenAvailable request will fail with the KErrAccessDenied error code.</p>
<p class="p">The server is designed to support the OpenWhenAvailable request dispatched from a different <a class="xref" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html#GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306">RCommServ</a> session than the one actively using the port. This is not viewed as a major disadvantage since, in practice, the two clients will normally be running in different threads, and quite probably different processes.</p>
<p class="p">If the port is available immediately, it will be opened with DTE role.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function.  </td></tr><tr class="bg"><td class="parameter">aServer</td><td>The comms server session.  </td></tr><tr><td class="parameter">aName</td><td>The name of the port.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System wide error code: see return values of RComm::Open(). </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">Dependent</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C1AA7AEA-C0F5-370C-B13D-697692D09A06"><a name="GUID-C1AA7AEA-C0F5-370C-B13D-697692D09A06"><!-- --></a>
<h3 class="sectiontitle">OpenWhenAvailable ( TRequestStatus &amp;, RCommServ &amp;, const TDesC &amp;, TCommRole )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenWhenAvailable</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-6B3CA99B-ABF2-32EA-935D-23AE5AE2C306.html">RCommServ</a> &amp;</td><td><span class="parameter">aServer</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommRole</a></td><td><span class="parameter">aRole</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens a serial port when freed.</p>
<p class="p">Same as the other <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-202C13FA-B620-31FD-8C72-28795C10D48C">OpenWhenAvailable()</a> but here you can specify the preferred role in case the port is free when you want to open it. If the port is already opened by another client, you will get the same role when it becomes available.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function.  </td></tr><tr class="bg"><td class="parameter">aServer</td><td>The comms server session.  </td></tr><tr><td class="parameter">aName</td><td>The name of the port.  </td></tr><tr class="bg"><td class="parameter">aRole</td><td>Preferred role (DTE or DCE).  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>TInt A system wide error code: see return values of RComm::Open(). </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">Dependent</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-17B873BF-6A2D-366F-AAE7-66E49CC5DA1A"><a name="GUID-17B873BF-6A2D-366F-AAE7-66E49CC5DA1A"><!-- --></a>
<h3 class="sectiontitle">OpenWhenAvailableCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenWhenAvailableCancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Cancels an <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-202C13FA-B620-31FD-8C72-28795C10D48C">OpenWhenAvailable()</a> pending request. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-082F5520-9C07-3471-8640-98E6D8D6C8AC"><a name="GUID-082F5520-9C07-3471-8640-98E6D8D6C8AC"><!-- --></a>
<h3 class="sectiontitle">QueryReceiveBuffer (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>QueryReceiveBuffer</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the number of bytes currently waiting in the driver's input buffer. A return value of zero means the buffer is empty.</p>
<p class="p">It is not possible to find out exactly how many bytes are currently in the driver's output buffer waiting to be transmitted. However, this is not an issue since it is easy to ensure that the output buffer is empty. If the KConfigWriteBufferedComplete bit (set via the TCommConfigV01 structure's iHandshake field) is clear, then all write requests will delay completion until the data has completely cleared the driver's output buffer. If the KConfigWriteBufferedComplete bit is set, a write of zero bytes to a port which has data in the output buffer is guaranteed to delay completion until the buffer has been fully drained.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of bytes currently waiting to be read from the receive buffer. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9"><a name="GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9"><!-- --></a>
<a name="GUID-B0B6BC5D-4BCD-3A74-9E1C-17BA58BB7B33"><!-- --></a><h3 class="sectiontitle">Read ( TRequestStatus &amp;, TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Read</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads data from a serial port.</p>
<p class="p">All reads from the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The length of the <a class="xref" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html#GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507">TDes8</a> is set to zero on entry, which means that buffers can be reused without having to be zeroed first.</p>
<p class="p">The number of bytes to read is set to the maximum length of the descriptor.</p>
<p class="p">If a read is issued with a data length of zero the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> completes immediately with the side effect that the serial hardware is powered up.</p>
<p class="p">If a read terminates with KErrTimedOut and the descriptor is not empty, it will contain valid data. Its length should therefore be tested.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a>, while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aDes</td><td>A buffer to store the incoming data. The maximum length of the descriptor is the number of bytes to be read.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-204BFBBC-CE69-376E-9770-131082D3E61F"><a name="GUID-204BFBBC-CE69-376E-9770-131082D3E61F"><!-- --></a>
<h3 class="sectiontitle">Read ( TRequestStatus &amp;, TDes8 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Read</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLength</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads a specified number of bytes from a serial port.</p>
<p class="p">Overloaded version of <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> with explicit length.</p>
<p class="p">All reads from the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The length of the <a class="xref" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html#GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507">TDes8</a> is set to zero on entry, which means that buffers can be reused without having to be zeroed first.</p>
<p class="p">The number of bytes to read is set to aLength.</p>
<p class="p">If a read is issued with a data length of zero (aLength=0) the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> completes immediately with the side effect that the serial hardware is powered up.</p>
<p class="p">If a read terminates with KErrTimedOut and the descriptor is not empty, it will contain valid data. Its length should therefore be tested.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a>, while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aDes</td><td>A buffer to store the incoming data.  </td></tr><tr><td class="parameter">aLength</td><td>An explicit length of data to be read. This length must be between 0 and the MaxLength of the descriptor both included.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-85DB3F3A-9C1E-334C-B55F-9E589177147B"><a name="GUID-85DB3F3A-9C1E-334C-B55F-9E589177147B"><!-- --></a>
<h3 class="sectiontitle">Read ( TRequestStatus &amp;, TTimeIntervalMicroSeconds32, TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Read</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTimeOut</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads data from a serial port only if it arrives before a specified time-out.</p>
<p class="p">Overloaded version of <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> with timeout.</p>
<p class="p">All reads from the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The length of the <a class="xref" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html#GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507">TDes8</a> is set to zero on entry, which means that buffers can be reused without having to be zeroed first.</p>
<p class="p">The number of bytes to read is set to the maximum length of the descriptor.</p>
<p class="p">If a read is issued with a data length of zero the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> completes immediately but with the side effect that the serial hardware is powered up.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> terminates with KErrTimedOut, different protocol modules can show different behaviours. Some may write any data received into the aDes buffer, while others may return just an empty descriptor. In the case of a returned empty descriptor use <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore()</a> to read any data left in the buffer.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a>, while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aTimeOut</td><td>The time-out value for reads in microseconds. If data fails to arrive before the specified number of microseconds, a KErrTimedOut status is returned.  </td></tr><tr><td class="parameter">aDes</td><td>A buffer to store the incoming data. The maximum length of the descriptor is the default for the number of bytes to be read.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DA1C7FC2-D6ED-3AE3-8679-4F32CF939C65"><a name="GUID-DA1C7FC2-D6ED-3AE3-8679-4F32CF939C65"><!-- --></a>
<h3 class="sectiontitle">Read ( TRequestStatus &amp;, TTimeIntervalMicroSeconds32, TDes8 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Read</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTimeOut</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLength</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Read data from a serial port (before the time-out).</p>
<p class="p">Reads a specified number of bytes from a serial port only if they arrive before a specified time-out. Overloaded version of <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> with timeout and explicit length.</p>
<p class="p">All reads from the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The length of the <a class="xref" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html#GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507">TDes8</a> is set to zero on entry, which means that buffers can be reused without having to be zeroed first.</p>
<p class="p">The number of bytes to read is set to aLength.</p>
<p class="p">If a read is issued with a data length of zero the <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> completes immediately but with the side effect that the serial hardware is powered up.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> terminates with KErrTimedOut, different protocol modules can show different behaviours. Some may write any data received into the aDes buffer, while others may return just an empty descriptor. In the case of a returned empty descriptor use <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore()</a> to read any data left in the buffer.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a>, while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aTimeOut</td><td>The time-out value for reads in microseconds. If data fails to arrive before the specified number of microseconds, a KErrTimedOut status is returned.  </td></tr><tr><td class="parameter">aDes</td><td>A buffer to store the incoming data.  </td></tr><tr class="bg"><td class="parameter">aLength</td><td>An explicit length of data to be read This length must be between 0 and the MaxLength of the descriptor both included. </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F8AAD977-2939-353F-B4E5-B8EB4DDEB5F2"><a name="GUID-F8AAD977-2939-353F-B4E5-B8EB4DDEB5F2"><!-- --></a>
<h3 class="sectiontitle">ReadCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ReadCancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancels any pending <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a> or <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore()</a> operations.</p>
<div class="p">The cancelled request will still terminate with its <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> set to any value other than KErrPending. While this is most likely to be KErrCancel, it is nevertheless possible for the cancellation to have been issued after the asynchronous request had already terminated for some other reason. </div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320"><a name="GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320"><!-- --></a>
<a name="GUID-D26D6D62-72F0-313C-B3D5-2CE28FDE9BED"><!-- --></a><h3 class="sectiontitle">ReadOneOrMore ( TRequestStatus &amp;, TDes8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ReadOneOrMore</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aDes</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Read any bytes in the buffer or wait until one arrives.</p>
<p class="p">Reads data from a serial port, but with slightly different behaviour to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A9D9C80A-51DE-30B9-9BCC-A8CED2BC6FF9">Read()</a>. If there is data in the serial driver's buffer when <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-FE682C3E-89BB-33FF-91DA-C6A3310CF320">ReadOneOrMore()</a> is called, it will read as much data as possible (up to the maximum length of the supplied buffer) and return immediately. If there is no data in the buffer, the request will complete as soon as one or more bytes arrive at the serial hardware.</p>
<p class="p">The behaviour of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a> is not prescribed and so different CSY's behave differently. IrComm will allow a successful completion of this API after a call to <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-41E99A09-B4D8-3776-B28B-354549A1F470">NotifyDataAvailable()</a>, while ECUART and ECACM will complete the request with KErrInUse.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code  </td></tr><tr class="bg"><td class="parameter">aDes</td><td>A buffer to store the incoming data. The maximum length of the descriptor is the default for the number of bytes to be read. When the request completes this will hold data read from the input buffer.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9D1039ED-47A4-3993-99C2-7F08ABDE8652"><a name="GUID-9D1039ED-47A4-3993-99C2-7F08ABDE8652"><!-- --></a>
<h3 class="sectiontitle">ReceiveBufferLength (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ReceiveBufferLength</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the size of the serial port buffers.</p>
<p class="p">Despite its name, this function returns the size of both the receive and transmit buffers, which are (obviously) always the same size.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current size of both the receive and transmit buffers in bytes. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D3E69EA3-88C6-375E-B063-261DA6366A65"><a name="GUID-D3E69EA3-88C6-375E-B063-261DA6366A65"><!-- --></a>
<a name="GUID-7F863B9A-E8DE-3DB1-98C3-8E9EC87E338F"><!-- --></a><h3 class="sectiontitle">ResetBuffers ( TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ResetBuffers</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFlags</span> = (<a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">KCommResetRx</a>|<a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">KCommResetTx</a>)</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Resets the transmit and receive serial port buffers independently.</p>
<p class="p">aFlags is a bitmask, so setting KCommResetRx|KCommResetTx (the default) resets both buffers and all data in them is lost. This is the default value, so this is what happens if the function is called without a parameter.</p>
<p class="p">This function should not be called when there are pending reads or writes.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFlags</td><td>KCommResetRx to reset the receive buffer KCommResetTx to reset the transmit buffer  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-714BD9C9-62FD-35EC-A92A-F1A08820E00C"><a name="GUID-714BD9C9-62FD-35EC-A92A-F1A08820E00C"><!-- --></a>
<a name="GUID-9B9FCA39-F679-3F14-928E-7DFF5BD6063A"><!-- --></a><h3 class="sectiontitle">SetAccessMode ( TCommAccess )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetAccessMode</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-38E08EAF-9508-3E02-B363-140B0C861C70.html">TCommAccess</a></td><td><span class="parameter">aNewMode</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Upgrades the mode of a port handle from pre-emptive mode to shared or exclusive mode.</p>
<p class="p">Notes:</p>
<p class="p">If a client attempts to change the mode of a port that is already in either shared or exclusive modes, the request will fail with the KErrNotSupported error code.</p>
<p class="p">Clients should not attempt to change the access mode to pre-emptive, the behaviour in this case is unpredictable.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNewMode</td><td>The value of the new port mode, either ECommShared or ECommExclusive.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code. </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-00622755-F606-39AC-97EF-1096EC30A5CA"><a name="GUID-00622755-F606-39AC-97EF-1096EC30A5CA"><!-- --></a>
<a name="GUID-732174E9-930F-37D4-AD7C-1434E5731C50"><!-- --></a><h3 class="sectiontitle">SetConfig ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetConfig</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aConfig</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the configuration of the serial port.</p>
<p class="p">It is not possible to reconfigure the capabilities of ports while they are being used. In particular, if any client attempts to reconfigure a port when there are pending reads or writes a KErrInUse error code will be returned.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aConfig</td><td>New configuration settings packaged in a TCommConfig  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code: KErrInUse if there is a pending read or write on the port, otherwise system-wide error codes </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-42C5A59B-96F3-3AA6-87C1-E680B9891C1C"><a name="GUID-42C5A59B-96F3-3AA6-87C1-E680B9891C1C"><!-- --></a>
<a name="GUID-9B536901-9F5E-36E4-A896-6828339E092E"><!-- --></a><h3 class="sectiontitle">SetMode ( const TCommServerConfig &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetMode</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TCommServerConfig</a> &amp;</td><td><span class="parameter">aConfig</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the server buffering mode.</p>
<p class="p">This function can be used to set either buffering mode, and if partial buffering is being used, it can also set the size of the buffer that the server will use. These items are packaged up into the TCommServerConfig descriptor.</p>
<p class="p">The default of full buffering is nearly always going to be the quicker option, as only a single client-server data transfer is ever needed. The mode should not be changed by an application without a very good reason (such as memory constraints) otherwise performance is liable to suffer.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aConfig</td><td>A packaged TCommServerConfigV01 structure to be set.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>System-wide error code </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-89FB3A75-A50C-3784-B818-8259F3D6040F"><a name="GUID-89FB3A75-A50C-3784-B818-8259F3D6040F"><!-- --></a>
<a name="GUID-A82AF127-0CCC-364B-9331-E0E40874FA4B"><!-- --></a><h3 class="sectiontitle">SetReceiveBufferLength ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetReceiveBufferLength</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLength</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the size of the serial port receive and transmit buffers.</p>
<p class="p">Notes:</p>
<p class="p">There is no error code returned by this function. If the buffer is set to too large a figure, the request is simply ignored. If you are in any doubt about the success of a SetReceiveBufferLength request, you should examine the returned value from ReceiveBufferLength.</p>
<p class="p">It isn't always essential to set a buffer size as there is a generous default of 1024.</p>
<p class="p">Changing the size of the receive buffer is the only way to tailor the operation of flow control in Symbian OS as the exact position of the high water mark is not configurable.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aLength</td><td>The required size of the receive and transmit buffers in bytes.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3120C7BC-D19E-34DC-8D9D-126258592042"><a name="GUID-3120C7BC-D19E-34DC-8D9D-126258592042"><!-- --></a>
<a name="GUID-29E8C7B9-29FD-3F5B-AAEE-33E64E2D6E24"><!-- --></a><h3 class="sectiontitle">SetSignals ( TUint, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetSignals</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aSetMask</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aClearMask</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets or clears RS232 output lines (DTR and RTS).</p>
<p class="p">For many applications, these lines will be read and set under driver control as determined by the handshaking options selected.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSetMask</td><td>Set the handshaking lines in the mask.  </td></tr><tr class="bg"><td class="parameter">aClearMask</td><td>Clear the handshaking lines in the mask.    </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-43571A3F-0079-3826-858C-4FCD1F52BF96"><a name="GUID-43571A3F-0079-3826-858C-4FCD1F52BF96"><!-- --></a>
<a name="GUID-830559B3-FD88-3585-8D56-4C4FF9D59B71"><!-- --></a><h3 class="sectiontitle">SetSignalsToMark ( TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetSignalsToMark</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aSignalMask</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the specified RS232 output lines.</p>
<p class="p">Using this function, either of the RS232 output lines (DTR and RTS) can be set manually.</p>
<p class="p">For many applications, these lines will be read and set under driver control as determined by the handshaking options selected.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSignalMask</td><td>Bitmask of handshaking lines  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-641696E6-619D-39B2-B2DB-93BCFFAC8759"><a name="GUID-641696E6-619D-39B2-B2DB-93BCFFAC8759"><!-- --></a>
<a name="GUID-0D1FC9A4-FF95-3C97-B753-AFAB6BD66281"><!-- --></a><h3 class="sectiontitle">SetSignalsToSpace ( TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetSignalsToSpace</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aSignalMask</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Clears RS232 output lines.</p>
<p class="p">Using this function, either of the RS232 output lines (DTR and RTS) can be cleared manually.</p>
<p class="p">For many applications, these lines will be read and set under driver control as determined by the handshaking options selected.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSignalMask</td><td>Bitmask of handshaking lines  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-142C6424-2A38-3419-8035-9716BEAC14FE"><a name="GUID-142C6424-2A38-3419-8035-9716BEAC14FE"><!-- --></a>
<a name="GUID-B2A751BB-6784-31B8-8808-F5BFC087427B"><!-- --></a><h3 class="sectiontitle">Signals ( TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td>Signals</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aSignalMask</span> = 0x3F</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads the serial port control lines.</p>
<p class="p">Reads the status of the RS232 input and output lines (RTS, CTS, DSR, DCD, DTR). They are bit-masked into a single integer and one or all of them can be read at any time.</p>
<p class="p">Not all of the input lines are guaranteed to be available on all serial devices.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSignalMask</td><td>Bitmask of lines to read. It defaults to all lines (0x3f as only the top six bits of this integer are valid). A different value can be specified as aSignalMask if specific information is required: for instance, Signals(KSignalDSR) could be used to find out if a modem were connected to the serial port.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An integer with the bits set to reflect the status of the handshaking lines </dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A85BE985-89CA-3E87-B287-36365569B4A8"><a name="GUID-A85BE985-89CA-3E87-B287-36365569B4A8"><!-- --></a>
<a name="GUID-27B1F841-8478-33E0-A168-11DC468183C0"><!-- --></a><h3 class="sectiontitle">Write ( TRequestStatus &amp;, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Write</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aDes</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes data to a serial port.</p>
<p class="p">All writes to the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The number of bytes to write is set to the maximum length of the descriptor.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write()</a> is issued with a data length of zero it cannot complete until the current handshaking configuration and the state of input control lines indicate that it is possible for data to be immediately written to the serial line, even though no data is to be written. This functionality is useful when determining when serial devices come on line, and checking that the output buffer is empty (if the KConfigWriteBufferedComplete bit is set).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aDes</td><td>A descriptor containing the data to be written to the serial port.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AAE3E0C6-AC0B-31B9-B375-A2492C9F05B1"><a name="GUID-AAE3E0C6-AC0B-31B9-B375-A2492C9F05B1"><!-- --></a>
<h3 class="sectiontitle">Write ( TRequestStatus &amp;, const TDesC8 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Write</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLength</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes a specified number of bytes to a serial port.</p>
<p class="p">All writes to the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The number of bytes to write is set to aLength.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write()</a> is issued with a data length of zero it cannot complete until the current handshaking configuration and the state of input control lines indicate that it is possible for data to be immediately written to the serial line, even though no data is to be written. This functionality is useful when determining when serial devices come on line, and checking that the output buffer is empty (if the KConfigWriteBufferedComplete bit is set).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aDes</td><td>A descriptor containing the data to be written to the serial port.  </td></tr><tr><td class="parameter">aLength</td><td>The number of bytes to write. This length must be between 0 and the length of the descriptor both included.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2A751014-5C32-3135-ACAD-C2EE9E5FDDB8"><a name="GUID-2A751014-5C32-3135-ACAD-C2EE9E5FDDB8"><!-- --></a>
<h3 class="sectiontitle">Write ( TRequestStatus &amp;, TTimeIntervalMicroSeconds32, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Write</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTimeOut</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aDes</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes data to a serial port within a specified time-out.</p>
<p class="p">All writes to the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The number of bytes to write is set to the maximum length of the descriptor.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write()</a> is issued with a data length of zero it cannot complete until the current handshaking configuration and the state of input control lines indicate that it is possible for data to be immediately written to the serial line, even though no data is to be written. This functionality is useful when determining when serial devices come on line, and checking that the output buffer is empty (if the KConfigWriteBufferedComplete bit is set).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code.  </td></tr><tr class="bg"><td class="parameter">aTimeOut</td><td>The write will terminate after aTimeout microseconds if the data requested has not been sent. A KErrTimedOut status is returned.  </td></tr><tr><td class="parameter">aDes</td><td>A descriptor containing the data to be written to the serial port.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D247D14C-EBDB-3274-A1CE-FD53D9252D21"><a name="GUID-D247D14C-EBDB-3274-A1CE-FD53D9252D21"><!-- --></a>
<h3 class="sectiontitle">Write ( TRequestStatus &amp;, TTimeIntervalMicroSeconds32, const TDesC8 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Write</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aStatus</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTimeOut</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aDes</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aLength</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes a specified number of bytes to a serial port within a specified time-out.</p>
<p class="p">All writes to the serial device use 8-bit descriptors as data buffers, even on a Unicode system.</p>
<p class="p">The number of bytes to write is set to aLength.</p>
<p class="p">When a <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write()</a> is issued with a data length of zero it cannot complete until the current handshaking configuration and the state of input control lines indicate that it is possible for data to be immediately written to the serial line. This functionality is useful when determining when serial devices come on line, and checking that the output buffer is empty (if the KConfigWriteBufferedComplete bit is set).</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStatus</td><td>The request status used to contain completion information for the function. On completion, contains a system-wide error code  </td></tr><tr class="bg"><td class="parameter">aTimeOut</td><td>The write will terminate after aTimeout microseconds if the data requested has not been sent. A KErrTimedOut status is returned.  </td></tr><tr><td class="parameter">aDes</td><td>A descriptor containing the data to be written to the serial port.  </td></tr><tr class="bg"><td class="parameter">aLength</td><td>The number of bytes to write. This length must be between 0 and the maximum length of the descriptor both included.  </td></tr></table></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E41AEC28-8B0F-3BAD-AFCA-F381ABE7911F"><a name="GUID-E41AEC28-8B0F-3BAD-AFCA-F381ABE7911F"><!-- --></a>
<h3 class="sectiontitle">WriteCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>WriteCancel</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancels any pending <a class="xref" href="GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html#GUID-A85BE985-89CA-3E87-B287-36365569B4A8">Write()</a> operations.</p>
<p class="p">The cancelled request will still terminate with its <a class="xref" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646">TRequestStatus</a> set, to any value other than KErrPending. While this is most likely to be KErrCancel, it is nevertheless possible for the cancellation to have been issued after the asynchronous request had already terminated for some other reason.</p>
<div class="p">
</div>
</div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">None</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B4E8ED5-72F7-3E51-B188-3C1045526DDF.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:40 GMT -->
</html>