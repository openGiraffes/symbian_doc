<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CMsvStore" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE" />
<title>CMsvStore</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE"><a name="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CMsvStore Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/msvstore.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: msgs_autoshutdown.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CMsvStore : public CBase, public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMsvStore<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-4368A557-23BD-316C-B986-AC19C35D6862">~CMsvStore</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html">MMsvAttachmentManagerSync</a> &amp;</td><td><a href="#GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA">AttachmentManagerExtensionsL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html">MMsvAttachmentManager</a> &amp;</td><td><a href="#GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825">AttachmentManagerL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63">Commit</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5">CommitL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7643FB62-178E-3A6B-952E-072DF2AAD4DE">CreateShareProtectedAttachmentL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, RFile &amp;, <a class="xref xref apiRelation" href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B">DeleteBodyTextL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A2C33150-75A5-3C17-832F-9710913028DF">DeleteL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D">HasBodyTextL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td><a href="#GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73">InitialisePlainBodyTextForReadL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td><a href="#GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F">InitialisePlainBodyTextForWriteL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-995E1AB7-A882-303D-BC72-95E499198221">IsNullL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-37C73EAA-04A2-340E-9CBA-19065D173072">IsPresentL</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3A6E8911-6100-31DD-9C1C-66754B71264B">Remove</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4">RemoveL</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-9358B3E5-35E9-3B33-9CE8-4943E1968306">Restore8BitBodyTextL</a>(RFileReadStream &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1E36D936-2139-33B2-9C6C-18C5A85D3CC8">RestoreBodyTextL</a>(CRichText &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B9272080-1F0A-359D-880F-53DCF0D10B68">RestoreBodyTextL</a>(CRichText &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-208A9B5B-50EF-3A99-8775-49456A394569">Revert</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB">RevertL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F">SizeL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4B95FB9F-B2E9-3E89-A429-8D2578D75D5B">StoreBodyTextL</a>(const CRichText &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-DD127108-47E0-3BEA-9C3E-CF939EBE4742">CMsvStore</a>(<a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, RFs &amp;, TMsvId, MMsvStoreManager &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td><a href="#GUID-E6FD4744-C2C6-36D5-A86D-8FFE13E38DC7">OpenForReadL</a>(<a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td><a href="#GUID-8ECCDBFA-86C2-3D21-B161-71CFA3B81F9D">OpenForWriteL</a>(<a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Provides an interface over the message store that is associated with a message entry. It is similar to the dictionary store in supporting the concept of streams referenced by UID.</p>
<p class="p">This class is intended for use by MTM implementations. Message client applications access the store through the higher-level functions provided by Client-side and <a class="xref" href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Interface MTMs.</p>
<p class="p">A <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object is created by a <a class="xref" href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html#GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49">CMsvEntry</a> object and passed to a client process. The client process then becomes responsible for deleting the <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object. The store can be opened in two modes, read or edit, and only one <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> object can have edit access to a store.</p>
<p class="p">
<a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a> provides functions for general manipulation of the store, and for accessing the standard body text stream. <a class="xref" href="GUID-5595F2F5-A0B6-3795-8220-7455AC1C792F.html#GUID-5595F2F5-A0B6-3795-8220-7455AC1C792F">RMsvReadStream</a> and <a class="xref" href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> must be used to access other streams.   </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DD127108-47E0-3BEA-9C3E-CF939EBE4742"><a name="GUID-DD127108-47E0-3BEA-9C3E-CF939EBE4742"><!-- --></a>
<a name="GUID-9CA2A850-772E-34E3-B382-8B43A1273444"><!-- --></a><h3 class="sectiontitle">CMsvStore ( MMsvStoreObserver &amp;, RFs &amp;, TMsvId, MMsvStoreManager &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CMsvStore</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td><span class="parameter">aObserver</span>,</td></tr><tr><td colspan="3"> </td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aId</span>,</td></tr><tr><td colspan="3"> </td><td>MMsvStoreManager &amp;</td><td><span class="parameter">aStoreManager</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4368A557-23BD-316C-B986-AC19C35D6862"><a name="GUID-4368A557-23BD-316C-B986-AC19C35D6862"><!-- --></a>
<h3 class="sectiontitle">~CMsvStore (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CMsvStore</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor.</p>
<p class="p">If the message store is currently locked, the destructor releases it before deleting the object. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA"><a name="GUID-D0744068-57DB-38AA-9AFF-B553C0F436FA"><!-- --></a>
<h3 class="sectiontitle">AttachmentManagerExtensionsL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-A2D83799-A0A7-312B-86E0-ABDBE3613A25.html">MMsvAttachmentManagerSync</a> &amp;</td><td>AttachmentManagerExtensionsL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825"><a name="GUID-73CE27F3-855B-3F87-AE11-4B4F2B8F8825"><!-- --></a>
<h3 class="sectiontitle">AttachmentManagerL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html">MMsvAttachmentManager</a> &amp;</td><td>AttachmentManagerL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns an interface for the Attachment Manager.</p>
<p class="p">This methods returns an interface that can be used to provided attachment management functionality for each message entry.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html#GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD">MMsvAttachmentManager</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A reference to the Attachment Manager interface </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63"><a name="GUID-0B893DB9-0D96-39A6-989E-EB58293EAD63"><!-- --></a>
<h3 class="sectiontitle">Commit (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Commit</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Commits changes to the message store, returning any error code.</p>
<p class="p">Committing changes makes these changes permanent, and means that the store cannot be rolled back to a state before the changes were begun.</p>
<p class="p">You should use this function before deleting a <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a>, if you have made changes to it through <a class="xref" href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> . Note that <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-4B95FB9F-B2E9-3E89-A429-8D2578D75D5B">StoreBodyTextL()</a> performs a commit itself, so an additional commit is not required after its use.</p>
<p class="p">The functions is identical to the following one, except that it returns an error code if an error occurs.</p>
<p class="p">Write access is needed.</p>
<p class="p">
</p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Changes committed successfully Store open for read only Unable to commit changes </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5"><a name="GUID-F1D4FE2A-8BB9-3CC2-9C30-DC053848A6B5"><!-- --></a>
<h3 class="sectiontitle">CommitL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CommitL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Commits changes to the message store, leaving if an error occurs.</p>
<p class="p">Committing changes makes these changes permanent, and means that the store cannot be rolled back to a state before the changes were begun.</p>
<p class="p">You should use this function before deleting a <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE">CMsvStore</a>, if you have made changes to it through <a class="xref" href="GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D.html#GUID-B30AC7CB-9512-37B6-9E43-D8DD4895E14D">RMsvWriteStream</a> . Note that <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-4B95FB9F-B2E9-3E89-A429-8D2578D75D5B">StoreBodyTextL()</a> performs a commit itself, so an additional commit is not required after its use.</p>
<p class="p">The functions is identical to the previous one, except that it leaves with the error code if an error occurs.</p>
<p class="p">Write access is needed.</p>
<div class="p">
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">Store open for read only</td></tr><tr><td class="leavecode">Standard</td><td class="leavevalue">streaming error codes Unable to commit changes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7643FB62-178E-3A6B-952E-072DF2AAD4DE"><a name="GUID-7643FB62-178E-3A6B-952E-072DF2AAD4DE"><!-- --></a>
<a name="GUID-6C40F9E2-F917-300A-89D4-633A9F424F38"><!-- --></a><h3 class="sectiontitle">CreateShareProtectedAttachmentL ( const TDesC &amp;, RFile &amp;, CMsvAttachment * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CreateShareProtectedAttachmentL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aFileName</span>,</td></tr><tr><td colspan="3"> </td><td>RFile &amp;</td><td><span class="parameter">aAttachmentFile</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td><span class="parameter">aAttachmentInfo</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B"><a name="GUID-4BBD989F-3977-3E5D-B4EB-EF64A5C0D44B"><!-- --></a>
<h3 class="sectiontitle">DeleteBodyTextL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DeleteBodyTextL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes the stream that contains the body text. Write access is needed for this function.</p>
<div class="p">
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">Store is not open for writing</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming leave codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A2C33150-75A5-3C17-832F-9710913028DF"><a name="GUID-A2C33150-75A5-3C17-832F-9710913028DF"><!-- --></a>
<h3 class="sectiontitle">DeleteL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DeleteL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes the message store. After a delete, the behaviour of the object is undefined: it can only be deleted.</p>
<p class="p">Write access is needed for this function.</p>
<div class="p">
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">The store is read only</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard file store error codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D"><a name="GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D"><!-- --></a>
<h3 class="sectiontitle">HasBodyTextL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>HasBodyTextL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Checks if the store has a body text stream; IsPresentL(KMsvEntryRichTextBody) will always return EFalse when the store_8bit_flag in imcm.rss is enabled. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue if the store has a body text stream, else EFalse </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73"><a name="GUID-6A75DDEA-189C-3957-A110-6D4E585FFA73"><!-- --></a>
<a name="GUID-E07EE775-D4D0-37B7-8693-4EF4291BC648"><!-- --></a><h3 class="sectiontitle">InitialisePlainBodyTextForReadL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td>InitialisePlainBodyTextForReadL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aChunkLength</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Intialise and return the <a class="xref" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html#GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F">CMsvPlainBodyText</a> object that can be used for reading plain body text. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aChunkLength</td><td>The length of the chunk that will be processed while reading.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>CMsvPlainBodyText. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">If Store is opened in Write mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F"><a name="GUID-B5E7A218-7A46-3607-A6B3-D80E505DA02F"><!-- --></a>
<a name="GUID-AA0548C4-F7D9-306F-B2FE-0248747AC35A"><!-- --></a><h3 class="sectiontitle">InitialisePlainBodyTextForWriteL ( TBool, TUint, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html">CMsvPlainBodyText</a> *</td><td>InitialisePlainBodyTextForWriteL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aIs8Bit</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharsetId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aDefaultCharsetId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Intialise and return the <a class="xref" href="GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F.html#GUID-6A4CAFB0-262A-3721-B91B-07F2C3B64B5F">CMsvPlainBodyText</a> object that can be used for reading/writing plain body text. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aIs8Bit</td><td>TBool indicating whether to store bdy text as 8/16 bit.  </td></tr><tr class="bg"><td class="parameter">aCharsetId</td><td>The charset of the body part.  </td></tr><tr><td class="parameter">aDefaultCharsetId</td><td>The default charset of the system.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>CMsvPlainBodyText. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">If Store is opened in Read mode.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-995E1AB7-A882-303D-BC72-95E499198221"><a name="GUID-995E1AB7-A882-303D-BC72-95E499198221"><!-- --></a>
<h3 class="sectiontitle">IsNullL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsNullL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests whether the message store contains any streams. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue if the store has no streams, else EFalse </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-37C73EAA-04A2-340E-9CBA-19065D173072"><a name="GUID-37C73EAA-04A2-340E-9CBA-19065D173072"><!-- --></a>
<a name="GUID-3FCCBFE4-7633-3FF4-8CBB-3C3228117338"><!-- --></a><h3 class="sectiontitle">IsPresentL ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsPresentL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aUid</span></td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Tests whether the message store contains a stream identifier. Do not use to check if there is a body text part stored with the email; use <a class="xref" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html#GUID-0693CAB8-A33A-32A5-B957-0234CB7A581D">CMsvStore::HasBodyTextL()</a> instead. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUid</td><td>Identifier of stream  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue if the store has a stream aUid, else EFalse </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E6FD4744-C2C6-36D5-A86D-8FFE13E38DC7"><a name="GUID-E6FD4744-C2C6-36D5-A86D-8FFE13E38DC7"><!-- --></a>
<a name="GUID-9F27AFDC-3B1A-3D24-AD16-8FB5D426431F"><!-- --></a><h3 class="sectiontitle">OpenForReadL ( MMsvStoreObserver &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td>OpenForReadL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td><span class="parameter">aObserver</span>,</td></tr><tr><td colspan="3"> </td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>MMsvStoreManager &amp;</td><td><span class="parameter">aStoreManager</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8ECCDBFA-86C2-3D21-B161-71CFA3B81F9D"><a name="GUID-8ECCDBFA-86C2-3D21-B161-71CFA3B81F9D"><!-- --></a>
<a name="GUID-C3F18F67-B14C-3E62-A563-1C1CB28284A3"><!-- --></a><h3 class="sectiontitle">OpenForWriteL ( MMsvStoreObserver &amp;, RFs &amp;, MMsvStoreManager &amp;, TMsvId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> *</td><td>OpenForWriteL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-25796B25-C523-344A-A809-012D7E552BC8.html">MMsvStoreObserver</a> &amp;</td><td><span class="parameter">aObserver</span>,</td></tr><tr><td colspan="3"> </td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>MMsvStoreManager &amp;</td><td><span class="parameter">aStoreManager</span>,</td></tr><tr><td colspan="3"> </td><td>TMsvId</td><td><span class="parameter">aId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3A6E8911-6100-31DD-9C1C-66754B71264B"><a name="GUID-3A6E8911-6100-31DD-9C1C-66754B71264B"><!-- --></a>
<a name="GUID-0FC35D92-1F94-37B2-BE71-B98246DCC9E1"><!-- --></a><h3 class="sectiontitle">Remove ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Remove</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aUid</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes the identified stream from the store. The function returns, whether or not it completes successfully.</p>
<p class="p">Write access is needed for this function.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUid</td><td>The UID of the stream to delete  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4"><a name="GUID-DF99AA0F-82D4-377F-A50F-9F6E9168FFE4"><!-- --></a>
<a name="GUID-BDF4CC9A-105A-3742-B41A-0884DB02ED9F"><!-- --></a><h3 class="sectiontitle">RemoveL ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RemoveL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aUid</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Deletes the identified stream from the store. It leaves if it cannot complete successfully.</p>
<p class="p">Write access is needed for this function.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUid</td><td>The UID of the stream to delete  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">The store is read only</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming error codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9358B3E5-35E9-3B33-9CE8-4943E1968306"><a name="GUID-9358B3E5-35E9-3B33-9CE8-4943E1968306"><!-- --></a>
<a name="GUID-27F923CA-4FA7-3814-B4D6-CF9F4A46C33F"><!-- --></a><h3 class="sectiontitle">Restore8BitBodyTextL ( RFileReadStream &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Restore8BitBodyTextL</td><td>(</td><td>RFileReadStream &amp;</td><td><span class="parameter">aInputStream</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Restores 8 bit body text from the Message Store </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInputStream</td><td>on completion the RFileReadStream contains the message body text stream.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1E36D936-2139-33B2-9C6C-18C5A85D3CC8"><a name="GUID-1E36D936-2139-33B2-9C6C-18C5A85D3CC8"><!-- --></a>
<a name="GUID-8825B8E5-0285-3F0B-965D-D67F0F767D1B"><!-- --></a><h3 class="sectiontitle">RestoreBodyTextL ( CRichText &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RestoreBodyTextL</td><td>(</td><td>CRichText &amp;</td><td><span class="parameter">aRichTextBody</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Restores body text into the given rich text object - doesnt matter if store is locked or not will leave if the file store doesn't exist, the body text does not exist, and also propagate store leaves Reads the body text stream from the message store into the given rich text object. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRichTextBody</td><td>On return, the message store's body text is inserted into this object. Any previously existing contents is lost.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotFound</td><td class="leavevalue">There is no body text stream in the store</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming leave codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B9272080-1F0A-359D-880F-53DCF0D10B68"><a name="GUID-B9272080-1F0A-359D-880F-53DCF0D10B68"><!-- --></a>
<h3 class="sectiontitle">RestoreBodyTextL ( CRichText &amp;, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RestoreBodyTextL</td><td>(</td><td>CRichText &amp;</td><td><span class="parameter">aRichTextBody</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aCharsetOverride</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Restores body text into the given rich text object - doesnt matter if store is locked or not. Reads the body text stream from the message store into the given rich text object. </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRichTextBody</td><td>On return, the message store's body text is inserted into this object. Any previously existing contents is lost.  </td></tr><tr class="bg"><td class="parameter">aCharsetOverride</td><td>The charset with which to override the existing charset when data is stored a 8 bit format.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotFound</td><td class="leavevalue">There is no body text stream in the store</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming leave codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-208A9B5B-50EF-3A99-8775-49456A394569"><a name="GUID-208A9B5B-50EF-3A99-8775-49456A394569"><!-- --></a>
<h3 class="sectiontitle">Revert (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Revert</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reverts the store to the previous commit level. This removes all changes that have been made to the store since the last commit.</p>
<p class="p">The function cannot leave: it returns, whether or not it completes successfully.</p>
<p class="p">Write access is needed for this function. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB"><a name="GUID-4EFB7F6E-E0F8-3BF2-9357-B485B21B35BB"><!-- --></a>
<h3 class="sectiontitle">RevertL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RevertL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reverts the store to the previous commit level. This removes all changes that have been made to the store since the last commit.</p>
<p class="p">The function leaves if it cannot complete successfully.</p>
<p class="p">Write access is needed for this function.</p>
<div class="p">
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">The store is read only</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming error codes</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F"><a name="GUID-EB2F949A-56CA-3465-87CA-1222AE5B604F"><!-- --></a>
<h3 class="sectiontitle">SizeL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SizeL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the size of the message store.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Size of the message store in bytes </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4B95FB9F-B2E9-3E89-A429-8D2578D75D5B"><a name="GUID-4B95FB9F-B2E9-3E89-A429-8D2578D75D5B"><!-- --></a>
<a name="GUID-833B5BF5-9E21-3D6F-9893-C9D3C7C292AF"><!-- --></a><h3 class="sectiontitle">StoreBodyTextL ( const CRichText &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StoreBodyTextL</td><td>(</td><td>const CRichText &amp;</td><td><span class="parameter">aRichTextBody</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Stores the body text stream of the message store. Any existing data is overwritten. Write access is needed for this function. A commit must be done following this function for the new data to be retained.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aRichTextBody</td><td>The body data to be externalised  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrAccessDenied</td><td class="leavevalue">Store is not open for writing</td></tr><tr><td class="leavecode">Other</td><td class="leavevalue">Standard streaming leave codes</td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:43 GMT -->
</html>