<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:15 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CMdaAudioOutputStream" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D" />
<title>CMdaAudioOutputStream</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D"><a name="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CMdaAudioOutputStream Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mdaaudiooutputstream.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: mediaclientaudiostream.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CMdaAudioOutputStream : public CBase, public MMMFClientUtility</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMdaAudioOutputStream<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-ED7458AB-FF06-3098-A72E-09A3595D7C7A.html">MMMFClientUtility</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310">~CMdaAudioOutputStream</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A95960AF-93BC-31A9-9D45-4787A6127713">CancelRegisterAudioResourceNotification</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-20122E2A-7857-364A-A537-CC38F19FCCEE">CustomInterface</a>(<a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><a href="#GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF">DataType</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14">GetBalanceL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC">GetBytes</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">KeepOpenAtEnd</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A">MaxVolume</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td><a href="#GUID-6D6F9EC3-032E-3721-B217-42EF3E507CBF">NewL</a>(<a class="xref xref apiRelation" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;, <a class="xref xref apiRelation" href="GUID-30BDDE6F-76F0-3DC8-952F-FD475CFA5253.html">CMdaServer</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td><a href="#GUID-7F4ADAA7-2191-3E34-B1D3-3D8B656975A6">NewL</a>(<a class="xref xref apiRelation" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94">Open</a>(<a class="xref xref apiRelation" href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-7A5CE635-59C2-3161-955B-69B36C778009">Pause</a>()</td></tr><tr><td align="right" class="code">virtual const <a class="xref xref apiRelation" href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td><a href="#GUID-3D170D14-0C78-3721-9798-D36AAA703DCF">Position</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-55689E49-5D24-3750-B953-01D3D598ED86">RegisterAudioResourceNotification</a>(<a class="xref xref apiRelation" href="GUID-D58575E9-346A-356E-A683-73283A6BE465.html">MMMFAudioResourceNotificationCallback</a> &amp;, <a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6C06B180-A03C-3969-A460-E1D2631144EC">Resume</a>()</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608">SetAudioPropertiesL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB">SetBalanceL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26">SetDataTypeL</a>(<a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-510856FD-364A-3ADE-89E0-E5786247F98D">SetPriority</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-4450C9A9-D005-32AB-9491-23139DE38295">SetVolume</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">virtual void</td><td><a href="#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop</a>()</td></tr><tr><td align="right" class="code">virtual 
					<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1">Volume</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8">WillResumePlay</a>()</td></tr><tr><td align="right" class="code">virtual void</td><td><a href="#GUID-51E77A55-8C79-36F6-A7E5-3D7180E8CCA4">WriteL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">The interface to an audio stream player passing raw audio data from specified buffers to the audio hardware.</p>
<p class="p">This class enables MMF clients to:</p>
<p class="p">Stream raw audio data to the audio hardware from specified buffers</p>
<p class="p">Specify the priority of the audio stream in relation to other clients that may request to use the same audio hardware</p>
<p class="p">Set the sample rate and the number of channels after successfully opening the stream. It is not possible to change these values once streaming has started.</p>
<p class="p">Change the volume and balance before or while the stream is open for writing. Volume and balance settings take effect immediately.</p>
<p class="p">The API supports callbacks from the server to notify the client:</p>
<p class="p">MaoscOpenComplete() will be called when the audio streaming object is open and ready to stream data back to the audio hardware as a result of a previous call to <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94">Open()</a>.</p>
<p class="p">MaoscBufferCopied() will be called each time audio data has been successfully copied to the lower layers of the MMF as a result of a previous <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-51E77A55-8C79-36F6-A7E5-3D7180E8CCA4">WriteL()</a>.</p>
<p class="p">MaoscPlayComplete() will be called when the audio data stream has been closed as a result of a previous <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a>. </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310"><a name="GUID-CE1EDB77-92B6-33A9-9DFB-AE6579307310"><!-- --></a>
<h3 class="sectiontitle">~CMdaAudioOutputStream (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>~CMdaAudioOutputStream</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor.</p>
<p class="p">Frees all resources owned by the object prior to its destruction. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A95960AF-93BC-31A9-9D45-4787A6127713"><a name="GUID-A95960AF-93BC-31A9-9D45-4787A6127713"><!-- --></a>
<a name="GUID-B7EC0CFC-55E5-3426-9CA4-EDFFF51BECA5"><!-- --></a><h3 class="sectiontitle">CancelRegisterAudioResourceNotification ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CancelRegisterAudioResourceNotification</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aNotificationEventId</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancels the registered notification event. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNotificationEventId</td><td>The Event to notify the client. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the registration was successful. KErrNone on success, otherwise another of the system-wide error codes. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-20122E2A-7857-364A-A537-CC38F19FCCEE"><a name="GUID-20122E2A-7857-364A-A537-CC38F19FCCEE"><!-- --></a>
<a name="GUID-63496A17-9AC8-3B14-9FBD-2B2C3E255CFA"><!-- --></a><h3 class="sectiontitle">CustomInterface ( TUid )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>CustomInterface</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aInterfaceId</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Retrieves a custom interface to the underlying device.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInterfaceId</td><td>The interface UID, defined with the custom interface. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the interface implementation, or NULL if the device does not implement the interface requested. The return value must be cast to the correct type by the user. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF"><a name="GUID-F8694C74-B9DD-3662-9ACF-3FC9722F6CBF"><!-- --></a>
<h3 class="sectiontitle">DataType (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td>DataType</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the current data type.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The ID of the data type. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14"><a name="GUID-298393C0-DBBD-3DA1-BC31-3ADA8DC20D14"><!-- --></a>
<h3 class="sectiontitle">GetBalanceL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBalanceL</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the current balance as an integer.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current balance value as integer. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC"><a name="GUID-C0DDFD94-96B6-38A4-B1AA-0D7B4FA578BC"><!-- --></a>
<h3 class="sectiontitle">GetBytes (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>GetBytes</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the current number of bytes rendered by audio hardware.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current current number of bytes rendered by audio hardware as an integer. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD"><a name="GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD"><!-- --></a>
<h3 class="sectiontitle">KeepOpenAtEnd (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>KeepOpenAtEnd</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">When this method is called, AudioOutputStream goes into a different mode wherein it does not call MaoscPlayComplete() with KErrUnderflow when all the supplied data has been played. Instead client should signal the end of the play by calling <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop()</a> or <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a> on AudioOutputStream. If the client calls <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">RequestStop()</a>, AudioOutputStream waits until all the queued data has been played out and then calls MaoscPlayComplete(). This behaviour is different from that of <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a>, which stops the play immediately by discarding all the queued data.</p>
<p class="p">Client should call this method on <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D">CMdaAudioOutputStream</a> just after its construction and its effect remains through out its lifetime.</p>
<p class="p">Note: This feature is supported only on a DevSound which ignores the underflow errors in the middle of the play i.e which returns ETrue from QueryIgnoresUnderflow().</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6ABB894D-043E-338B-9033-E77E6A513664">CMdaAudioOutputStream::RequestStop()</a> CMMFDevSound::QueryIgnoresUnderflow() </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone on success, KErrNotSupported if the underlying DevSound does not ignore the underflow errors in the middle of the play</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A"><a name="GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A"><!-- --></a>
<h3 class="sectiontitle">MaxVolume (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>MaxVolume</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the maximum volume level.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The maximum volume level supported by the sound device, as an integer. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6D6F9EC3-032E-3721-B217-42EF3E507CBF"><a name="GUID-6D6F9EC3-032E-3721-B217-42EF3E507CBF"><!-- --></a>
<a name="GUID-B4D44672-C628-304A-B36E-8AF0ACAA8A80"><!-- --></a><h3 class="sectiontitle">NewL ( MMdaAudioOutputStreamCallback &amp;, CMdaServer * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td>NewL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;</td><td><span class="parameter">aCallBack</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-30BDDE6F-76F0-3DC8-952F-FD475CFA5253.html">CMdaServer</a> *</td><td><span class="parameter">aServer</span> = 0</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Allocates and constructs an audio stream player object.</p>
<p class="p">Static NewL</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCallBack</td><td>A callback to notify the client when the sound device is open and ready to receive data, when each descriptor has been copied and when the stream is closed. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter">aServer</td><td>A pointer to a CMdaServer. CMdaServer is deprecated and as such this parameter is only provided for backward compatibility. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to new audio stream player.CMdaAudioOutputStream* </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7F4ADAA7-2191-3E34-B1D3-3D8B656975A6"><a name="GUID-7F4ADAA7-2191-3E34-B1D3-3D8B656975A6"><!-- --></a>
<h3 class="sectiontitle">NewL ( MMdaAudioOutputStreamCallback &amp;, TInt, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html">CMdaAudioOutputStream</a> *</td><td>NewL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html">MMdaAudioOutputStreamCallback</a> &amp;</td><td><span class="parameter">aCallBack</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPref</span> = EMdaPriorityPreferenceTimeAndQuality</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructs and initialises a new instance of an audio streaming object.</p>
<p class="p">The function leaves if the audio streaming object cannot be created.</p>
<p class="p">Note: The Priority Value and Priority Preference are used primarily when deciding what to do when several audio clients attempt to play or record simultaneously. In addition to the Priority Value and Preference, the adaptation may consider other parameters such as the SecureId and Capabilities of the client process. Whatever, the decision as to what to do in such situations is up to the audio adaptation, and may vary between different phones. Portable applications are advised not to assume any specific behaviour.</p>
<p class="p">Static NewL</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCallBack</td><td>A callback to notify the client when the sound device is open and ready to receive data, when each descriptor has been copied and when the stream is closed. The caller must create a callback class which implements this interface.  </td></tr><tr class="bg"><td class="parameter">aPriority</td><td>The Priority Value - this client's relative priority. This is a value between EMdaPriorityMin and EMdaPriorityMax and represents a relative priority. A higher value indicates a more important request.  </td></tr><tr><td class="parameter">aPref</td><td>The Priority Preference - an additional audio policy parameter. The suggested default is EMdaPriorityPreferenceNone. Further values are given by TMdaPriorityPreference, and additional values may be supported by given phones and/or platforms, but should not be depended upon by portable code. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to CMdaAudioOutputStream.CMdaAudioOutputStream* </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94"><a name="GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94"><!-- --></a>
<a name="GUID-AF5E01FC-804E-37BA-AC03-7F8E2D2F8EF6"><!-- --></a><h3 class="sectiontitle">Open ( TMdaPackage * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-06892E22-2EAC-305A-9D3A-F24E7F903427.html">TMdaPackage</a> *</td><td><span class="parameter">aSettings</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens an output audio stream package.</p>
<p class="p">The <a class="xref" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-2FEC8FE3-1682-3826-A173-2C70624B92B1">MMdaAudioOutputStreamCallback::MaoscOpenComplete()</a> callback function is called when the stream has been opened and is ready to receive audio data. If the open was unsuccessful, this is indicated by the aError parameter of the callback.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSettings</td><td>A pointer to a TMdaPackage object.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7A5CE635-59C2-3161-955B-69B36C778009"><a name="GUID-7A5CE635-59C2-3161-955B-69B36C778009"><!-- --></a>
<h3 class="sectiontitle">Pause (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Pause</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Pause data rendering by audio hardware. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the operation was successful. KErrNone on success, KErrNotReady if not streaming KErrNotSupported if trying to pause when resume is not supported by DevSound </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3D170D14-0C78-3721-9798-D36AAA703DCF"><a name="GUID-3D170D14-0C78-3721-9798-D36AAA703DCF"><!-- --></a>
<h3 class="sectiontitle">Position (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a class="xref xref apiRelation" href="GUID-B7D6F874-1ABD-3AC6-9329-19DC54C12F18.html">TTimeIntervalMicroSeconds</a> &amp;</td><td>Position</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the current position within the data stream.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current position within the stream in microseconds. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-55689E49-5D24-3750-B953-01D3D598ED86"><a name="GUID-55689E49-5D24-3750-B953-01D3D598ED86"><!-- --></a>
<a name="GUID-B5220806-AE76-38E9-A170-795DD5334C3D"><!-- --></a><h3 class="sectiontitle">RegisterAudioResourceNotification ( MMMFAudioResourceNotificationCallback &amp;, TUid, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>RegisterAudioResourceNotification</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D58575E9-346A-356E-A683-73283A6BE465.html">MMMFAudioResourceNotificationCallback</a> &amp;</td><td><span class="parameter">aCallback</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><span class="parameter">aNotificationEventUid</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aNotificationRegistrationData</span> = KNullDesC8</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Registers the Event for Notification when resource is avaliable. Registers the Event for Notification when resource is avaliable.</p>
<p class="p">otherwise another of the system-wide error codes. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aCallback</td><td>The audio player observer interface. </td></tr><tr class="bg"><td class="parameter">aNotificationEventUid</td><td>The event uid to notify the client. </td></tr><tr><td class="parameter">aNotificationRegistrationData</td><td>Notification registration specific data. </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the registration was successful. KErrNone on success, otherwise another of the system-wide error codes.An error code indicating if the registration was successful. KErrNone on success,</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6ABB894D-043E-338B-9033-E77E6A513664"><a name="GUID-6ABB894D-043E-338B-9033-E77E6A513664"><!-- --></a>
<h3 class="sectiontitle">RequestStop (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>RequestStop</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">This method signals the end of play when the AudioOutputStream is in KeepOpenAtEnd mode i.e when client makes KeepOpenAtEnd call on it. When RequestStop is called, AudioOutputStream completes playing all the data that is supplied to it and calls MaoscPlayComplete() with KErrUnderflow.</p>
<p class="p">Note: Before calling this method, client must have already called <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">KeepOpenAtEnd()</a> successfully, Otherwise, this method returns KErrNotSupported. It is recommended to use KeepOpenAtEnd and RequestStop calls to get a predictable behaviour during stopping.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-E94C6AD1-5E55-3FE3-8F10-0B6E570564FD">CMdaAudioOutputStream::KeepOpenAtEnd()</a> </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone on success KErrNotSupported when this method is called without calling KeepOpenAtEnd KErrNotReady when this method is called before completing previous RequestStop or AudioOutputStream is already in the stopped state</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6C06B180-A03C-3969-A460-E1D2631144EC"><a name="GUID-6C06B180-A03C-3969-A460-E1D2631144EC"><!-- --></a>
<h3 class="sectiontitle">Resume (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Resume</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Resume data rendering by audio hardware. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the operation was successful. KErrNone on success, KErrNotReady if not paused. KErrNotSupported if trying to resume when resume is not supported by DevSound </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608"><a name="GUID-D7F8BC32-650F-3393-A43B-578FF6EDF608"><!-- --></a>
<a name="GUID-72A029FE-5140-33B6-9BEA-E543A208FB85"><!-- --></a><h3 class="sectiontitle">SetAudioPropertiesL ( TInt, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetAudioPropertiesL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aSampleRate</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aChannels</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the sample rate and number of audio channels.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSampleRate</td><td>The new sample rate. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr><tr class="bg"><td class="parameter">aChannels</td><td>The new number of channels. For possible values, see the TAudioCaps enum in class TMdaAudioDataSettings.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB"><a name="GUID-70564DB3-4E99-3B7C-9578-D7C62A655FAB"><!-- --></a>
<a name="GUID-7906E663-7EA7-34E1-B5BB-ABA9435F0851"><!-- --></a><h3 class="sectiontitle">SetBalanceL ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetBalanceL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aBalance</span> = 
							<a class="xref xref apiRelation" href="GUID-7AC16202-6050-3315-9A07-5D87C286941E.html">KMMFBalanceCenter</a>
</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the audio balance.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aBalance</td><td>A specified balance volume. Default is KMMFBalanceCenter.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26"><a name="GUID-7D863552-A8B3-3840-A64C-3E2C369D6C26"><!-- --></a>
<a name="GUID-13966EFF-0AE1-35E9-BD89-BC794F80426A"><!-- --></a><h3 class="sectiontitle">SetDataTypeL ( TFourCC )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetDataTypeL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-691F7FFC-D026-30D5-B08D-A06915272C92.html">TFourCC</a></td><td><span class="parameter">aAudioType</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the data type. If the data type is not explicitly set it will assumed to be pcm16. If it is set then the hardware must support the data type being set otherwise the function leaves with KErrNotSupported.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aAudioType</td><td>The fourCC code used to specify the data type of the streamed audio </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue">Leaves with this for any unsuported data type.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-510856FD-364A-3ADE-89E0-E5786247F98D"><a name="GUID-510856FD-364A-3ADE-89E0-E5786247F98D"><!-- --></a>
<a name="GUID-AE6C50DB-56CF-367B-8ECD-5B38E1531A19"><!-- --></a><h3 class="sectiontitle">SetPriority ( TInt, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetPriority</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPref</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the audio priority values.</p>
<p class="p">This function cannot be used while the stream object is open. It is intended for use before an <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94">Open()</a> is issued, or between a previous <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6909B499-3E5A-336C-B352-E833888196B9">Stop()</a> and a new <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-FF9FB9F3-29E2-3C6F-A66F-FB2AF04E6D94">Open()</a>.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-6D6F9EC3-032E-3721-B217-42EF3E507CBF">CMdaAudioOutputStream::NewL()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPriority</td><td>The Priority Value.  </td></tr><tr class="bg"><td class="parameter">aPref</td><td>The Priority Preference. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4450C9A9-D005-32AB-9491-23139DE38295"><a name="GUID-4450C9A9-D005-32AB-9491-23139DE38295"><!-- --></a>
<a name="GUID-D5B7D44A-A226-39C4-B464-9B513DB80C0A"><!-- --></a><h3 class="sectiontitle">SetVolume ( const TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>SetVolume</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aNewVolume</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the audio volume.</p>
<p class="p">Set the volume to zero for "sound off" or any other value between 1 and <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-85A822B1-5FF2-35E4-8085-AE8044D2190A">MaxVolume()</a>.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aNewVolume</td><td>A specified audio volume.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6909B499-3E5A-336C-B352-E833888196B9"><a name="GUID-6909B499-3E5A-336C-B352-E833888196B9"><!-- --></a>
<h3 class="sectiontitle">Stop (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>Stop</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Stops writing data to a stream. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1"><a name="GUID-64CB9AF5-02A7-3A16-BAC9-4372D752DFF1"><!-- --></a>
<h3 class="sectiontitle">Volume (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>Volume</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the current volume.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current volume as an integer. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8"><a name="GUID-47317FDC-67CC-36D9-B572-73A4104BFDA8"><!-- --></a>
<h3 class="sectiontitle">WillResumePlay (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>WillResumePlay</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Waits for the client to resume the play even after the default timer expires. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>An error code indicating if the registration was successful. KErrNone on success, otherwise another of the system-wide error codes. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-51E77A55-8C79-36F6-A7E5-3D7180E8CCA4"><a name="GUID-51E77A55-8C79-36F6-A7E5-3D7180E8CCA4"><!-- --></a>
<a name="GUID-A3E7892A-CE9D-3277-9FC8-C95CB9579875"><!-- --></a><h3 class="sectiontitle">WriteL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>WriteL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aData</span></td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes (plays) streaming raw audio data.</p>
<p class="p">This function is asynchronous. When aData has been received, the client is notified by a call to <a class="xref" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-A0F0F34E-1890-3C99-A686-D8B4FEE38F47">MMdaAudioOutputStreamCallback::MaoscBufferCopied()</a>. The client can call <a class="xref" href="GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html#GUID-51E77A55-8C79-36F6-A7E5-3D7180E8CCA4">WriteL()</a> again before this notification takes place because the buffers are maintained in a client-side queue until they have been sent. An active object performs the notification, and copies the next item in the queue to the server. <a class="xref" href="GUID-A35C1D9B-DC43-39FB-9FF1-39CD01D981B8.html#GUID-0D406869-4622-3597-809C-40EEC06BE23C">MMdaAudioOutputStreamCallback::MaoscPlayComplete()</a> is called when all descriptors have been sent.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aData</td><td>A reference to the stream data.  </td></tr></table></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B87C8F92-9737-3636-9800-BA267A1DCA6D.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:23:15 GMT -->
</html>