<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:35 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxFile" />
<meta name="DC.Title" content="dlfcn.html" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC" />
<title>dlfcn.h</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC"><a name="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">dlfcn.h File Reference</h1>
<div class="body refbody apiDetail apiClassifierDetail cxxFileDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-CBC1DD89-4EC5-33B1-8B9B-0469EBD4A1C4"><a name="GUID-CBC1DD89-4EC5-33B1-8B9B-0469EBD4A1C4"><!-- --></a>
<h3 class="sectiontitle">RTLD_LAZY</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Modes and flags for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-02D12D76-78E0-31F6-962F-820B6D707718">dlopen()</a>. Bind function calls lazily.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-2B550492-AD14-347D-8F26-D78942DB3730"><a name="GUID-2B550492-AD14-347D-8F26-D78942DB3730"><!-- --></a>
<h3 class="sectiontitle">RTLD_NOW</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Modes and flags for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-02D12D76-78E0-31F6-962F-820B6D707718">dlopen()</a>. Bind function calls immediately.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-441CCD70-FA92-3C36-8502-EB92F80862EE"><a name="GUID-441CCD70-FA92-3C36-8502-EB92F80862EE"><!-- --></a>
<h3 class="sectiontitle">RTLD_MODEMASK</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-953903AD-BD84-3332-89C5-7DE04F98D699"><a name="GUID-953903AD-BD84-3332-89C5-7DE04F98D699"><!-- --></a>
<h3 class="sectiontitle">RTLD_GLOBAL</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Modes and flags for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-02D12D76-78E0-31F6-962F-820B6D707718">dlopen()</a>. Make symbols globally available.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-EB40E163-00D8-3E1D-9A0C-4492A6909ACD"><a name="GUID-EB40E163-00D8-3E1D-9A0C-4492A6909ACD"><!-- --></a>
<h3 class="sectiontitle">RTLD_LOCAL</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Modes and flags for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-02D12D76-78E0-31F6-962F-820B6D707718">dlopen()</a>. Opposite of RTLD_GLOBAL, and the default.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-391ED68D-C59B-33D2-AFE3-8442FC9299EB"><a name="GUID-391ED68D-C59B-33D2-AFE3-8442FC9299EB"><!-- --></a>
<h3 class="sectiontitle">RTLD_TRACE</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-531FA542-8CDA-3FC9-96A4-4ACE92A1323D"><a name="GUID-531FA542-8CDA-3FC9-96A4-4ACE92A1323D"><!-- --></a>
<h3 class="sectiontitle">RTLD_DI_LINKMAP</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-F26BD40B-8429-3428-B94C-8E3A587F0F4F"><a name="GUID-F26BD40B-8429-3428-B94C-8E3A587F0F4F"><!-- --></a>
<h3 class="sectiontitle">RTLD_DI_SERINFO</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-B7E7204F-C276-32BB-B71C-46C543D4AAC5"><a name="GUID-B7E7204F-C276-32BB-B71C-46C543D4AAC5"><!-- --></a>
<h3 class="sectiontitle">RTLD_DI_SERINFOSIZE</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-D15E64A3-5A67-3C5F-BFFD-7571E0881C7C"><a name="GUID-D15E64A3-5A67-3C5F-BFFD-7571E0881C7C"><!-- --></a>
<h3 class="sectiontitle">RTLD_DI_ORIGIN</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-A5CFC862-63C2-3ABB-B398-3DAA85EB5822"><a name="GUID-A5CFC862-63C2-3ABB-B398-3DAA85EB5822"><!-- --></a>
<h3 class="sectiontitle">RTLD_DI_MAX</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
</div>
</p></div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-3B583B64-E277-32C1-8DF5-C0E12BBA2432"><a name="GUID-3B583B64-E277-32C1-8DF5-C0E12BBA2432"><!-- --></a>
<h3 class="sectiontitle">RTLD_NEXT</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Special handle arguments for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-1314083E-213A-3397-8C43-DC03B69AFBA1">dlsym()</a>/dlinfo(). Search subsequent objects.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-4E32DFF4-3896-3EB9-8892-6F91F22FB351"><a name="GUID-4E32DFF4-3896-3EB9-8892-6F91F22FB351"><!-- --></a>
<h3 class="sectiontitle">RTLD_DEFAULT</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Special handle arguments for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-1314083E-213A-3397-8C43-DC03B69AFBA1">dlsym()</a>/dlinfo(). Use default search algorithm.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxDefine nested1" id="GUID-8435EAD5-1575-37F3-82C9-7BA7AB6EA763"><a name="GUID-8435EAD5-1575-37F3-82C9-7BA7AB6EA763"><!-- --></a>
<h3 class="sectiontitle">RTLD_SELF</h3>
<div class="body refbody apiDetail apiOperationDetail cxxDefineDetail"><p class="shortdesc">
<div class="section section apiDesc section apidesc">
<p class="p">Special handle arguments for <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-1314083E-213A-3397-8C43-DC03B69AFBA1">dlsym()</a>/dlinfo(). Search the caller itself.</p>
</div>
</p></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-02D12D76-78E0-31F6-962F-820B6D707718"><a name="GUID-02D12D76-78E0-31F6-962F-820B6D707718"><!-- --></a>
<a name="GUID-51FB35C0-CFC2-357A-8ACA-FE7480C53AD3"><!-- --></a><h3 class="sectiontitle">dlopen ( const char *, int )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void *</td><td>dlopen</td><td>(</td><td>const char *</td><td><span class="parameter">filename</span>,</td></tr><tr><td colspan="3"> </td><td>int</td><td><span class="parameter">flag</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">
<pre class="pre codeblock"> RTLD_LAZY In the current implementation this flag causes the external function names to be resolved
 prior to returning from dlopen.
 RTLD_NOW In the current implementation this flag causes the external function names to be resolved
 prior to returning from dlopen.</pre>
<pre class="pre codeblock"> RTLD_GLOBAL Symbols exported from this shared library object will not be available
 for the processing of relocation addresses of any other shared library object.
 RTLD_LOCAL Symbols exported from this shared library object will not be available
 for the processing of relocation of addresses in any other shared library object.</pre>
 These functions provide interfaces to the services of the Symbian Loader Server. Operations are provided to load dynamic link libraries (DLLs) into the current process's address space, to obtain the address bindings of symbols exported by the DLLs, and to remove the DLLs from the process's address space when they are no longer required.</div>
<p class="p">The dlopen function loads the DLL specified in the filename argument and returns a descriptor if successful. The descriptor returned can be used for later references to the DLL within the calls to dlsym and dlclose. The user side code should not attempt to modify or interpret the value of the descriptor returned by dlopen.</p>
<p class="p">If the DLL specified by the filename argument is not in the address space prior to the call to dlopen, it is loaded into the address space. When the DLL is first loaded into the address space constructors of the DLL's global objects are invoked. If the DLL specified by the filename argument has already been placed in the process's address space in a previous call to dlopen, invoking dlopen on the same DLL does not add it a second time, instead the reference count of dlopen operations on that DLL is incremented. Invoking dlclose on the DLL handle decrements the reference count associated with the DLL. When this reference count reaches zero, the DLL is unloaded from the process address space. dlopen returns NULL if path argument is NULL.</p>
<p class="p">The mode parameter determines the type of operation performed by dlopen with respect to the symbol address relocations and the visibility of the symbols to other shared libraries loaded by the process. The mode argument has the same effect regardless of its value: It is to resolve all the external function references immediately within dlopen. This is because the external function references are bound immediately by dlopen. For all practical purposes, therefore, the mode parameter's value is assumed to be RTLD_NOW ORed with RTLD_LOCAL. Once a DLL is loaded into the address space, all the symbols exported by it can only be accessed by specifying the handle associated with the DLL. The behaviour is outlined below.</p>
<p class="p">mode must contain one of the following values, possibly ORed with additional flags described below: RTLD_LAZY In the current implementation this flag causes the external function names to be resolved prior to returning from dlopen. RTLD_NOW In the current implementation this flag causes the external function names to be resolved prior to returning from dlopen.</p>
<p class="p">One of the following flags may be ORed into the mode argument: RTLD_GLOBAL Symbols exported from this shared library object will not be available for the processing of relocation addresses of any other shared library object. RTLD_LOCAL Symbols exported from this shared library object will not be available for the processing of relocation of addresses in any other shared library object.</p>
<p class="p">If path argument contains a slash character the entire argument is used as the pathname for the file. C: is considered to be the root and C:\ is prefixed to the path argument to locate the shared library object. If path contains just the name of the shared library to be loaded, the default location is sys\bin. The string in the path argument is limited to a maximum of 256 characters.</p>
<p class="p">dlopen returns the handle for the dynamic library loaded into the address space of the current process.</p>
<p class="p">dlsym function returns the address binding of the symbol associated with the ordinal number. The NULL-terminated character string symbol contains the ordinal number (address lookup is based on ordinal number). The symbols exported by shared DLLs added to the address space by dlopen can be accessed only through calls to dlsym.</p>
<p class="p">Symbol names per se are not searched. Instead dlsym locates the ordinal number corresponding to a symbol name and returns the address of the memory location where the symbol is loaded. Ordinal numbers therefore form the basis of the name lookup. Since all handles have to be identified explicitly (that is, as returned by dlopen ), dlsym returns NULL when presented with special handles such as RTLD_NEXT, RTLD_SELF and RTLD_DEFAULT. The implementation treats a NULL handle passed to dlsym as an error and returns NULL.</p>
<p class="p">The dlsym function returns a null pointer if the symbol (ordinal) cannot be found and sets an error condition which may be queried with dlerror.</p>
<p class="p">The dlerror function returns a null-terminated character string describing the last error that occurred during a call to dlopen, dlsym, or dlclose. If no such error has occurred, dlerror returns a null pointer. At each call to dlerror, the error indication is reset. Thus in the case of two calls to dlerror, where the second call follows the first immediately, the second call will always return a null pointer.</p>
<p class="p">The dlclose function deletes a reference to the DLL referenced by handle. If the reference count drops to 0, the DLL is removed from the address space and handle is rendered invalid. Just before removing the DLL from the current process's address space the destructors of the DLL's global objects are invoked. If dlclose is successful it returns 0. Otherwise it returns -1 and sets an error condition that can be interrogated with dlerror.</p>
<p class="p">Notes:</p>
<p class="p">The ordinal numbers associated with the functions in a DLL are in the DLL's .def file.</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr class="bg"><td class="parameter">flag</td><td>Note: This description also covers the following functions - dlsym() dlerror() dlclose() </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1314083E-213A-3397-8C43-DC03B69AFBA1"><a name="GUID-1314083E-213A-3397-8C43-DC03B69AFBA1"><!-- --></a>
<a name="GUID-6B94A42A-888B-3761-84DA-4FADC6D3B126"><!-- --></a><h3 class="sectiontitle">dlsym ( void *, const char * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void *</td><td>dlsym</td><td>(</td><td>void *</td><td><span class="parameter">handle</span>,</td></tr><tr><td colspan="3"> </td><td>const char *</td><td><span class="parameter">symbol</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr class="bg"><td class="parameter">symbol</td><td>Refer to dlopen() for the documentation </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-141A4FC1-A5B2-3DE5-93CE-E01657FB314C"><a name="GUID-141A4FC1-A5B2-3DE5-93CE-E01657FB314C"><!-- --></a>
<a name="GUID-F5B2CFAB-99F5-3A24-8F6C-ECAA61922FB0"><!-- --></a><h3 class="sectiontitle">dlerror ( void )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C char *</td><td>dlerror</td><td>(</td><td>void</td><td><span class="parameter"></span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Refer to <a class="xref" href="GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html#GUID-02D12D76-78E0-31F6-962F-820B6D707718">dlopen()</a> for the documentation</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-8B7501A2-6EAD-3AF2-9D44-F56204F24B8D"><a name="GUID-8B7501A2-6EAD-3AF2-9D44-F56204F24B8D"><!-- --></a>
<a name="GUID-F74DC7CB-1E3F-368E-99A7-DD4B38FF7EF0"><!-- --></a><h3 class="sectiontitle">dlclose ( void * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C int</td><td>dlclose</td><td>(</td><td>void *</td><td><span class="parameter">handle</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">handle</td><td>Refer to dlopen() for the documentation </td></tr></table></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></div></p></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-20CBBE8E-267E-389E-A6D7-E970C8AE9DFC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:21:35 GMT -->
</html>