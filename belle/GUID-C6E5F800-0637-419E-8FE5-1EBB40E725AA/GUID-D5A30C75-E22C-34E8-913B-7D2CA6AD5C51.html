<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CSession2" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51" />
<title>CSession2</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51"><a name="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CSession2 Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;e32base.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CSession2 : public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CSession2<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC">TPanicNo</a> { <a href="#GUID-3633E250-5338-3CFD-B393-5BCE65A99612">ESesCountResourcesNotImplemented</a>, <a href="#GUID-9050696F-5DC3-3BB4-8CFD-110116607750">ESesFoundResCountHeaven</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">pure virtual </td><td><a href="#GUID-1A91442F-D985-316D-A57A-6510F23B02CA">~CSession2</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">CountResources</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A">ResourceCountMarkEnd</a>(const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">ResourceCountMarkStart</a>()</td></tr><tr><td align="right" class="code">const <a class="xref xref apiRelation" href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">CServer2</a> *</td><td><a href="#GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402">Server</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-ACB9F4CA-1A7D-3D29-9346-687563BD63B5">ServiceError</a>(const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">pure virtual void</td><td><a href="#GUID-9591C024-12A5-379D-9421-E32D16A78886">ServiceL</a>(const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-96FFCD89-C476-3BEC-B66E-FE5CDD8856B1">SetServer</a>(const <a class="xref xref apiRelation" href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">CServer2</a> *)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC">CSession2</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-B1D7CEAC-C1DF-38EC-A8F6-714C7CAD27CB">Disconnect</a>(const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E899E5E6-E5BD-3F13-8382-0B7C475D7D0E">Extension_</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Represents a session (version 2) for a client thread on the server-side.</p>
<p class="p">A session acts as a channel of communication between the client and the server. A client thread can have multiple concurrent sessions with a server.</p>
<div class="p">A session can be:<ul class="ul"><li class="li"><p class="p">restricted to the creating thread</p>
</li>
<li class="li"><p class="p">can be shared with other threads in the same process</p>
</li>
<li class="li"><p class="p">can be shared by all threads in the system.</p>
</li>
</ul>
</div>
<p class="p">A server must define and implement a derived class. In particular, it must provide an implementation for the <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-9591C024-12A5-379D-9421-E32D16A78886">ServiceL()</a> virtual function.</p>
<p class="p">(Note that this class should be used instead of CSession) </p>
</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC"><a name="GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC"><!-- --></a>
<h3 class="sectiontitle">Enum TPanicNo</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-3633E250-5338-3CFD-B393-5BCE65A99612"><span class="enumerator">ESesCountResourcesNotImplemented</span></a></td><td>1</td><td> </td></tr><tr class="bg"><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-9050696F-5DC3-3BB4-8CFD-110116607750"><span class="enumerator">ESesFoundResCountHeaven</span></a></td><td></td><td> </td></tr></table></div>
</div>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC"><a name="GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC"><!-- --></a>
<h3 class="sectiontitle">CSession2 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CSession2</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Default constructor.</p>
<p class="p">This constructor is empty. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1A91442F-D985-316D-A57A-6510F23B02CA"><a name="GUID-1A91442F-D985-316D-A57A-6510F23B02CA"><!-- --></a>
<h3 class="sectiontitle">~CSession2 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CSession2</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor.</p>
<p class="p">It frees resources prior to destruction of the object. Specifically, it removes this session object from the server active objects list of sessions. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138"><a name="GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138"><!-- --></a>
<h3 class="sectiontitle">CountResources (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CountResources</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the number of resources currently in use.</p>
<p class="p">Derived classes must provide a suitable implementation. The meaning of a resource depends on the design intent of the server.</p>
<p class="p">The default implementation panics the calling thread (CSession 1) before returning KErrGeneral.</p>
<p class="p">
</p><p class="p">See also: CSession2::ResourceCountmarkStart() CSession2::ResourceCountmarkEnd() </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The current number of resources in use.</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B1D7CEAC-C1DF-38EC-A8F6-714C7CAD27CB"><a name="GUID-B1D7CEAC-C1DF-38EC-A8F6-714C7CAD27CB"><!-- --></a>
<a name="GUID-97B91274-B65C-3DCE-94B2-65A23CFD4962"><!-- --></a><h3 class="sectiontitle">Disconnect ( const RMessage2 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Disconnect</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;</td><td><span class="parameter">aMessage</span></td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Called by a server when it receives a disconnect message for the session.</p>
<p class="p">This message is sent by the kernel when all client handles to the session have been closed. This method deletes the session object and completes the disconnect message.</p>
<p class="p">A derived session implementation may overide this virtual method if it needs to perform any asynchronous cleanup actions, these actions must end with a call to the base class implementation of this method, which will delete the session object and complete the disconnect message</p>
<div class="p">
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">'this' session object has been deleted. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMessage</td><td>The disconnect message. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E899E5E6-E5BD-3F13-8382-0B7C475D7D0E"><a name="GUID-E899E5E6-E5BD-3F13-8382-0B7C475D7D0E"><!-- --></a>
<a name="GUID-490B3D31-3DD6-35EB-8E98-D7D28162F5E7"><!-- --></a><h3 class="sectiontitle">Extension_ ( TUint, TAny *&amp;, TAny * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Extension_</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aExtensionId</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *&amp;</td><td><span class="parameter">a0</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><span class="parameter">a1</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Extension function </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A"><a name="GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A"><!-- --></a>
<a name="GUID-305A61B2-F514-3C52-9678-81850640801B"><!-- --></a><h3 class="sectiontitle">ResourceCountMarkEnd ( const RMessage2 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ResourceCountMarkEnd</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;</td><td><span class="parameter">aMessage</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Marks the end of resource count checking.</p>
<p class="p">The function takes the current resource count by calling <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">CSession2::CountResources()</a>, and compares it with the resource count value saved when <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">CSession2::ResourceCountMarkStart()</a> was called. If the resource counts differ, then the client thread is panicked (CSession 2)".</p>
<p class="p">The client/server framework does not call this function (nor does it call <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">CSession2::ResourceCountMarkStart()</a>), but the function is available for servers to use, if appropriate.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">CSession2::CountResources()</a> <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">CSession2::ResourceCountMarkStart()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMessage</td><td>Represents the details of the client request that is requesting this resource check. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB"><a name="GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB"><!-- --></a>
<h3 class="sectiontitle">ResourceCountMarkStart (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ResourceCountMarkStart</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Marks the start of resource count checking.</p>
<p class="p">It sets up a starting value for resource count checking.</p>
<p class="p">The function sets up a starting value for resource count checking by using the value returned by a call to <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">CSession2::CountResources()</a>, and is the value that will be used for comparison if <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A">CSession2::ResourceCountMarkEnd()</a> is called at some later time.</p>
<p class="p">The client/server framework does not call this function (nor does it call <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A">CSession2::ResourceCountMarkEnd()</a>), but is available for servers to use, if appropriate.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">CSession2::CountResources()</a> <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-D0591A20-A004-34EB-AEEB-23AB1E8D001A">CSession2::ResourceCountMarkEnd()</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402"><a name="GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402"><!-- --></a>
<h3 class="sectiontitle">Server (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>const <a class="xref xref apiRelation" href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">CServer2</a> *</td><td>Server</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Gets the server active object that handles messages for this session.</p>
<p class="p">This is the instance of the <a class="xref" href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html#GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C">CServer2</a> derived class that created this session object.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The server active object. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-ACB9F4CA-1A7D-3D29-9346-687563BD63B5"><a name="GUID-ACB9F4CA-1A7D-3D29-9346-687563BD63B5"><!-- --></a>
<a name="GUID-DA12BB59-2A36-3902-B074-39DF4BD0EC1D"><!-- --></a><h3 class="sectiontitle">ServiceError ( const RMessage2 &amp;, TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ServiceError</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;</td><td><span class="parameter">aMessage</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aError</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Handles the situation when a call to <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-9591C024-12A5-379D-9421-E32D16A78886">CSession2::ServiceL()</a>, which services a client request, leaves.</p>
<p class="p">Servers are active objects, and the call to <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-9591C024-12A5-379D-9421-E32D16A78886">CSession2::ServiceL()</a> to handle a client request is executed as part of the server's active object RunL() function. If the RunL() leaves, the active object framework calls the active object's RunError() function. The server framework implements this as a call to <a class="xref" href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-ACB9F4CA-1A7D-3D29-9346-687563BD63B5">ServiceError()</a></p>
<p class="p">The default behaviour of this function is to complete the message, using the leave value, if it has not already been completed.</p>
<p class="p">Servers can re-implement this as appropriate.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">CActive::RunL()</a> <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-49FE8001-39DC-389F-851D-44C74BCE55D2">CActive::RunError()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMessage</td><td>The message containing the details of the client request that caused the leave.  </td></tr><tr class="bg"><td class="parameter">aError</td><td>The leave code. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9591C024-12A5-379D-9421-E32D16A78886"><a name="GUID-9591C024-12A5-379D-9421-E32D16A78886"><!-- --></a>
<a name="GUID-B37413F7-D8FD-35AD-A037-99023D7CE986"><!-- --></a><h3 class="sectiontitle">ServiceL ( const RMessage2 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>void</td><td>ServiceL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">RMessage2</a> &amp;</td><td><span class="parameter">aMessage</span></td><td>)</td><td>[pure virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Handles the servicing of a client request that has been passed to the server.</p>
<p class="p">This function must be implemented in a derived class. The details of the request are contained within the message.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMessage</td><td>The message containing the details of the client request.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-96FFCD89-C476-3BEC-B66E-FE5CDD8856B1"><a name="GUID-96FFCD89-C476-3BEC-B66E-FE5CDD8856B1"><!-- --></a>
<a name="GUID-DBB861AD-D6BA-3B03-A3CD-C113B1CCF4F9"><!-- --></a><h3 class="sectiontitle">SetServer ( const CServer2 * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetServer</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">CServer2</a> *</td><td><span class="parameter">aServer</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Designates the (master or slave) server that is to service this session.</p>
<p class="p">This may be called from the NewSessionL() method of the CServer2-derived class or from the CreateL() method of the CSession2-derived class.</p>
<p class="p">It must not be called after CreateL() has finished, as this is the point at which the session binding become irrevocable.</p>
<p class="p">
</p><p class="p">See also: CServer::DoConnect() </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
</html>