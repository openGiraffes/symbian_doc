<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CTimer" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A" />
<title>CTimer</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A"><a name="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CTimer Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;e32base.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CTimer : public CActive</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CTimer<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-B17E2DE3-62ED-3D0D-8C60-436944C961E8">~CTimer</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2760C114-7129-3910-A2B4-C22D0E8D06CC">After</a>(<a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3C495EAF-AE5A-3E6F-92B8-1170C10B9E51">At</a>(const <a class="xref xref apiRelation" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5D5A8E39-A73B-3B56-B191-2EA5795EF891">AtUTC</a>(const <a class="xref xref apiRelation" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F50AD425-8625-3928-A1F0-9A5F2C0E0F2C">HighRes</a>(<a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7D10F8F9-1A27-3B1C-AB25-965D0BD2682A">Inactivity</a>(<a class="xref xref apiRelation" href="GUID-F19F1E17-7362-3C0A-A339-C9E7D3872C5D.html">TTimeIntervalSeconds</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-DCC90630-FE48-3D41-B568-76492949F1F3">Lock</a>(<a class="xref xref apiRelation" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TTimerLockSpec</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-D1C4C16F-53E6-3010-8953-400ED4EE4B1C">CTimer</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B645D5DE-BB0E-3AC4-85A0-B102C0841ABC">ConstructL</a>()</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-464B9DBD-A220-3B5D-95A6-FEADEE509FC4">DoCancel</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassVariableInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::iStatus</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassEnumerationInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive:TPriority</a></td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::CActive(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Cancel()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Deque()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsActive()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsAdded()const</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Priority()const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::RunError(TInt)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::RunL()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetActive()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetPriority(TInt)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::~CActive()</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Base class for a timer active object.</p>
<p class="p">This is an active object that uses the asynchronous services provided by <a class="xref" href="GUID-8A423EA2-4264-30C9-9579-0466994E6E88.html#GUID-8A423EA2-4264-30C9-9579-0466994E6E88">RTimer</a>, to generate events. These events occur either at a specific time specified as a <a class="xref" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html#GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821">TTime</a>, or after an interval specified in microseconds.</p>
<p class="p">The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> virtual member function is called by the active scheduler after this event occurs.</p>
<p class="p">To write a class derived from <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>, first define and implement a constructor through which the priority of the <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a> active object can be specified. Then define and implement a suitable <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function to handle the completion of a timer request. This function is not defined by <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a> itself and must, therefore, be provided by the derived class.</p>
<p class="p">This class is ultimately implemented in terms of the nanokernel tick, and therefore the granularity of the generated events is limited to the period of this timer. This is variant specific, but is usually 1 millisecond.</p>
<p class="p">Note that the <a class="xref" href="GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F.html#GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F">CPeriodic</a> and <a class="xref" href="GUID-12C497F2-DB51-3740-972C-11ACD6501DAB.html#GUID-12C497F2-DB51-3740-972C-11ACD6501DAB">CHeartbeat</a> classes are derived from <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>, and answer most timing needs.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-12C497F2-DB51-3740-972C-11ACD6501DAB.html#GUID-12C497F2-DB51-3740-972C-11ACD6501DAB">CHeartbeat</a> <a class="xref" href="GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F.html#GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F">CPeriodic</a> <a class="xref" href="GUID-12C497F2-DB51-3740-972C-11ACD6501DAB.html#GUID-12C497F2-DB51-3740-972C-11ACD6501DAB">CHeartbeat</a> </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D1C4C16F-53E6-3010-8953-400ED4EE4B1C"><a name="GUID-D1C4C16F-53E6-3010-8953-400ED4EE4B1C"><!-- --></a>
<a name="GUID-74A7561D-157B-31BB-80F7-5FDCFA4A8675"><!-- --></a><h3 class="sectiontitle">CTimer ( TInt )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CTimer</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><span class="parameter">aPriority</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Protected constructor with priority.</p>
<p class="p">Use this constructor to set the priority of the active object.</p>
<p class="p">Classes derived from <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a> must define and provide a constructor through which the priority of the active object can be passed. Such a constructor can call <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>'s constructor in its constructor initialisation list.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aPriority</td><td>The priority of the timer.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B17E2DE3-62ED-3D0D-8C60-436944C961E8"><a name="GUID-B17E2DE3-62ED-3D0D-8C60-436944C961E8"><!-- --></a>
<h3 class="sectiontitle">~CTimer (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CTimer</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destructor.</p>
<p class="p">Frees resources prior to destruction. Specifically, it cancels any outstanding request and closes the <a class="xref" href="GUID-8A423EA2-4264-30C9-9579-0466994E6E88.html#GUID-8A423EA2-4264-30C9-9579-0466994E6E88">RTimer</a> handle. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2760C114-7129-3910-A2B4-C22D0E8D06CC"><a name="GUID-2760C114-7129-3910-A2B4-C22D0E8D06CC"><!-- --></a>
<a name="GUID-F389C301-D56B-3981-9C26-180E02BFF171"><!-- --></a><h3 class="sectiontitle">After ( TTimeIntervalMicroSeconds32 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>After</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">anInterval</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event after an interval.</p>
<p class="p">This timer completes after the specified number of microseconds. The "after timer" counter stops during power-down. Therefore, a 5-second timer will complete late if the machine is turned off 2 seconds after the request is made.</p>
<p class="p">Notes:</p>
<p class="p">1. The <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>'s <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function will be run as soon as possible after the specified interval.</p>
<p class="p">2. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because the <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> of another active object, with the deepest nesting-level active scheduler on the same thread, is running when the event occurs: this cannot be avoided, but can be minimised by making all <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a>s of short duration.</p>
<p class="p">3. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because other, higher-priority, active objects are scheduled instead. This can be avoided by making CTimers very high-priority.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-8A423EA2-4264-30C9-9579-0466994E6E88.html#GUID-8A423EA2-4264-30C9-9579-0466994E6E88">RTimer</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">anInterval</td><td>Interval after which event is to occur, in microseconds. </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">87, if anInterval is negative. This is raised by the underlying</td></tr><tr><td class="paniccode">E32USER-CBase</td><td class="panicvalue">51, if the active object has not been added to an active scheduler.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3C495EAF-AE5A-3E6F-92B8-1170C10B9E51"><a name="GUID-3C495EAF-AE5A-3E6F-92B8-1170C10B9E51"><!-- --></a>
<a name="GUID-D4396A17-89EA-314D-A4CC-3CFB5DE807B6"><!-- --></a><h3 class="sectiontitle">At ( const TTime &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>At</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td><span class="parameter">aTime</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event at a given local time.</p>
<p class="p">This timer completes at the specified time - if the machine is in a turned off state at that time, the machine will be turned on again.</p>
<p class="p">Notes:</p>
<p class="p">1. The <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>' <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function will be run as soon as possible after the specified system time.</p>
<p class="p">2. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because the <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> of another active object, with the deepest nesting-level active scheduler on the same thread, is running when the event occurs: this cannot be avoided, but can be minimised by making all <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a>s of short duration.</p>
<p class="p">3. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because other, higher-priority, active objects are scheduled instead. This can be avoided by making CTimers very high-priority.</p>
<p class="p">4. The <a class="xref" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html#GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821">TTime</a> object should be set to the home time.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html#GUID-6E338A1D-27AE-3F7D-B5B5-A9C4D17CEF75">TTime::HomeTime</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTime</td><td>The local time at which the event is to occur. </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5D5A8E39-A73B-3B56-B191-2EA5795EF891"><a name="GUID-5D5A8E39-A73B-3B56-B191-2EA5795EF891"><!-- --></a>
<a name="GUID-0DB216CD-11B5-3E4E-B6B1-0CE29D43F2E3"><!-- --></a><h3 class="sectiontitle">AtUTC ( const TTime &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AtUTC</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td><span class="parameter">aTimeInUTC</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event at a given UTC time.</p>
<p class="p">This timer completes at the specified time - if the machine is in a turned off state at that time, the machine will be turned on again.</p>
<p class="p">Notes:</p>
<p class="p">1. The <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a>' <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function will be run as soon as possible after the specified system time.</p>
<p class="p">2. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because the <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> of another active object, with the deepest nesting-level active scheduler on the same thread, is running when the event occurs: this cannot be avoided, but can be minimised by making all <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a>s of short duration.</p>
<p class="p">3. The <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> may be delayed because other, higher-priority, active objects are scheduled instead. This can be avoided by making CTimers very high-priority.</p>
<p class="p">4. The <a class="xref" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html#GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821">TTime</a> object should be set to the universal time.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html#GUID-5EDA12B0-5981-39A5-98B3-B1E365EE54B0">TTime::UniversalTime</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B645D5DE-BB0E-3AC4-85A0-B102C0841ABC"><a name="GUID-B645D5DE-BB0E-3AC4-85A0-B102C0841ABC"><!-- --></a>
<h3 class="sectiontitle">ConstructL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructs a new asynchronous timer.</p>
<p class="p">The function must be called before any timer requests (i.e. calls to <a class="xref" href="GUID-8A423EA2-4264-30C9-9579-0466994E6E88.html#GUID-9987B3B4-96AD-394A-8DDE-65A4E394DFBF">RTimer::After()</a> or <a class="xref" href="GUID-8A423EA2-4264-30C9-9579-0466994E6E88.html#GUID-38C24BC7-44C6-3641-A007-314FE896D04F">RTimer::At()</a>) can be made.</p>
<p class="p">Since it is protected, it cannot be called directly by clients of <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A">CTimer</a> derived classes. Typically, a derived class makes a base call to this function in the second phase of two-phase construction; i.e. the derived class defines and implements its own <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-B645D5DE-BB0E-3AC4-85A0-B102C0841ABC">ConstructL()</a> function within which it makes a base call to <a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-B645D5DE-BB0E-3AC4-85A0-B102C0841ABC">CTimer::ConstructL()</a>. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-464B9DBD-A220-3B5D-95A6-FEADEE509FC4"><a name="GUID-464B9DBD-A220-3B5D-95A6-FEADEE509FC4"><!-- --></a>
<h3 class="sectiontitle">DoCancel (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DoCancel</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table></div><div><p>Reimplemented from <a class="xref xref apiRelation apiRelation cxxFunctionReimplemented" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::DoCancel()</a></p></div><div class="section section apiDesc section apidesc">
<p class="p">Implements cancellation of an outstanding request.</p>
<p class="p">This function is called as part of the active object's <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-BB6FD46A-C7FD-35BD-A422-F38E7982E40C">Cancel()</a>.</p>
<p class="p">It must call the appropriate cancel function offered by the active object's asynchronous service provider. The asynchronous service provider's cancel is expected to act immediately.</p>
<p class="p">
<a class="xref" href="GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html#GUID-464B9DBD-A220-3B5D-95A6-FEADEE509FC4">DoCancel()</a> must not wait for event completion; this is handled by <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-BB6FD46A-C7FD-35BD-A422-F38E7982E40C">Cancel()</a>.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-BB6FD46A-C7FD-35BD-A422-F38E7982E40C">CActive::Cancel</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F50AD425-8625-3928-A1F0-9A5F2C0E0F2C"><a name="GUID-F50AD425-8625-3928-A1F0-9A5F2C0E0F2C"><!-- --></a>
<a name="GUID-DC3CCBE3-A65F-386F-9D0F-11C6A2FC350A"><!-- --></a><h3 class="sectiontitle">HighRes ( TTimeIntervalMicroSeconds32 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>HighRes</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aInterval</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event after the specified interval to a resolution of 1ms. The "HighRes timer" counter stops during power-down (the same as "after timer").</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInterval</td><td>The time interval, in microseconds, after which an event is to occur.  </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">USER</td><td class="panicvalue">87, if anInterval is negative. This is raised by the underlying</td></tr><tr><td class="paniccode">KERN-EXEC</td><td class="panicvalue">15, if this function is called while a request for a timer event is still outstanding.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7D10F8F9-1A27-3B1C-AB25-965D0BD2682A"><a name="GUID-7D10F8F9-1A27-3B1C-AB25-965D0BD2682A"><!-- --></a>
<a name="GUID-80C8EF91-8EDB-3022-BD38-593C5A2D48BA"><!-- --></a><h3 class="sectiontitle">Inactivity ( TTimeIntervalSeconds )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Inactivity</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-F19F1E17-7362-3C0A-A339-C9E7D3872C5D.html">TTimeIntervalSeconds</a></td><td><span class="parameter">aSeconds</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event if no activity occurs within the specified interval.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aSeconds</td><td>The time interval.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DCC90630-FE48-3D41-B568-76492949F1F3"><a name="GUID-DCC90630-FE48-3D41-B568-76492949F1F3"><!-- --></a>
<a name="GUID-D62317F2-7EC8-3D9B-94CA-DC9EE807FDF7"><!-- --></a><h3 class="sectiontitle">Lock ( TTimerLockSpec )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Lock</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html">TTimerLockSpec</a></td><td><span class="parameter">aLock</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Requests an event on a specified second fraction.</p>
<p class="p">Note that the <a class="xref" href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">RunL()</a> function is run exactly on the specified second fraction.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aLock</td><td>The fraction of a second at which the timer completes.  </td></tr></table></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5733DF34-5B54-3044-BBED-3BFECB7ACE7A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:40 GMT -->
</html>