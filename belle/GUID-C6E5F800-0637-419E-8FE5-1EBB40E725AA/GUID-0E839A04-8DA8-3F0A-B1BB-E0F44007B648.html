<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:16 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CApaProcess" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648" />
<title>CApaProcess</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648"><a name="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CApaProcess Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;mw/apaproc.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CApaProcess : public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CApaProcess<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-6CB9EC01-164F-3AAF-987D-875E79474464">~CApaProcess</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td><a href="#GUID-41E98874-AAEE-3BCA-96E9-29508ED838E7">AddNewDocumentL</a>(<a class="xref xref apiRelation" href="GUID-370ADEF5-35E5-3178-9C04-EAEB49DC1F34.html">TApaApplicationFactory</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94">DestroyDocument</a>(<a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *)</td></tr><tr class="bg"><td align="right" class="code">
RFs &amp;</td><td><a href="#GUID-4407643D-7E39-3FBF-9324-0A4419114CD5">FsSession</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td><a href="#GUID-7A908FCB-EC7C-333B-B222-B4E4BD61C8A5">MainDocFileName</a>()</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td><a href="#GUID-45483466-AA78-36ED-AC5E-6AFF523E67E0">MainDocument</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html">CApaProcess</a> *</td><td><a href="#GUID-218F3EE9-5DAB-3222-A104-DDD4A7682878">NewL</a>(const RFs &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td><a href="#GUID-BB2A8906-0839-3099-86C6-D3A9F4DF7646">OpenNewDocumentL</a>(CFileStore *&amp;, <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *&amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a></td><td><a href="#GUID-DA27BDB9-92F7-3A77-897F-BD413794E768">ReadAppIdentifierL</a>(const CStreamStore &amp;, const <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *</td><td><a href="#GUID-ED804233-2465-3654-A727-7A4B2C52ED18">ReadRootStreamLC</a>(RFs &amp;, CFileStore *&amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *</td><td><a href="#GUID-47EBDE42-0D5F-3555-B9B5-688DE8E0C91A">ReadRootStreamLC</a>(CFileStore *&amp;, const RFile &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A5E41C4D-C19E-3768-8A1B-F96CFE570F83">ResetL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FBED3EDA-B6A5-3577-B273-29F40BE4972D">SetMainDocFileName</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-02007E25-96A1-384A-9372-800C7EA0938F">SetMainDocFileNameL</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-032389DF-36FF-3E8E-A015-1C3FFAFB2FD4">SetMainDocument</a>(<a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6468966D-E0E8-3764-BBAB-4A635F8FBAEC">WriteAppIdentifierL</a>(CStreamStore &amp;, <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;, const <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-868ECAAD-09D8-35DB-B04C-66E3FB048521">WriteRootStreamL</a>(CPersistentStore &amp;, <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;, const <a class="xref xref apiRelation" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html">CApaApplication</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-43E1AE83-B4B5-3F33-B1EC-F01377CA4BB9">WriteRootStreamL</a>(CPersistentStore &amp;, <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;, const <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-FFA0C13E-5C67-3768-8051-F399F4B77A44">CApaProcess</a>()</td></tr><tr class="bg"><td align="right" class="code"></td><td><a href="#GUID-81F3BF57-FA46-3D83-8335-D53ED64BF210">CApaProcess</a>(const RFs &amp;)</td></tr><tr><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-67174C2B-6FC8-3DED-A888-E68270DC8798">CApaProcess_Reserved1</a>()</td></tr><tr class="bg"><td align="right" class="code">virtual IMPORT_C void</td><td><a href="#GUID-D2BAA462-96FE-3468-84C8-7BF628EED799">CApaProcess_Reserved2</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BE575923-95CD-3254-842C-0E7FE8D7E5C7">ConstructL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-909183B3-9CB2-3BCB-9C17-7EAD4EA2DC9D">ConstructL</a>(<a class="xref xref apiRelation" href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Maintains a list of documents and all of the potentially shared resources used by documents.</p>
<p class="p">This includes the application DLLs. The class also supplies utility functions that provide the basic structure for persisted document files.</p>
<p class="p">The class deals with the loading of application DLLs and manages the creation and destruction of application (<a class="xref" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html#GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7">CApaApplication</a>) objects and document (<a class="xref" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html#GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7">CApaDocument</a>) objects.</p>
<p class="p">The class is derived from by the UI framework and further derivation by the UI application is not necessary unless it needs to add extra utility functions for the use of applications.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html#GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7">CApaApplication</a> <a class="xref" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html#GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7">CApaDocument</a> </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FFA0C13E-5C67-3768-8051-F399F4B77A44"><a name="GUID-FFA0C13E-5C67-3768-8051-F399F4B77A44"><!-- --></a>
<h3 class="sectiontitle">CApaProcess (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CApaProcess</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructor for <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648">CApaProcess</a> </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-81F3BF57-FA46-3D83-8335-D53ED64BF210"><a name="GUID-81F3BF57-FA46-3D83-8335-D53ED64BF210"><!-- --></a>
<h3 class="sectiontitle">CApaProcess ( const RFs &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>CApaProcess</td><td>(</td><td>const RFs &amp;</td><td><span class="parameter">aFs</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Constructs the application process object with the specified file session handle.</p>
<p class="p">Derived classes must define and implement a constructor through which the file session handle can be specified. A typical implementation calls this constructor through a constructor initialization list.</p>
<p class="p">This constructor is used by the UI framework.</p>
<p class="p">
					Deprecated
				</p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>Handle to a file server session  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6CB9EC01-164F-3AAF-987D-875E79474464"><a name="GUID-6CB9EC01-164F-3AAF-987D-875E79474464"><!-- --></a>
<h3 class="sectiontitle">~CApaProcess (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CApaProcess</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Frees resources prior to destruction.</p>
<p class="p">Documents must be saved before the application process is deleted, otherwise data may be lost.</p>
<p class="p">In debug mode, the destructor raises an APPARC 6 panic if documents still exist, and an APPARC 5 panic if applications still exist. </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-41E98874-AAEE-3BCA-96E9-29508ED838E7"><a name="GUID-41E98874-AAEE-3BCA-96E9-29508ED838E7"><!-- --></a>
<a name="GUID-9568BC6E-82E8-379A-866D-E37FD55A99E1"><!-- --></a><h3 class="sectiontitle">AddNewDocumentL ( TApaApplicationFactory )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td>AddNewDocumentL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-370ADEF5-35E5-3178-9C04-EAEB49DC1F34.html">TApaApplicationFactory</a></td><td><span class="parameter">aApplicationFactory</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates and adds a new document using the specified application factory.</p>
<p class="p">The document may be a main document or an embedded document.</p>
<p class="p">Any document created with this function must be destroyed using <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94">DestroyDocument()</a>.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94">CApaProcess::DestroyDocument()</a> <a class="xref" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html#GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7">CApaApplication</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aApplicationFactory</td><td>Should be created implicitly by passing a pointer to a factory function, an ECOM plugin UID, or a CImplementationInformation reference.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the new document. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-67174C2B-6FC8-3DED-A888-E68270DC8798"><a name="GUID-67174C2B-6FC8-3DED-A888-E68270DC8798"><!-- --></a>
<h3 class="sectiontitle">CApaProcess_Reserved1 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CApaProcess_Reserved1</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reserved for future use </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D2BAA462-96FE-3468-84C8-7BF628EED799"><a name="GUID-D2BAA462-96FE-3468-84C8-7BF628EED799"><!-- --></a>
<h3 class="sectiontitle">CApaProcess_Reserved2 (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CApaProcess_Reserved2</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reserved for future use </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BE575923-95CD-3254-842C-0E7FE8D7E5C7"><a name="GUID-BE575923-95CD-3254-842C-0E7FE8D7E5C7"><!-- --></a>
<h3 class="sectiontitle">ConstructL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Completes construction of the application process object.</p>
<p class="p">Implementers of derived classes must call this function as part of the second stage construction of an object. Typically, derived classes implement their own <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-218F3EE9-5DAB-3222-A104-DDD4A7682878">NewL()</a> function and call <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-BE575923-95CD-3254-842C-0E7FE8D7E5C7">ConstructL()</a> as part of that implementation. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-909183B3-9CB2-3BCB-9C17-7EAD4EA2DC9D"><a name="GUID-909183B3-9CB2-3BCB-9C17-7EAD4EA2DC9D"><!-- --></a>
<h3 class="sectiontitle">ConstructL ( TProcessId )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a></td><td><span class="parameter">aParentProcessId</span></td><td>)</td><td>[protected]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Completes construction of the application process object, passing in a Parent Process Identifier.</p>
<p class="p">Implementers of derived classes must call this function as part of the second stage construction of an object. Typically, derived classes implement their own <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-218F3EE9-5DAB-3222-A104-DDD4A7682878">NewL()</a> function and call <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-BE575923-95CD-3254-842C-0E7FE8D7E5C7">ConstructL()</a> as part of that implementation.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aParentProcessId</td><td>Id of the parent process. This process will terminate when the parent does.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94"><a name="GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94"><!-- --></a>
<a name="GUID-CC6E5D01-C026-371A-80B0-3044C7EF28A7"><!-- --></a><h3 class="sectiontitle">DestroyDocument ( CApaDocument * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DestroyDocument</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td><span class="parameter">aDoc</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Destroys the specified document.</p>
<p class="p">All references to the document are removed, and associated resources are freed. Specifically, the function deletes any associated application and unloads the application DLL, provided that no other documents of that application type are still open.</p>
<p class="p">All document objects created through <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648">CApaProcess</a> must be deleted using this function.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html#GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7">CApaApplication</a> <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648">CApaProcess</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDoc</td><td>A pointer to the document to be destroyed.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4407643D-7E39-3FBF-9324-0A4419114CD5"><a name="GUID-4407643D-7E39-3FBF-9324-0A4419114CD5"><!-- --></a>
<h3 class="sectiontitle">FsSession (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
RFs &amp;</td><td>FsSession</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns a handle to the file server session used by this application process. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The file server session. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7A908FCB-EC7C-333B-B222-B4E4BD61C8A5"><a name="GUID-7A908FCB-EC7C-333B-B222-B4E4BD61C8A5"><!-- --></a>
<h3 class="sectiontitle">MainDocFileName (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td>MainDocFileName</td><td>(</td><td>)</td><td>const </td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the filename of the main document.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A non-modifiable pointer descriptor to the main document filename. For non file-based applications, the length of this descriptor is zero. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-45483466-AA78-36ED-AC5E-6AFF523E67E0"><a name="GUID-45483466-AA78-36ED-AC5E-6AFF523E67E0"><!-- --></a>
<h3 class="sectiontitle">MainDocument (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td>MainDocument</td><td>(</td><td>)</td><td>const [inline]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns a pointer to the main document. </p>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the main document. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-218F3EE9-5DAB-3222-A104-DDD4A7682878"><a name="GUID-218F3EE9-5DAB-3222-A104-DDD4A7682878"><!-- --></a>
<a name="GUID-210681EE-9824-3BCE-B584-F2FC0CD5A410"><!-- --></a><h3 class="sectiontitle">NewL ( const RFs &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html">CApaProcess</a> *</td><td>NewL</td><td>(</td><td>const RFs &amp;</td><td><span class="parameter">aFs</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Creates and returns a pointer to a new application process.</p>
<p class="p">This function is not used by UI applications.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to the new application process. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BB2A8906-0839-3099-86C6-D3A9F4DF7646"><a name="GUID-BB2A8906-0839-3099-86C6-D3A9F4DF7646"><!-- --></a>
<a name="GUID-1B03CC90-5584-3762-84D9-6A694F8F3403"><!-- --></a><h3 class="sectiontitle">OpenNewDocumentL ( CFileStore *&amp;, CStreamDictionary *&amp;, const TDesC &amp;, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td>OpenNewDocumentL</td><td>(</td><td>CFileStore *&amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *&amp;</td><td><span class="parameter">aStreamDic</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDocFullFileName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFileMode</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Opens the specified file and restores the content as a document.</p>
<p class="p">The created document can be merged into or embedded in another document.</p>
<p class="p">Any document created with this function must be destroyed using <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94">DestroyDocument()</a>.</p>
<p class="p">
</p><p class="p">See also: TFileMode <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-06B3623F-E546-3FEA-AD29-2B9313F7AE94">CApaProcess::DestroyDocument()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>On return, this contains a pointer to the store object created during the restore.  </td></tr><tr class="bg"><td class="parameter">aStreamDic</td><td>On return, this contains a pointer to the stream dictionary object created during the restore.  </td></tr><tr><td class="parameter">aDocFullFileName</td><td>The name of the file containing the document.  </td></tr><tr class="bg"><td class="parameter">aFileMode</td><td>The mode in which to open the file.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the restored document. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-DA27BDB9-92F7-3A77-897F-BD413794E768"><a name="GUID-DA27BDB9-92F7-3A77-897F-BD413794E768"><!-- --></a>
<a name="GUID-502FF33E-ADA7-3ACF-8F3B-75C6491640DF"><!-- --></a><h3 class="sectiontitle">ReadAppIdentifierL ( const CStreamStore &amp;, const CStreamDictionary &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a></td><td>ReadAppIdentifierL</td><td>(</td><td>const CStreamStore &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;</td><td><span class="parameter">aStreamDic</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads the application identifier from its stream in the specified store and returns it.</p>
<p class="p">The location of the stream is found in the specified stream dictionary.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>The store from which the application identifier should be read.  </td></tr><tr class="bg"><td class="parameter">aStreamDic</td><td>The stream dictionary containing the stream ID of the application identifier stream. The stream dictionary can be found in the root stream of the store.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The application identifier. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-ED804233-2465-3654-A727-7A4B2C52ED18"><a name="GUID-ED804233-2465-3654-A727-7A4B2C52ED18"><!-- --></a>
<a name="GUID-CC795523-79EF-3D2A-82C8-99BAFC7CA8CD"><!-- --></a><h3 class="sectiontitle">ReadRootStreamLC ( RFs &amp;, CFileStore *&amp;, const TDesC &amp;, TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *</td><td>ReadRootStreamLC</td><td>(</td><td>RFs &amp;</td><td><span class="parameter">aFs</span>,</td></tr><tr><td colspan="3"> </td><td>CFileStore *&amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aDocFullFileName</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aFileMode</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Reads the stream dictionary contained as the root stream in the specified document file.</p>
<p class="p">The function constructs, and returns a pointer to the stream dictionary object and puts the pointer to the stream dictionary object onto the cleanup stack. It also returns a pointer to the created file store object through an argument reference.</p>
<p class="p">The file must be a valid document file; otherwise the function leaves with one of the system-wide error codes.</p>
<p class="p">
</p><p class="p">See also: TFileMode </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aFs</td><td>Handle to a file server session.  </td></tr><tr class="bg"><td class="parameter">aStore</td><td>On return, a pointer to the newly created file store object.  </td></tr><tr><td class="parameter">aDocFullFileName</td><td>The full path name of the document file.  </td></tr><tr class="bg"><td class="parameter">aFileMode</td><td>The mode in which to open the file.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to the stream dictionary object read from the root stream of the store. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-47EBDE42-0D5F-3555-B9B5-688DE8E0C91A"><a name="GUID-47EBDE42-0D5F-3555-B9B5-688DE8E0C91A"><!-- --></a>
<h3 class="sectiontitle">ReadRootStreamLC ( CFileStore *&amp;, const RFile &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> *</td><td>ReadRootStreamLC</td><td>(</td><td>CFileStore *&amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td>const RFile &amp;</td><td><span class="parameter">aFile</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A5E41C4D-C19E-3768-8A1B-F96CFE570F83"><a name="GUID-A5E41C4D-C19E-3768-8A1B-F96CFE570F83"><!-- --></a>
<h3 class="sectiontitle">ResetL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ResetL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Resets the the application process to its initial state.</p>
<p class="p">Specifically, it saves the main document, deletes the main and all embedded documents from memory, resets the main document filename and deletes all applications except the main application.</p>
<p class="p">The function can leave if saving the main document fails. </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FBED3EDA-B6A5-3577-B273-29F40BE4972D"><a name="GUID-FBED3EDA-B6A5-3577-B273-29F40BE4972D"><!-- --></a>
<a name="GUID-6CACC3B0-64EA-3A95-9F48-FDFD3517BF4C"><!-- --></a><h3 class="sectiontitle">SetMainDocFileName ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetMainDocFileName</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aMainDocFileName</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the filename of the main document.</p>
<div class="p">
</div>
<p class="p">See also: <a class="xref" href="GUID-83B95166-7DF5-3D6B-B790-F0D5AE3AA08C.html#GUID-CCBB7699-792D-3D6B-B6BF-5DEB22C7E380">KMaxFileName</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMainDocFileName</td><td>The filename to be set.  </td></tr></table></div>
<div class="section panic"><table class="panic"><tr><th class="panic">Panic Codes</th></tr><tr><td class="paniccode">APPARC</td><td class="panicvalue">7 If the length of aMainDocFileName is greater than KMaxFileName or the length of the last filename set by SetMainDocFileNameL if greater</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-02007E25-96A1-384A-9372-800C7EA0938F"><a name="GUID-02007E25-96A1-384A-9372-800C7EA0938F"><!-- --></a>
<a name="GUID-A2ECEA25-A70B-3555-98FE-7ECD4A4BC6EF"><!-- --></a><h3 class="sectiontitle">SetMainDocFileNameL ( const TDesC &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetMainDocFileNameL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td><span class="parameter">aMainDocFileName</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the filename of the main document.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aMainDocFileName</td><td>The filename to be set. There is no restriction on the length of this descriptor.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-032389DF-36FF-3E8E-A015-1C3FFAFB2FD4"><a name="GUID-032389DF-36FF-3E8E-A015-1C3FFAFB2FD4"><!-- --></a>
<a name="GUID-E040DC3C-A1BA-37F2-A410-946612D1E3B0"><!-- --></a><h3 class="sectiontitle">SetMainDocument ( CApaDocument * )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetMainDocument</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D7041709-1EBE-3E42-8E16-C7F62081AFB7.html">CApaDocument</a> *</td><td><span class="parameter">aDocument</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Sets the main document.</p>
<p class="p">
</p><p class="p">See also: <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-41E98874-AAEE-3BCA-96E9-29508ED838E7">CApaProcess::AddNewDocumentL()</a> <a class="xref" href="GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html#GUID-BB2A8906-0839-3099-86C6-D3A9F4DF7646">CApaProcess::OpenNewDocumentL()</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDocument</td><td>A pointer to the document to be set as the main document of the application process. This must be a an object created by the AddNewDocumentL() or OpenNewDocumentL() functions  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6468966D-E0E8-3764-BBAB-4A635F8FBAEC"><a name="GUID-6468966D-E0E8-3764-BBAB-4A635F8FBAEC"><!-- --></a>
<a name="GUID-8A4BEE6F-D14A-37D2-875F-32718150EDA7"><!-- --></a><h3 class="sectiontitle">WriteAppIdentifierL ( CStreamStore &amp;, CStreamDictionary &amp;, const TApaAppIdentifier &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>WriteAppIdentifierL</td><td>(</td><td>CStreamStore &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;</td><td><span class="parameter">aStreamDic</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a> &amp;</td><td><span class="parameter">aAppId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes the application identifier to a new stream in the specified store and records the location of this stream in the specified stream dictionary.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>The store to which the application identifier should be written. </td></tr><tr class="bg"><td class="parameter">aStreamDic</td><td>The stream dictionary.  </td></tr><tr><td class="parameter">aAppId</td><td>The application identifier to be externalised to a stream.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-868ECAAD-09D8-35DB-B04C-66E3FB048521"><a name="GUID-868ECAAD-09D8-35DB-B04C-66E3FB048521"><!-- --></a>
<a name="GUID-A86E119B-5D3F-34AC-A47D-A3B657EA8F72"><!-- --></a><h3 class="sectiontitle">WriteRootStreamL ( CPersistentStore &amp;, CStreamDictionary &amp;, const CApaApplication &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>WriteRootStreamL</td><td>(</td><td>CPersistentStore &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;</td><td><span class="parameter">aStreamDic</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html">CApaApplication</a> &amp;</td><td><span class="parameter">aApp</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes the application identifier (derived from the application object <a class="xref" href="GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7.html#GUID-C0297A58-2E39-3211-A2B4-C334192CE2A7">CApaApplication</a>) followed by the stream dictionary to the store and makes the stream dictionary the root stream of the store.</p>
<p class="p">Typically, the function is called by the application when it implements a file create or file save type operation. It is called after all model and UI data has been persisted. The IDs of the streams containing the model and UI data should have been lodged in the stream dictionary.</p>
<p class="p">In effect, the function finishes off the file save or file create type operation, leaving the file containing the store in a valid state with the standard interface.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>The store to which the root stream is to be written. Before calling this function, a reference to the store must be saved by putting a pointer onto the cleanup stack or by making it member data of a class. This ensures that it is not orphaned in the event of this function leaving.  </td></tr><tr class="bg"><td class="parameter">aStreamDic</td><td>The stream dictionary containing the locations and associated UIDs of other streams in the store.  </td></tr><tr><td class="parameter">aApp</td><td>The application used to create the main document in the file being written. The application identifier to be written is constructed from this application object.  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-43E1AE83-B4B5-3F33-B1EC-F01377CA4BB9"><a name="GUID-43E1AE83-B4B5-3F33-B1EC-F01377CA4BB9"><!-- --></a>
<h3 class="sectiontitle">WriteRootStreamL ( CPersistentStore &amp;, CStreamDictionary &amp;, const TApaAppIdentifier &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>WriteRootStreamL</td><td>(</td><td>CPersistentStore &amp;</td><td><span class="parameter">aStore</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-C5F2BE2A-6D08-3D89-AB13-6EFF899305CF.html">CStreamDictionary</a> &amp;</td><td><span class="parameter">aStreamDic</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-7EE7CC5D-F41F-3B0F-B863-8D439CF12B1C.html">TApaAppIdentifier</a> &amp;</td><td><span class="parameter">aAppId</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Writes the application identifier followed by the stream dictionary to the store and makes the stream dictionary the root stream of the store.</p>
<p class="p">Typically, the function is called by the application when it implements a file create or file save type operation. It is called after all model and UI data has been persisted. The IDs of the streams containing the model and UI data should have been lodged in the stream dictionary.</p>
<p class="p">In effect, the function finishes off the file save or file create type operation, leaving the file containing the store in a valid state with the standard interface.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aStore</td><td>The store to which the root stream is to be written. Before calling this function, a reference to the store must be saved by putting a pointer onto the cleanup stack or by making it member data of a class. This ensures that it is not orphaned in the event of this function leaving.  </td></tr><tr class="bg"><td class="parameter">aStreamDic</td><td>The stream dictionary containing the locations and associated UIDs of other streams in the store.  </td></tr><tr><td class="parameter">aAppId</td><td>The application identifier to be written into the application identifier stream.  </td></tr></table></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-0E839A04-8DA8-3F0A-B1BB-E0F44007B648.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:14:16 GMT -->
</html>