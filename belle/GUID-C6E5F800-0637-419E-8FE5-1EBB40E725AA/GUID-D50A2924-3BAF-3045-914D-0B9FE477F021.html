<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D50A2924-3BAF-3045-914D-0B9FE477F021.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:39 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CommTimer" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021" />
<title>CommTimer</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021"><a name="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CommTimer Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;cs_port.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: c32.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CommTimer</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-5007B0E6-DC6A-39BC-BF72-F0AF7A38A5B2.html">CDeltaTimer</a> *</td><td><a href="#GUID-16554B43-9697-3169-AA1C-DAD776F68466">GetTimer</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-69ACD077-0353-37A4-83BF-6C476D8DDB8B">Queue</a>(<a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a>, <a class="xref xref apiRelation" href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1DBC4C66-B2D6-30BA-A6DF-92BE6B014F6E">Remove</a>(<a class="xref xref apiRelation" href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;)</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Static utility class for global timer handling designed for use by Serial Server plug-ins (CSYs).</p>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-16554B43-9697-3169-AA1C-DAD776F68466"><a name="GUID-16554B43-9697-3169-AA1C-DAD776F68466"><!-- --></a>
<h3 class="sectiontitle">GetTimer (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-5007B0E6-DC6A-39BC-BF72-F0AF7A38A5B2.html">CDeltaTimer</a> *</td><td>GetTimer</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Get the pointer to the global timer. If it does not exist, create a new timer and store the pointer in the TLS.</p>
<p class="p">Only clients within CSYs should use this API, since this function has a legacy behaviour of panicking in the case of no memory. This is due to the API not containing a means to communicate this result back to the caller. In the case where GetTimer is used by a CSY this is not a problem since the CSY will be running in a thread that C32 has already allocated the <a class="xref" href="GUID-D50A2924-3BAF-3045-914D-0B9FE477F021.html#GUID-D50A2924-3BAF-3045-914D-0B9FE477F021">CommTimer</a> memory for.</p>
<div class="p">
<div class="note note"><span class="notetitle">Note:</span>
<p class="p">This function is using TLS (Thread Local Storage) and may reduce performance. </p>
</div>
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>pointer to the timer</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-69ACD077-0353-37A4-83BF-6C476D8DDB8B"><a name="GUID-69ACD077-0353-37A4-83BF-6C476D8DDB8B"><!-- --></a>
<a name="GUID-C03B7591-2CBC-3747-BA5F-DE44911D219C"><!-- --></a><h3 class="sectiontitle">Queue ( TTimeIntervalMicroSeconds32, TDeltaTimerEntry &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Queue</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-EEC5813B-4C9F-323B-BCD6-1BB1A08D0B8C.html">TTimeIntervalMicroSeconds32</a></td><td><span class="parameter">aTimeInMicroSeconds</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;</td><td><span class="parameter">aHandle</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Queue a timer on the global timer.</p>
<p class="p">This class is only suitable for CSYs since it currently has no direct mechanism through which to release the Thread Local Storage and heap resources it allocates. In the case of CSYs these resources are managed separately by C32.</p>
<p class="p">Note:</p>
<p class="p">1. The Thread Local Storage of the calling thread must be available for use.</p>
<p class="p">2. The first time this is called for a thread, a small amount of heap memory is required. If no memory is available, a "c32-fault" panic of type 7 is raised. Subsequent calls are not affected since they reuse this memory.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTimeInMicroSeconds</td><td>the timeout value in micro seconds  </td></tr><tr class="bg"><td class="parameter">aHandle</td><td>handle to the delta timer entry  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1DBC4C66-B2D6-30BA-A6DF-92BE6B014F6E"><a name="GUID-1DBC4C66-B2D6-30BA-A6DF-92BE6B014F6E"><!-- --></a>
<a name="GUID-31101DBC-A6AB-366C-8932-9F39C80F5955"><!-- --></a><h3 class="sectiontitle">Remove ( TDeltaTimerEntry &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Remove</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-0C42B690-9A7B-3C5C-BFF9-04A569246C83.html">TDeltaTimerEntry</a> &amp;</td><td><span class="parameter">aHandle</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Call cancel on the global timer</p>
<p class="p">Note: This does not free the Thread Local Storage for the calling thread.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aHandle</td><td>the timer to cancel  </td></tr></table></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">Â© Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D50A2924-3BAF-3045-914D-0B9FE477F021.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:40 GMT -->
</html>