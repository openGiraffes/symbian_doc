<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:26 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CommsDat::CMDBSession" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0" />
<title>CommsDat::CMDBSession</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0"><a name="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CommsDat::CMDBSession Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;metadatabase.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: commsdat.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CommsDat::CMDBSession : public CBase, public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CommsDat::CMDBSession<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-1C22D24D-33B9-34A0-B9E0-24EB04B59948">~CMDBSession</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-A6F8DFD5-DC11-3A38-A7D3-17F710C4BB11">CancelAllNotifications</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5D15F1EA-55B7-36D1-B9F9-F4B407C7BA53">ClearAttributeMask</a>(TMDBAttributeFlags)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-CF76AC5A-EAEE-3172-82E6-89F74F006E11">Close</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-547AC920-C557-3EF5-B8F8-DC03BC1D58C1">CommitTransactionL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-85AD3F66-9054-3380-B9B1-61C72E484A34">IsInTransaction</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-991ADC09-C7FB-3DFA-B38D-815BDB5DC185">IsSetAttributeMask</a>(TMDBAttributeFlags)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><a href="#GUID-BD0A3D26-26F0-3F1B-A92C-18F117FBE258">LatestVersion</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> *</td><td><a href="#GUID-D1B37653-F57F-3CFF-A34A-B9647A4A94B6">NewL</a>(<a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> *</td><td><a href="#GUID-9261563E-2B2D-3836-B2B2-7B5C9490DB06">NewLC</a>(<a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E7BA0A65-296F-357D-9090-2A631D967D8F">OpenTransactionL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-0C38500D-25CE-39DA-8408-55A8303E2FA3">PublishProperties</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0609C92A-E102-3B71-9E68-D9AE98C14956">RollbackTransactionL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">SetAttributeMask</a>(TMDBAttributeFlags)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><a href="#GUID-32B7579F-063B-3784-BCBC-5324BC97F71C">VersionInUse</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">A session with the underlying storage server   </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1C22D24D-33B9-34A0-B9E0-24EB04B59948"><a name="GUID-1C22D24D-33B9-34A0-B9E0-24EB04B59948"><!-- --></a>
<h3 class="sectiontitle">~CMDBSession (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CMDBSession</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Virtual Destructor </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A6F8DFD5-DC11-3A38-A7D3-17F710C4BB11"><a name="GUID-A6F8DFD5-DC11-3A38-A7D3-17F710C4BB11"><!-- --></a>
<h3 class="sectiontitle">CancelAllNotifications (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CancelAllNotifications</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancel all notification requests that are outstanding from calls to <a class="xref" href="GUID-D7FBEA06-E011-3316-8676-29C70E885527.html#GUID-D9AC0A44-494D-34AD-A167-BD11F9188229">MMetaDatabase::RequestNotification</a> Individual requests can be cancelled via MMetaDatabase::CancelNotify.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone on success or a system-wide error code</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5D15F1EA-55B7-36D1-B9F9-F4B407C7BA53"><a name="GUID-5D15F1EA-55B7-36D1-B9F9-F4B407C7BA53"><!-- --></a>
<a name="GUID-62681085-7814-37DC-9AC7-64A625CC4907"><!-- --></a><h3 class="sectiontitle">ClearAttributeMask ( TMDBAttributeFlags )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ClearAttributeMask</td><td>(</td><td>TMDBAttributeFlags</td><td><span class="parameter">aAttributeFlags</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Clear attribute mask settings, indicating required access level to stored data Clear flags in the attribute mask for this session</p>
<p class="p">Flags indicate the requested access level to stored data</p>
<p class="p">Attribute flags that have been set in this function will be cleared from the session's attribute mask and will be obeyed as restrictions in all database interactions, providing the client has enough platform security capabilities to back up the request</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-CF76AC5A-EAEE-3172-82E6-89F74F006E11"><a name="GUID-CF76AC5A-EAEE-3172-82E6-89F74F006E11"><!-- --></a>
<h3 class="sectiontitle">Close (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Close session with storage server.  Deprecatedv9.1 Destructor is all that is required </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-547AC920-C557-3EF5-B8F8-DC03BC1D58C1"><a name="GUID-547AC920-C557-3EF5-B8F8-DC03BC1D58C1"><!-- --></a>
<h3 class="sectiontitle">CommitTransactionL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>CommitTransactionL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Commit Transaction in database.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None</dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">On success the database is updated with data added, modified or deleted during the transaction <p class="p">On failure, any open data containers may not be in sync with the database and should be discarded or reloaded </p>
</dd>
</dl>
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">Will</td><td class="leavevalue">leave with KErrNotFound if not in transaction</td></tr><tr><td class="leavecode">Will</td><td class="leavevalue">leave with a system-wide error code if an error occurs during commit</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-85AD3F66-9054-3380-B9B1-61C72E484A34"><a name="GUID-85AD3F66-9054-3380-B9B1-61C72E484A34"><!-- --></a>
<h3 class="sectiontitle">IsInTransaction (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>IsInTransaction</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">Query if this session is in a transaction with the database Return code will indicate Not in transaction, Already in transaction for this session, Write-lock not available. Another session has it. <dl class="dl precondition"><dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-991ADC09-C7FB-3DFA-B38D-815BDB5DC185"><a name="GUID-991ADC09-C7FB-3DFA-B38D-815BDB5DC185"><!-- --></a>
<a name="GUID-9BFA4D0C-7862-38C5-9EA3-B85A027914BE"><!-- --></a><h3 class="sectiontitle">IsSetAttributeMask ( TMDBAttributeFlags )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsSetAttributeMask</td><td>(</td><td>TMDBAttributeFlags</td><td><span class="parameter">aAttributeFlags</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Check flags in attribute mask  aAttributeFlags indicates the requested access level to stored data Attribute flags that have been set will be ignored as restrictions in all database interactions, providing the client has enough platform security capabilities to back up the request</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>ETrue if the flag is set in the session mask This means that the attribute is ignored in database interactions for this sessionEFalse if the flag is not set in the session mask This means that the attribute is obeyed in all database interactions for this session</dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-BD0A3D26-26F0-3F1B-A92C-18F117FBE258"><a name="GUID-BD0A3D26-26F0-3F1B-A92C-18F117FBE258"><!-- --></a>
<h3 class="sectiontitle">LatestVersion (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td>LatestVersion</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Returns the KCDCurrentVersion constant which maps to the KCDVersion1_1 constant for backward compatibility reason. Please avoid using this method when creating a CommsDat session object and use explicit schema version instead.</p>
<div class="p">
					Deprecated
				<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">None</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D1B37653-F57F-3CFF-A34A-B9647A4A94B6"><a name="GUID-D1B37653-F57F-3CFF-A34A-B9647A4A94B6"><!-- --></a>
<a name="GUID-7218666F-5450-319B-BDC8-50652F257E5A"><!-- --></a><h3 class="sectiontitle">NewL ( TVersion )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> *</td><td>NewL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><span class="parameter">aRequiredVersion</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Open a session with the storage server and establish data format version in use CommsDat always attempts to support the required version of the client-facing data set. The client must carefully choose the dataset version as it affects binary compatibility</p>
<p class="p">aRequiredVersion If the requested version is deprecated but still supported, mapping will be performed within CommsDat to maintain Data and Binary compatibility for the client If the requested version is the latest version, no mapping will be performed and deprecated fields will be ignored A client that needs to maintain BC must use a specific version A client that always wants to use the latest dataset can start the session with KCDLatestVersion</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">on success a session has been created and initialised </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrUnsupported</td><td class="leavevalue">If an old unsupported version is requested</td></tr><tr><td class="leavecode">System-wide</td><td class="leavevalue">error codes if there is an unexpected error</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9261563E-2B2D-3836-B2B2-7B5C9490DB06"><a name="GUID-9261563E-2B2D-3836-B2B2-7B5C9490DB06"><!-- --></a>
<a name="GUID-1DC2FBC0-45D6-3C04-9101-830899EA6CCF"><!-- --></a><h3 class="sectiontitle">NewLC ( TVersion )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> *</td><td>NewLC</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><span class="parameter">aRequiredVersion</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">As NewL and adds Session to the <a class="xref" href="GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA.html#GUID-0DD554D7-B9B1-3FD3-898F-4D855144FCEA">CleanupStack</a> </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-E7BA0A65-296F-357D-9090-2A631D967D8F"><a name="GUID-E7BA0A65-296F-357D-9090-2A631D967D8F"><!-- --></a>
<h3 class="sectiontitle">OpenTransactionL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>OpenTransactionL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Open Transaction with storage server and obtain write lock - if not already set</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">on success the session has exclusive write access to the database </dd>
</dl>
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">Will</td><td class="leavevalue">leave with KErrNotAvailable if Database write locked by another process</td></tr><tr><td class="leavecode">Will</td><td class="leavevalue">report KErrAlreadyInTransaction if transaction this session is already in a transaction</td></tr><tr><td class="leavecode">Will</td><td class="leavevalue">leave with a system-wide error code if an error occurs during commit</td></tr></table></div><div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">WriteDeviceData</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0C38500D-25CE-39DA-8408-55A8303E2FA3"><a name="GUID-0C38500D-25CE-39DA-8408-55A8303E2FA3"><!-- --></a>
<h3 class="sectiontitle">PublishProperties (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>PublishProperties</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Attempt to create publish/subscribe properties if not already defined.</p>
<p class="p">This function is normally called as a setup activity by System components</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone on success. Otherwise a system-wide error code</dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">WriteDeviceData</td><td class="capabilityvalue">- since these properties are created in KUidSystemCategory category.</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0609C92A-E102-3B71-9E68-D9AE98C14956"><a name="GUID-0609C92A-E102-3B71-9E68-D9AE98C14956"><!-- --></a>
<h3 class="sectiontitle">RollbackTransactionL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RollbackTransactionL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Cancel Transaction with database and rollback all associated changes</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None - though for correct usage, ensure a transaction is already open </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">Any open data containers may not be in sync with the database and should be discarded or reloaded </dd>
</dl>
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">Will</td><td class="leavevalue">fail with KErrNotFound if not in transaction</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EDA488BC-2F64-3D8F-A725-609DE721B014"><a name="GUID-EDA488BC-2F64-3D8F-A725-609DE721B014"><!-- --></a>
<a name="GUID-F19654D5-151A-3643-85FF-844FD2701E05"><!-- --></a><h3 class="sectiontitle">SetAttributeMask ( TMDBAttributeFlags )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>SetAttributeMask</td><td>(</td><td>TMDBAttributeFlags</td><td><span class="parameter">aAttributeFlags</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Set attributes to ignore for all database operations during this session</p>
<p class="p">aAttributeFlags indicates the requested access level to stored data. Attributes set by this call will be ignored as restrictions in all database interactions, providing the client has enough platform security capabilities to back up the request</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-32B7579F-063B-3784-BCBC-5324BC97F71C"><a name="GUID-32B7579F-063B-3784-BCBC-5324BC97F71C"><!-- --></a>
<h3 class="sectiontitle">VersionInUse (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td>VersionInUse</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Lookup data format version currently in use by client </p>
</div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:26 GMT -->
</html>