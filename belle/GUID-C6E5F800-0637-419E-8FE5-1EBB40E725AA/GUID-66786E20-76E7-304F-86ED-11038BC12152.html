<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-66786E20-76E7-304F-86ED-11038BC12152.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:17:31 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CnvUtfConverter" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-66786E20-76E7-304F-86ED-11038BC12152" />
<title>CnvUtfConverter</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-66786E20-76E7-304F-86ED-11038BC12152"><a name="GUID-66786E20-76E7-304F-86ED-11038BC12152"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CnvUtfConverter Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;utf.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: charconv.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CnvUtfConverter</td></tr></table></div><div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-2F90F0C2-B160-3FF7-A09B-C25E24B98E71">anonymous</a> { <a href="#GUID-4D49FFFD-0D40-38DD-B471-CBCACEBC27C1">KStateDefault</a> }</td></tr><tr class="bg"><td align="right" valign="top" class="code">enum</td><td><a href="#GUID-19832AE6-2053-364D-84CE-9A84642E007F">TError</a> { <a href="#GUID-130D0572-2DAC-3FB8-9F8E-534F5C1397D5">EErrorIllFormedInput</a> }</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-9DD4D83F-DD6A-372D-B2D0-C6B20A75DCBD">ConvertFromUnicodeToUtf7</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-3A549030-0F15-3099-97C1-B536F143D994">ConvertFromUnicodeToUtf7</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-68E81EF5-A5D6-366D-86ED-C8E033115B54">ConvertFromUnicodeToUtf7L</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-2C2A789B-BB11-38C6-8AF8-C968BE5C962C">ConvertFromUnicodeToUtf8</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;)</td></tr><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-68BE103F-7A03-3FCE-B339-0FB36FDBA9A6">ConvertFromUnicodeToUtf8</a>(<a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;, const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-A028FD27-1D7A-3AB5-8B13-9141B974194C">ConvertFromUnicodeToUtf8L</a>(const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EF406F92-5819-3C80-94EC-F5D4821DBA94">ConvertToUnicodeFromUtf7</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-601BB100-3C01-38F6-A1EC-6272DF15EF46">ConvertToUnicodeFromUtf7</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC16</a> *</td><td><a href="#GUID-EF20AB87-038E-3FB1-8EBA-8E73B2151DEF">ConvertToUnicodeFromUtf7L</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6BE5C683-2D4A-30B8-8753-CF4203E5F69D">ConvertToUnicodeFromUtf8</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-FEFF2A51-9724-33EF-85A0-99E524798223">ConvertToUnicodeFromUtf8</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td><a href="#GUID-4FE0E100-2883-31AC-8946-E4449E29289D">ConvertToUnicodeFromUtf8</a>(<a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;, const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;, <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC16</a> *</td><td><a href="#GUID-02DCB55E-083D-362D-B88F-B3F218C953A4">ConvertToUnicodeFromUtf8L</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Converts text between Unicode (UCS-2) and the two Unicode transformation formats UTF-7 and UTF-8. There are no functions to convert directly between UTF-7 and UTF-8.</p>
<p class="p">Objects of this class do not need to be created because all the member functions are static. The four functions are passed text in the second argument and output the resulting text in the first argument. Sixteen-bit descriptors are used to hold text encoded in UCS-2 (i.e. normal 16 bit Unicode), and eight-bit descriptors are used to hold text encoded in either of the transformation formats.</p>
<p class="p">The conversion functions return the number of characters which were not converted because the output descriptor was not long enough to hold all of the converted text. This allows users of this class to perform partial conversions on an input descriptor, handling the case when the input descriptor is truncated mid way through a multi-byte character. The caller does not have to guess how big to make the output descriptor for a given input descriptor- they can simply do the conversion in a loop using a small output descriptor. The ability to handle truncated descriptors is particularly useful if the caller is receiving information in chunks from an external source.   </p>
</div>
<h2 class="sectiontitle">Member Enumeration Documentation</h2><div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-2F90F0C2-B160-3FF7-A09B-C25E24B98E71"><a name="GUID-2F90F0C2-B160-3FF7-A09B-C25E24B98E71"><!-- --></a>
<h3 class="sectiontitle">Enum anonymous</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<p class="p">Initial value for the state argument in a set of related calls to ConvertToUnicode(). </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-4D49FFFD-0D40-38DD-B471-CBCACEBC27C1"><span class="enumerator">KStateDefault</span></a></td><td>0</td><td> </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiValue cxxEnumeration nested1" id="GUID-19832AE6-2053-364D-84CE-9A84642E007F"><a name="GUID-19832AE6-2053-364D-84CE-9A84642E007F"><!-- --></a>
<h3 class="sectiontitle">Enum TError</h3>
<div class="body refbody apiDetail apiValueDetail cxxEnumerationDetail section enumerationdetail"><div class="section section apiDesc section apidesc">
<div class="p">Conversion error flags. At this stage there is only one error flag<ul class="ul"><li class="li"><p class="p">others may be added in the future. </p>
</li>
</ul>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxEnumerators section enumerators"><table class="enumerators"><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tr><td class="ph ph apiDefItem apiDefItem cxxEnumerator"><a name="GUID-130D0572-2DAC-3FB8-9F8E-534F5C1397D5"><span class="enumerator">EErrorIllFormedInput</span></a></td><td>KErrCorrupt</td><td>
<p class="p">The input descriptor contains a single corrupt character. This might occur when the input descriptor only contains some of the bytes of a single multi-byte character. </p>
</td></tr></table></div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9DD4D83F-DD6A-372D-B2D0-C6B20A75DCBD"><a name="GUID-9DD4D83F-DD6A-372D-B2D0-C6B20A75DCBD"><!-- --></a>
<a name="GUID-E7CBFB5D-883B-3067-A95A-26D6D6598BC8"><!-- --></a><h3 class="sectiontitle">ConvertFromUnicodeToUtf7 ( TDes8 &amp;, const TDesC16 &amp;, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertFromUnicodeToUtf7</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aUtf7</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aEncodeOptionalDirectCharactersInBase64</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts Unicode text into UTF-7 encoding.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUtf7</td><td>On return, contains the UTF-7 encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>A UCS-2 encoded input string.  </td></tr><tr><td class="parameter">aEncodeOptionalDirectCharactersInBase64</td><td>If ETrue then characters from UTF-7 set O (optional direct characters) are encoded in Modified Base64. If EFalse the characters are encoded directly, as their ASCII equivalents.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted characters left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3A549030-0F15-3099-97C1-B536F143D994"><a name="GUID-3A549030-0F15-3099-97C1-B536F143D994"><!-- --></a>
<h3 class="sectiontitle">ConvertFromUnicodeToUtf7 ( TDes8 &amp;, const TDesC16 &amp;, TBool, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ConvertFromUnicodeToUtf7</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aUtf7</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aIsImapUtf7</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aEncodeOptionalDirectCharactersInBase64</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-68E81EF5-A5D6-366D-86ED-C8E033115B54"><a name="GUID-68E81EF5-A5D6-366D-86ED-C8E033115B54"><!-- --></a>
<a name="GUID-8CCD874B-84F1-30C1-95B9-D70DCDA89AA4"><!-- --></a><h3 class="sectiontitle">ConvertFromUnicodeToUtf7L ( const TDesC16 &amp;, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>ConvertFromUnicodeToUtf7L</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aEncodeOptionalDirectCharactersInBase64</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts Unicode text into UTF-7 encoding. The fucntion leaves with KErrCorrupt if the input string is corrupt.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>A UCS-2 encoded input string.  </td></tr><tr class="bg"><td class="parameter">aEncodeOptionalDirectCharactersInBase64</td><td>If ETrue then characters from UTF-7 set O (optional direct characters) are encoded in Modified Base64. If EFalse the characters are encoded directly, as their ASCII equivalents.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A descriptor containing the UTF-7 encoded output string. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-2C2A789B-BB11-38C6-8AF8-C968BE5C962C"><a name="GUID-2C2A789B-BB11-38C6-8AF8-C968BE5C962C"><!-- --></a>
<a name="GUID-A4B96792-FEBC-3775-8CF6-7910437846F0"><!-- --></a><h3 class="sectiontitle">ConvertFromUnicodeToUtf8 ( TDes8 &amp;, const TDesC16 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertFromUnicodeToUtf8</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aUtf8</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts Unicode text into UTF-8 encoding.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUtf8</td><td>On return, contains the UTF-8 encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>The Unicode-encoded input string.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted characters left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-68BE103F-7A03-3FCE-B339-0FB36FDBA9A6"><a name="GUID-68BE103F-7A03-3FCE-B339-0FB36FDBA9A6"><!-- --></a>
<h3 class="sectiontitle">ConvertFromUnicodeToUtf8 ( TDes8 &amp;, const TDesC16 &amp;, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ConvertFromUnicodeToUtf8</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td><span class="parameter">aUtf8</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aGenerateJavaConformantUtf8</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts Unicode text into UTF-8 encoding.</p>
<p class="p">Surrogate pairs can be input which will result in a valid 4 byte UTF-8 value.</p>
<p class="p">The variant of UTF-8 used internally by Java differs slightly from standard UTF-8. The TBool argument controls the UTF-8 variant generated by this function.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUtf8</td><td>On return, contains the UTF-8 encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUnicode</td><td>A UCS-2 encoded input string.  </td></tr><tr><td class="parameter">aGenerateJavaConformantUtf8</td><td>EFalse for orthodox UTF-8. ETrue for Java UTF-8. The default is EFalse.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted characters left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A028FD27-1D7A-3AB5-8B13-9141B974194C"><a name="GUID-A028FD27-1D7A-3AB5-8B13-9141B974194C"><!-- --></a>
<a name="GUID-CA6143D4-FE1C-3D80-96AB-5B0FF8BA322B"><!-- --></a><h3 class="sectiontitle">ConvertFromUnicodeToUtf8L ( const TDesC16 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>ConvertFromUnicodeToUtf8L</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC16</a> &amp;</td><td><span class="parameter">aUnicode</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts Unicode text into UTF-8 encoding.</p>
<p class="p">The variant of UTF-8 used internally by Java differs slightly from standard UTF-8. The TBool argument controls the UTF-8 variant generated by this function. This function leaves with a KErrCorrupt if the input string is corrupt.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>A UCS-2 encoded input string.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to an HBufC8 containing the converted UTF8. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EF406F92-5819-3C80-94EC-F5D4821DBA94"><a name="GUID-EF406F92-5819-3C80-94EC-F5D4821DBA94"><!-- --></a>
<a name="GUID-34E2772B-49B5-38C7-BA55-24D7D3EF3A58"><!-- --></a><h3 class="sectiontitle">ConvertToUnicodeFromUtf7 ( TDes16 &amp;, const TDesC8 &amp;, TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromUtf7</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf7</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-7 into the Unicode UCS-2 character set.</p>
<p class="p">If the conversion is achieved using a series of calls to this function, where each call starts off where the previous call reached in the input descriptor, the state of the conversion is stored. The initial value of the state variable should be set as KStateDefault when the conversion is started, and afterwards simply passed unchanged into each function call.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>On return, contains the Unicode encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUtf7</td><td>The UTF-7 encoded input string.  </td></tr><tr><td class="parameter">aState</td><td>For the first call of the function set to KStateDefault. For subsequent calls, pass in the variable unchanged.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted bytes left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-601BB100-3C01-38F6-A1EC-6272DF15EF46"><a name="GUID-601BB100-3C01-38F6-A1EC-6272DF15EF46"><!-- --></a>
<h3 class="sectiontitle">ConvertToUnicodeFromUtf7 ( TDes16 &amp;, const TDesC8 &amp;, TBool, TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ConvertToUnicodeFromUtf7</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf7</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aIsImapUtf7</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aState</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EF20AB87-038E-3FB1-8EBA-8E73B2151DEF"><a name="GUID-EF20AB87-038E-3FB1-8EBA-8E73B2151DEF"><!-- --></a>
<a name="GUID-629D8494-23E2-3B30-A818-07BFCE284BA8"><!-- --></a><h3 class="sectiontitle">ConvertToUnicodeFromUtf7L ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC16</a> *</td><td>ConvertToUnicodeFromUtf7L</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf7</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-7 into the Unicode UCS-2 character set.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUtf7</td><td>The UTF-7 encoded input string.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to an HBufC16 containing the converted Unicode string </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-6BE5C683-2D4A-30B8-8753-CF4203E5F69D"><a name="GUID-6BE5C683-2D4A-30B8-8753-CF4203E5F69D"><!-- --></a>
<a name="GUID-14A7E065-3040-39EA-A52F-0D6069E59429"><!-- --></a><h3 class="sectiontitle">ConvertToUnicodeFromUtf8 ( TDes16 &amp;, const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>ConvertToUnicodeFromUtf8</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf8</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-8 into the Unicode UCS-2 character set.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>On return, contains the Unicode encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUtf8</td><td>The UTF-8 encoded input string  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted bytes left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FEFF2A51-9724-33EF-85A0-99E524798223"><a name="GUID-FEFF2A51-9724-33EF-85A0-99E524798223"><!-- --></a>
<h3 class="sectiontitle">ConvertToUnicodeFromUtf8 ( TDes16 &amp;, const TDesC8 &amp;, TBool )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ConvertToUnicodeFromUtf8</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf8</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aGenerateJavaConformantUtf8</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-8 into the Unicode UCS-2 character set.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>On return, contains the Unicode encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUtf8</td><td>The UTF-8 encoded input string  </td></tr><tr><td class="parameter">aGenerateJavaConformantUtf8</td><td>EFalse for orthodox UTF-8. ETrue for Java  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted bytes left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-4FE0E100-2883-31AC-8946-E4449E29289D"><a name="GUID-4FE0E100-2883-31AC-8946-E4449E29289D"><!-- --></a>
<h3 class="sectiontitle">ConvertToUnicodeFromUtf8 ( TDes16 &amp;, const TDesC8 &amp;, TBool, TInt &amp;, TInt &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>
<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
</td><td>ConvertToUnicodeFromUtf8</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-C04A9A0C-DBA7-37DA-B744-54FBF3D544CD.html">TDes16</a> &amp;</td><td><span class="parameter">aUnicode</span>,</td></tr><tr><td colspan="3"> </td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf8</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><span class="parameter">aGenerateJavaConformantUtf8</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aNumberOfUnconvertibleCharacters</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &amp;</td><td><span class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-8 into the Unicode UCS-2 character set. Surrogate pairs can be created when a valid 4 byte UTF-8 is input.</p>
<p class="p">The variant of UTF-8 used internally by Java differs slightly from standard UTF-8. The TBool argument controls the UTF-8 variant generated by this function.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUnicode</td><td>On return, contains the Unicode encoded output string.  </td></tr><tr class="bg"><td class="parameter">aUtf8</td><td>The UTF-8 encoded input string  </td></tr><tr><td class="parameter">aGenerateJavaConformantUtf8</td><td>EFalse for orthodox UTF-8. ETrue for Java UTF-8. The default is EFalse.  </td></tr><tr class="bg"><td class="parameter">aNumberOfUnconvertibleCharacters</td><td>On return, contains the number of bytes which were not converted.  </td></tr><tr><td class="parameter">aIndexOfFirstByteOfFirstUnconvertibleCharacter</td><td>On return, the index of the first byte of the first unconvertible character. For instance if the first character in the input descriptor (aForeign) could not be converted, then this parameter is set to the first byte of that character, i.e. zero. A negative value is returned if all the characters were converted.  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>The number of unconverted bytes left at the end of the input descriptor, or one of the error values defined in TError. </dd></dl></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-02DCB55E-083D-362D-B88F-B3F218C953A4"><a name="GUID-02DCB55E-083D-362D-B88F-B3F218C953A4"><!-- --></a>
<a name="GUID-907104F5-917A-30C7-9DB7-0A06D8075B33"><!-- --></a><h3 class="sectiontitle">ConvertToUnicodeFromUtf8L ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC16</a> *</td><td>ConvertToUnicodeFromUtf8L</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aUtf8</span></td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Converts text encoded using the Unicode transformation format UTF-8 into the Unicode UCS-2 character set. This function leaves with an error code of the input string is corrupted.</p>
<p class="p">
</p></div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aUtf8</td><td>The UTF-8 encoded input string  </td></tr></table></div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>A pointer to an HBufC16 with the converted Unicode string. </dd></dl></div>
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-66786E20-76E7-304F-86ED-11038BC12152.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 08:17:31 GMT -->
</html>