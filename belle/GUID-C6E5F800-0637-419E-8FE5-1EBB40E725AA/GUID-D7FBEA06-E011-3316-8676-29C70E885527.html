<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D7FBEA06-E011-3316-8676-29C70E885527.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:26 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CommsDat::MMetaDatabase" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-D7FBEA06-E011-3316-8676-29C70E885527" />
<title>CommsDat::MMetaDatabase</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-D7FBEA06-E011-3316-8676-29C70E885527"><a name="GUID-D7FBEA06-E011-3316-8676-29C70E885527"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CommsDat::MMetaDatabase Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;metadatabase.h&gt;
                </p></div>
<div class="p section linkagainst"><p>Link against: commsdat.lib</p></div>
<div class="section signature"><table class="signature"><tr><td>class CommsDat::MMetaDatabase : public Meta::MMetaData, public Meta::MMetaData</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CommsDat::MMetaDatabase<ul class="derivation"><li class="derivation-depth-1 derivation-has-next"><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-B3D9BB3A-130A-301B-BB94-A1C83FA73751.html">Meta::MMetaData</a></li><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-B3D9BB3A-130A-301B-BB94-A1C83FA73751.html">Meta::MMetaData</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual </td><td><a href="#GUID-1810ECFC-70E8-33B5-BF0D-91DE259FAE02">~MMetaDatabase</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-EF9A71A1-8611-352F-BE14-BCFE967E8B36">CancelNotification</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FFDCD538-A192-3063-92EB-B72E739EDBA2">DeleteL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-D3A313A3-CC4C-3EC9-83FA-DEE17BB312C2">FindL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5B2CC7FE-87B8-3A44-91A1-C986B22F6361">LoadL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-387CD9A6-255A-36AD-9B6E-3A87D0C60F0F">ModifyL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-317CFEB7-D84B-3350-B4B0-0CD2EC8FE82D">RefreshL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D9AC0A44-494D-34AD-A167-BD11F9188229">RequestNotification</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;, <a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B1D0A4B0-2AC9-3B05-BA6D-2CE1047C5A74">StoreL</a>(<a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;)</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"></td><td><a href="#GUID-486E7362-2D83-3948-A18F-CA1106E7FA15">MMetaDatabase</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-B3D9BB3A-130A-301B-BB94-A1C83FA73751.html">Meta::MMetaData::GetAttribPtr(const TInt)const</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-B3D9BB3A-130A-301B-BB94-A1C83FA73751.html">Meta::MMetaData::GetVDataTable()const</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">Interface for interaction with a database server Inherited by each data set type that can be stored   </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-486E7362-2D83-3948-A18F-CA1106E7FA15"><a name="GUID-486E7362-2D83-3948-A18F-CA1106E7FA15"><!-- --></a>
<h3 class="sectiontitle">MMetaDatabase (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>MMetaDatabase</td><td>(</td><td>)</td><td>[protected, explicit]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Protected and explicit constructor - nothing to construct </p>
</div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-1810ECFC-70E8-33B5-BF0D-91DE259FAE02"><a name="GUID-1810ECFC-70E8-33B5-BF0D-91DE259FAE02"><!-- --></a>
<h3 class="sectiontitle">~MMetaDatabase (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~MMetaDatabase</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Virtual destructor - nothing to destroy </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-EF9A71A1-8611-352F-BE14-BCFE967E8B36"><a name="GUID-EF9A71A1-8611-352F-BE14-BCFE967E8B36"><!-- --></a>
<a name="GUID-58268AC8-0699-34D2-9F3D-1C44B85ECEF7"><!-- --></a><h3 class="sectiontitle">CancelNotification ( CMDBSession &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>CancelNotification</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aRequestStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">CancelNotification - cancel an outstanding notification request</p>
<p class="p">note that all outstanding notification requests can be cancelled by a call to</p>
<p class="p">
<a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-A6F8DFD5-DC11-3A38-A7D3-17F710C4BB11">CMDBSession::CancelAllNotifications</a>
</p>
<p class="p">There is an outstanding notification request </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-FFDCD538-A192-3063-92EB-B72E739EDBA2"><a name="GUID-FFDCD538-A192-3063-92EB-B72E739EDBA2"><!-- --></a>
<a name="GUID-AA269F03-390D-3A06-968B-5154D05529DF"><!-- --></a><h3 class="sectiontitle">DeleteL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>DeleteL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Delete fields from the database.</p>
<p class="p">Client can request to ignore access control flags by setting the attribute mask, but only fields that the client has capabilities to delete will be removed.</p>
<p class="p">A request to delete data in unauthorised area will cause the function to leave</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">Ensure the ElementId for this container fully identifies the target data in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
&lt;Record&gt; Ensure that the session object has appropriate access control attributes to manage the target data in the database Ensure the ElementId for this container correcty identifies the target data in the database </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">If</td><td class="leavevalue">client not authorised to read or write the data, will leave with KErrPermissionDenied May also leave with other general error codes if there are unexpected problems (e.g. KErrNoMemory when out of memory)</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D3A313A3-CC4C-3EC9-83FA-DEE17BB312C2"><a name="GUID-D3A313A3-CC4C-3EC9-83FA-DEE17BB312C2"><!-- --></a>
<a name="GUID-AA4E3A7E-EEB7-38B9-A6DC-99C197031235"><!-- --></a><h3 class="sectiontitle">FindL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>FindL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">FindL - Find and Load the data set(s) that match all the data values entered by the client in this container</p>
<p class="p">Client can request to ignore access control flags by setting the attribute mask, <a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">CMDBSession::SetAttributeMask()</a> However will not load data that the client is not authorised to see (by platsec) even if the client has sets the appropriate attribute mask</p>
<p class="p">Will return ETrue on success EFalse if no data found that the client is authorised to view</p>
<p class="p">May also leave with KErrGeneral or other general error codes.</p>
<p class="p">On failure, the container should be discarded or repopulated before it is used again</p>
<p class="p">Please note - a case insensitive search is done in the case of text based fields</p>
<div class="p section retval">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
</dd></dl>
Populate this container where necessary with valid data to match during the find operation Ensure the ElementId for this container correcty identifies the target table in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
Ensure that the session object has been initialised with the correct dataset version Ensure that the session object has appropriate access control attributes to manage the target data in the database </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="p section retval">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-5B2CC7FE-87B8-3A44-91A1-C986B22F6361"><a name="GUID-5B2CC7FE-87B8-3A44-91A1-C986B22F6361"><!-- --></a>
<a name="GUID-229C7B55-B4A8-30D0-80AA-4E2C78C20684"><!-- --></a><h3 class="sectiontitle">LoadL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>LoadL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">LoadL - Load this container with data from the database</p>
<p class="p">Any data in the container will be discarded</p>
<p class="p">Individual fields may legitimately be NULL in the database, but if no data at all is found for an entire table or record, LoadL will leave with KErrNotFound</p>
<p class="p">The client can request to ignore access control flags by setting the attribute mask <a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">CMDBSession::SetAttributeMask()</a> However, only fields that the client has capabilities to write will be stored in the database A request to read data from an unauthorised area of the database will cause the function to leave.with KErrPermissionDenied</p>
<p class="p">In a record, fields in an unauthorised column may be silently ignored and returned as NULL</p>
<p class="p">May also leave with KErrNoMemory or other general error codes</p>
<p class="p">On failure, the container should be discarded or reloaded before it is used again</p>
<div class="p section retval">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
</dd></dl>
Ensure the ElementId for this container fully identifies the target data in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
&lt;Record&gt; Ensure that the session object has been initialised with the correct dataset version Ensure that the session object has appropriate access control attributes to manage the target data in the database</div>
<p class="p">Loads each member of the <a class="xref" href="GUID-D7FBEA06-E011-3316-8676-29C70E885527.html#GUID-D7FBEA06-E011-3316-8676-29C70E885527">MMetaDatabase</a> object from the database. Will (delete and) overwrite any data already in the container. </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="p section retval">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-387CD9A6-255A-36AD-9B6E-3A87D0C60F0F"><a name="GUID-387CD9A6-255A-36AD-9B6E-3A87D0C60F0F"><!-- --></a>
<a name="GUID-9FB2C822-98B6-3AAB-B65C-593B7D99173E"><!-- --></a><h3 class="sectiontitle">ModifyL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>ModifyL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Modify all fields in the database that have been changed in this container by the caller</p>
<p class="p">Modification is atomic for this container. It uses an internal transaction even if no overall transaction set by client. All changed fields in the element are modified in database on success. No fields are altered in the database if the function leaves</p>
<p class="p">Client can request to ignore access control flags by setting the attribute mask <a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">CMDBSession::SetAttributeMask()</a> However, only fields that the client has capabilities to alter will be modified.in the database A request to modify data in an unauthorised area will cause the function to leave.with KErrPermissionDenied</p>
<p class="p">May also leave with other general error codes if there are unexpected problems (e.g. KErrNoMemory when out of memory)</p>
<p class="p">On failure, the container should be discarded or repopulated before it is used again</p>
<div class="p section retval">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
</dd></dl>
Populate this container with valid data for storage Ensure the ElementId for this container fully identifies the target data in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
&lt;Record&gt; Ensure that the session object has been initialised with the correct dataset version Ensure that the session object has appropriate access control attributes to manage the target data in the database</div>
<p class="p">Modifies each changed member of the <a class="xref" href="GUID-D7FBEA06-E011-3316-8676-29C70E885527.html#GUID-D7FBEA06-E011-3316-8676-29C70E885527">MMetaDatabase</a> object in the database </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="p section retval">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-317CFEB7-D84B-3350-B4B0-0CD2EC8FE82D"><a name="GUID-317CFEB7-D84B-3350-B4B0-0CD2EC8FE82D"><!-- --></a>
<a name="GUID-C053A680-17C0-36A9-8119-B367F56AD172"><!-- --></a><h3 class="sectiontitle">RefreshL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>RefreshL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Refresh all fields in the container that have not been changed by the client</p>
<p class="p">The client can request to ignore access control flags by setting the attribute mask, <a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">CMDBSession::SetAttributeMask()</a> However, only data that the client has capabilities to view will be loaded Unauthorised data elements will be silently ignored and will remain NULL</p>
<p class="p">If no data at all is found the functon will leave with KErrNotFound</p>
<p class="p">If fields are not accessible for reading the function may leave with KErrPermissionDenied</p>
<p class="p">May also leave with other general error codes if there are unexpected problems (e.g. KErrNoMemory when out of memory)</p>
<p class="p">On failure, the container should be discarded or reloaded before it is used again</p>
<div class="p section retval">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
</dd></dl>
Ensure the ElementId for this container fully identifies the target data in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
&lt;Record&gt; Ensure that the session object has been initialised with the correct dataset version Ensure that the session object has appropriate access control attributes to manage the target data in the database</div>
<p class="p">Updates each unchanged member of the <a class="xref" href="GUID-D7FBEA06-E011-3316-8676-29C70E885527.html#GUID-D7FBEA06-E011-3316-8676-29C70E885527">MMetaDatabase</a> object from the database </p>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="p section retval">
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D9AC0A44-494D-34AD-A167-BD11F9188229"><a name="GUID-D9AC0A44-494D-34AD-A167-BD11F9188229"><!-- --></a>
<a name="GUID-31A10821-E58A-32DF-A7EF-1840FB34ABEA"><!-- --></a><h3 class="sectiontitle">RequestNotification ( CMDBSession &amp;, TRequestStatus &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>RequestNotification</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span>,</td></tr><tr><td colspan="3"> </td><td><a class="xref xref apiRelation" href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><span class="parameter">aRequestStatus</span></td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">RequestNotification - Register for notification of events from all clients of the database</p>
<p class="p">aRequestStatus will be completed when the following events occur TransactionComplete TransactionRollback SessionClose</p>
<p class="p">this aRequestStatus can be cancelled by a call to</p>
<p class="p">
<a class="xref" href="GUID-D7FBEA06-E011-3316-8676-29C70E885527.html#GUID-EF9A71A1-8611-352F-BE14-BCFE967E8B36">MMetaDatabase::CancelNotification</a>
</p>
<p class="p">all outstanding aRequestStatus can be cancelled by a call to</p>
<p class="p">
<a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-A6F8DFD5-DC11-3A38-A7D3-17F710C4BB11">CMDBSession::CancelAllNotifications</a>
</p>
<div class="p">
					aSession a valid session object  aRequestStatus the requestStatus object that will be completed on notification</div>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">None </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">A notification request will be outstanding </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>KErrNone on success. A system wide error on failure</dd></dl></div>
<div class="section capability"><table class="capability"><tr><th class="capability">Capability</th></tr><tr><td class="capabilitycode">WriteDeviceData</td><td class="capabilityvalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B1D0A4B0-2AC9-3B05-BA6D-2CE1047C5A74"><a name="GUID-B1D0A4B0-2AC9-3B05-BA6D-2CE1047C5A74"><!-- --></a>
<a name="GUID-3354909B-8325-3A45-8688-8C0154389F82"><!-- --></a><h3 class="sectiontitle">StoreL ( CMDBSession &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StoreL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html">CMDBSession</a> &amp;</td><td><span class="parameter">aSession</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">StoreL - Store all fields in the database that have been changed in this container and create new records where necessary.</p>
<p class="p">StoreL is atomic for this container. An internal transaction is used even if no overall transaction is set by client. All changed fields in the element are stored in the database on success. No fields or records are stored in the database if the function leaves</p>
<p class="p">If a client has an open transaction in the session, the stored data will be available to this session as soon as StoreL completes but will not be visible to other sessions until the transaction completes successfully</p>
<p class="p">The client can request to ignore access control flags by setting the attribute mask <a class="xref" href="GUID-4DB53486-95D5-3F59-B54C-19F52ABC6FC0.html#GUID-EDA488BC-2F64-3D8F-A725-609DE721B014">CMDBSession::SetAttributeMask()</a> However, only fields that the client has capabilities to write will be stored in the database A request to modify data in an unauthorised area of the database will cause the function to leave.with KErrPermissionDenied</p>
<p class="p">If a field already exists, StoreL will leave with KErrAlreadyExists</p>
<p class="p">May also leave with other general error codes if there are unexpected problems (e.g. KErrNoMemory when out of memory)</p>
<p class="p">Store will be atomic - all fields stored after success. No fields stored if the function leaves</p>
<p class="p">If StoreL fails or the later commit is not successful, The data in the container will not match the data in the database.</p>
<p class="p">On failure, the container should be discarded or repopulated before it is used again</p>
<div class="p section retval">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">
</dd></dl>
Populate this container with valid data for storage Ensure the ElementId for this container fully identifies the target location in the database <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="strow">
</tr></table>
&lt;Record&gt; Ensure that the session object has been initialised with the correct dataset version Ensure that the session object has appropriate access control attributes to manage the target data in the database </div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters">
<div class="p section retval">
</div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</div></div></div></div></div></div></div></div></div></div></div></div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-D7FBEA06-E011-3316-8676-29C70E885527.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:18:26 GMT -->
</html>