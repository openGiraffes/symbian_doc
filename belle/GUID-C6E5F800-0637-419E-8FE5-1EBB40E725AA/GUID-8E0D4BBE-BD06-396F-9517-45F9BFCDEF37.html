<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">

<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:05 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta name="DC.Type" content="cxxClass" />
<meta name="DC.Title" content="CWspHeaderEncoder" />
<meta name="abstract" content="" />
<meta name="description" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37" />
<title>CWspHeaderEncoder</title>
<meta name="keywords" content="api" /><link rel="stylesheet" type="text/css" href="css/nokiacxxref.css" />
<link href="css/s60/style.css" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp3.html" rel="stylesheet" type="text/css" />
<link href="PLUGINS_ROOT/com.nokia.forum.library/css/category-cover_cpp3.html" rel="stylesheet" type="text/css" /></head>
<body id="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37"><a name="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37"><!-- --></a><div class="body"><div class="contentLeft prTxt">
<h1 class="sectiontitle">CWspHeaderEncoder Class Reference</h1>
<div class="state state apiQualifier apiQualifier cxxClassDeclarationFile section include"><p>#include 
            
                    &lt;wspencoder.h&gt;
                </p></div>
<div class="section signature"><table class="signature"><tr><td>class CWspHeaderEncoder : public CBase</td></tr></table></div><div class="ph ph apiDefItem apiDefItem cxxClassDerivations section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CWspHeaderEncoder<ul class="derivation"><li class="derivation-depth-1 "><a class="xref xref apiRelation apiBaseClassifier cxxClassBaseClass" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">virtual </td><td><a href="#GUID-3166BCBE-BE81-3371-B58A-BFDC0E0CC603">~CWspHeaderEncoder</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7AB624DA-D5A1-3741-B944-33824F2B2E0E">AddDataL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-211B8756-991C-31B0-963C-607007C1F73C">AddDateL</a>(const <a class="xref xref apiRelation" href="GUID-13A9DD2B-8ABC-3D62-B54E-4F5DD5B9228B.html">TDateTime</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-109BFB47-1ED8-396D-9D0A-11EAC144FB54">AddIntegerL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-40B42503-6872-3EC4-8E34-D18FF935B18D">AddLongIntL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-7424FFF1-2659-3041-BC59-962EE130053B">AddShortIntL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-79DC217D-2F7E-30E3-B48E-D8C97FBCF9CD">AddShortLengthL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B7C71D10-161C-3C8C-ABDE-CDB473296270">AddTextStringL</a>(const <a class="xref xref apiRelation" href="GUID-86301BC4-2A98-3F9B-BAE3-A6DE8D3BD632.html">RString</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0F3DD8B8-2068-3214-8FB4-BE9F6475E6FF">AddTextStringL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D959F40B-CFDC-321D-8B00-A4AF29A0AD00">AddTokenL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A0D21B1A-F4F8-3C7F-A2B6-18B4D969B17C">AddTokenTextL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B5D2578C-4C5B-3BAF-8DE5-A989A0EEF000">AddUintVarL</a>(const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-68A186E8-030B-3A0E-BFF0-ACCAD81C7F3D">EndHeaderL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F7DF6D44-AE13-3005-8869-048E50BBAE30">EndValueLengthL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html">CWspHeaderEncoder</a> *</td><td><a href="#GUID-751C37A9-E35D-3769-9292-EDCFA424A815">NewL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a class="xref xref apiRelation" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html">CWspHeaderEncoder</a> *</td><td><a href="#GUID-10E1CE89-BBFC-3923-A6EF-E794B0423E5F">NewLC</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-9958D4E2-BCA4-3119-9792-33F6F13CEEC4">StartHeaderL</a>(<a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-79CA2DAB-6842-37BD-B0CD-214D0C4093CA">StartHeaderL</a>(const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-995CA6DC-AC90-3977-A732-37F75611A488">StartHeaderL</a>(const <a class="xref xref apiRelation" href="GUID-B886F0AA-DB9C-356C-9B96-33252820F93E.html">RStringF</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D35C01C4-10A9-3BED-88F8-695DAC6411B7">StartValueLengthL</a>()</td></tr></tbody></table><table class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a class="xref xref apiRelation apiRelation cxxClassFunctionInherited" href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><div class="section section apiDesc section apidesc"><h2 class="sectiontitle">Detailed Description</h2>
<p class="p">This class can be used to encode one header field at a time, with all its values and parameters.</p>
<p class="p">It has no knowledge of encoding the BNF of a particular header field, but the functions provided can be used in combination, producing an 8-bit buffer containing the encoded header.</p>
<p class="p">Intended usage would be to call a series of functions. The first one being StartHeader, The final one being EndHeader, which would return a buffer containing the complete encoded header field. eg: encoder-&gt;Deprecated<a class="xref" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html#GUID-9958D4E2-BCA4-3119-9792-33F6F13CEEC4">StartHeaderL()</a>; encoder-&gt;<a class="xref" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html#GUID-40B42503-6872-3EC4-8E34-D18FF935B18D">AddLongIntL()</a>; encoder-&gt;<a class="xref" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html#GUID-B7C71D10-161C-3C8C-ABDE-CDB473296270">AddTextStringL()</a>; HBufC8* output = encoder-&gt;<a class="xref" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html#GUID-68A186E8-030B-3A0E-BFF0-ACCAD81C7F3D">EndHeaderL()</a>;  </p>
</div>
<h2 class="sectiontitle">Constructor &amp; Destructor Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-3166BCBE-BE81-3371-B58A-BFDC0E0CC603"><a name="GUID-3166BCBE-BE81-3371-B58A-BFDC0E0CC603"><!-- --></a>
<h3 class="sectiontitle">~CWspHeaderEncoder (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C</td><td>~CWspHeaderEncoder</td><td>(</td><td>)</td><td>[virtual]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Default destructor </p>
</div>
</div>
</div>
<h2 class="sectiontitle">Member Function Documentation</h2><div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7AB624DA-D5A1-3741-B944-33824F2B2E0E"><a name="GUID-7AB624DA-D5A1-3741-B944-33824F2B2E0E"><!-- --></a>
<a name="GUID-9D31038B-E104-32E6-A450-D75056006BBA"><!-- --></a><h3 class="sectiontitle">AddDataL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddDataL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aData</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Adds value as-is to the encoded field.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aData</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-211B8756-991C-31B0-963C-607007C1F73C"><a name="GUID-211B8756-991C-31B0-963C-607007C1F73C"><!-- --></a>
<a name="GUID-42B85838-CD57-341A-9878-70A0AEE55218"><!-- --></a><h3 class="sectiontitle">AddDateL ( const TDateTime )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddDateL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-13A9DD2B-8ABC-3D62-B54E-4F5DD5B9228B.html">TDateTime</a></td><td><span class="parameter">aDate</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field.Encodes parameter value using WSP Date method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aDate</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-109BFB47-1ED8-396D-9D0A-11EAC144FB54"><a name="GUID-109BFB47-1ED8-396D-9D0A-11EAC144FB54"><!-- --></a>
<a name="GUID-863BEA7A-8CFC-3100-BB51-9A0AC89552AC"><!-- --></a><h3 class="sectiontitle">AddIntegerL ( const TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddIntegerL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aInt</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input Integer value and adds it to the encoded field. Choice of encoded form dependent on the size of the input.Either ShortInt or LongInt method chosen.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInt</td><td>Integer value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-40B42503-6872-3EC4-8E34-D18FF935B18D"><a name="GUID-40B42503-6872-3EC4-8E34-D18FF935B18D"><!-- --></a>
<a name="GUID-3F024881-5980-3C5F-9692-61C9D11B9EE3"><!-- --></a><h3 class="sectiontitle">AddLongIntL ( const TUint32 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddLongIntL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a></td><td><span class="parameter">aValue</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP LongInt method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aValue</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-7424FFF1-2659-3041-BC59-962EE130053B"><a name="GUID-7424FFF1-2659-3041-BC59-962EE130053B"><!-- --></a>
<a name="GUID-0D17BD87-D3B2-3371-B798-4F56E148F3D4"><!-- --></a><h3 class="sectiontitle">AddShortIntL ( const TUint8 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddShortIntL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a></td><td><span class="parameter">aValue</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP ShortInt method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aValue</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-79DC217D-2F7E-30E3-B48E-D8C97FBCF9CD"><a name="GUID-79DC217D-2F7E-30E3-B48E-D8C97FBCF9CD"><!-- --></a>
<a name="GUID-EEA3F7A8-000B-3880-B420-A5A87593F4F7"><!-- --></a><h3 class="sectiontitle">AddShortLengthL ( const TUint8 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddShortLengthL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a></td><td><span class="parameter">aValue</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. For short length the value must be between octet 0 - 31.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aValue</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory,</td><td class="leavevalue">KErrOverflow if the value is greater than 31</td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B7C71D10-161C-3C8C-ABDE-CDB473296270"><a name="GUID-B7C71D10-161C-3C8C-ABDE-CDB473296270"><!-- --></a>
<a name="GUID-17CBE28D-2930-3732-A9F7-8E310C26D4C9"><!-- --></a><h3 class="sectiontitle">AddTextStringL ( const RString &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddTextStringL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-86301BC4-2A98-3F9B-BAE3-A6DE8D3BD632.html">RString</a> &amp;</td><td><span class="parameter">aText</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP TextString method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aText</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-0F3DD8B8-2068-3214-8FB4-BE9F6475E6FF"><a name="GUID-0F3DD8B8-2068-3214-8FB4-BE9F6475E6FF"><!-- --></a>
<h3 class="sectiontitle">AddTextStringL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddTextStringL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aText</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP TextString method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aText</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D959F40B-CFDC-321D-8B00-A4AF29A0AD00"><a name="GUID-D959F40B-CFDC-321D-8B00-A4AF29A0AD00"><!-- --></a>
<a name="GUID-EA3EBD5C-7A77-33DA-9FD7-24D6BCA6D614"><!-- --></a><h3 class="sectiontitle">AddTokenL ( const TUint8 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddTokenL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a></td><td><span class="parameter">aToken</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Adds value as-is to the encoded field.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL and StartValueLengthL should have been called. </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">EndValueLengthL needs to be called subsequently. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aToken</td><td>parameter added without encodeing. Should be a valid WSP token, a 8 bit number &gt; 0x7F (i.e. top bit set).  </td></tr></table></div>
</div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-A0D21B1A-F4F8-3C7F-A2B6-18B4D969B17C"><a name="GUID-A0D21B1A-F4F8-3C7F-A2B6-18B4D969B17C"><!-- --></a>
<a name="GUID-D8EDF75C-A56E-3021-8CF9-0F9CBE3E4434"><!-- --></a><h3 class="sectiontitle">AddTokenTextL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddTokenTextL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aTokenText</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP TokenText method.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aTokenText</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-B5D2578C-4C5B-3BAF-8DE5-A989A0EEF000"><a name="GUID-B5D2578C-4C5B-3BAF-8DE5-A989A0EEF000"><!-- --></a>
<a name="GUID-8C3DEDE9-F598-3897-A665-777C9B87F9F3"><!-- --></a><h3 class="sectiontitle">AddUintVarL ( const TUint )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>AddUintVarL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint</a></td><td><span class="parameter">aInt</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Encodes input and adds it to the encoded field. Encodes parameter value using WSP UIntVar method.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL needs to have been called. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aInt</td><td>value to be encoded.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-68A186E8-030B-3A0E-BFF0-ACCAD81C7F3D"><a name="GUID-68A186E8-030B-3A0E-BFF0-ACCAD81C7F3D"><!-- --></a>
<h3 class="sectiontitle">EndHeaderL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>EndHeaderL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Completes and returns encoded field 8 bit buffer. This method will panic if an <a class="xref" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html#GUID-F7DF6D44-AE13-3005-8869-048E50BBAE30">EndValueLengthL()</a> is not called after a StartValueLength().</p>
<p class="p">Note: The final buffer containing the entire encoded header is constructed. Returns buffer containing the encoded field constructed from the first call to StartHeaderL.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">The function StartHeaderL should have been called. </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">Encoder is reset ready to be used again. </dd>
</dl>
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>Pointer to buffer containing the entire encoded field. Responsibility for deallocating the memory is also passed. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode"></td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-F7DF6D44-AE13-3005-8869-048E50BBAE30"><a name="GUID-F7DF6D44-AE13-3005-8869-048E50BBAE30"><!-- --></a>
<h3 class="sectiontitle">EndValueLengthL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>EndValueLengthL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Needs to be called at the point in the construction of a header when ValueLength can be calculated.</p>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL and StartValueLengthL should have been called. </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">ValueLength has been calculated and added, together with the encoded header, to the internal representation of the header buffer. </dd>
</dl>
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-751C37A9-E35D-3769-9292-EDCFA424A815"><a name="GUID-751C37A9-E35D-3769-9292-EDCFA424A815"><!-- --></a>
<h3 class="sectiontitle">NewL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html">CWspHeaderEncoder</a> *</td><td>NewL</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Static factory constructor.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>returns a Pointer to fully constructed CWspHeaderEncoder object. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-10E1CE89-BBFC-3923-A6EF-E794B0423E5F"><a name="GUID-10E1CE89-BBFC-3923-A6EF-E794B0423E5F"><!-- --></a>
<h3 class="sectiontitle">NewLC (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C <a class="xref xref apiRelation" href="GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html">CWspHeaderEncoder</a> *</td><td>NewLC</td><td>(</td><td>)</td><td>[static]</td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Static factory constructor.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefNote cxxFunctionReturnDesc section returnsdoc"><dl class="returnsdoc"><dt class="dlterm">Return Value</dt><dd>returns a Pointer to fully constructed CWspHeaderEncoder object on the Heap. </dd></dl></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-9958D4E2-BCA4-3119-9792-33F6F13CEEC4"><a name="GUID-9958D4E2-BCA4-3119-9792-33F6F13CEEC4"><!-- --></a>
<a name="GUID-5C56EE66-384F-3E53-A917-D383144EE6D3"><!-- --></a><h3 class="sectiontitle">StartHeaderL ( TUint8 )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StartHeaderL</td><td>(</td><td><a class="xref xref apiRelation" href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a></td><td><span class="parameter">aToken</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Starts a new encoded header.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aToken</td><td>field name being encoded as a Token value.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-79CA2DAB-6842-37BD-B0CD-214D0C4093CA"><a name="GUID-79CA2DAB-6842-37BD-B0CD-214D0C4093CA"><!-- --></a>
<h3 class="sectiontitle">StartHeaderL ( const TDesC8 &amp; )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StartHeaderL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><span class="parameter">aString</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Starts a new encoded header.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aString</td><td>Fieldname parameter is encoded as a TextString.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-995CA6DC-AC90-3977-A732-37F75611A488"><a name="GUID-995CA6DC-AC90-3977-A732-37F75611A488"><!-- --></a>
<h3 class="sectiontitle">StartHeaderL ( const RStringF )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StartHeaderL</td><td>(</td><td>const <a class="xref xref apiRelation" href="GUID-B886F0AA-DB9C-356C-9B96-33252820F93E.html">RStringF</a></td><td><span class="parameter">aString</span></td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<p class="p">Starts a new encoded header.</p>
<div class="p">
</div>
</div>
<div class="ph ph apiDefItem apiDefItem cxxFunctionParameters section parameters"><table class="parameters"><tr><th>Parameters</th></tr><tr><td class="parameter">aString</td><td>Fieldname parameter is encoded as a TextString.  </td></tr></table></div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNotSupported</td><td class="leavevalue"></td></tr></table></div></div>
</div>
<div class="topic reference apiRef apiOperation cxxFunction nested1" id="GUID-D35C01C4-10A9-3BED-88F8-695DAC6411B7"><a name="GUID-D35C01C4-10A9-3BED-88F8-695DAC6411B7"><!-- --></a>
<h3 class="sectiontitle">StartValueLengthL (  )</h3>
<div class="body refbody apiDetail apiOperationDetail cxxFunctionDetail section functiondetail"><div class="section signature"><table class="signature"><tr><td>IMPORT_C void</td><td>StartValueLengthL</td><td>(</td><td>)</td><td></td></tr></table></div><div class="section section apiDesc section apidesc">
<div class="p">From calling this function, the length in bytes of all encodings added subsequently will be calculated and stored as part of the encoded string, as specified in WSP spec.Can be nested. i.e. <pre class="pre codeblock">	 encoder-&gt;StartHeaderL();
	 encoder-&gt;StartValueLengthL();
	 encoder-&gt;StartValueLengthL();
	 encoder-&gt;AddLongIntL();
	 encoder-&gt;EndValueLengthL();
	 encoder-&gt;AddTextStringL();
	 encoder-&gt;EndValueLengthL();
	 HBufC8* output = encoder-&gt;EndHeaderL();</pre>
</div>
<div class="p">
<dl class="dl precondition">
<dt class="dt dlterm">Pre-condition</dt>
<dd class="dd">StartHeaderL should have been called. </dd>
</dl>
<dl class="dl postcondition">
<dt class="dt dlterm">Post-condition</dt>
<dd class="dd">EndValueLengthL needs to be called subsequently. </dd>
</dl>
</div>
</div>
<div class="section leave"><table class="leave"><tr><th class="leave">Leave Codes</th></tr><tr><td class="leavecode">KErrNoMemory</td><td class="leavevalue"></td></tr></table></div></div>
</div>
</div></div><div class="footer"><hr /><div class="copy">© Nokia 2005.</div></div>
</body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8E0D4BBE-BD06-396F-9517-45F9BFCDEF37.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:22:05 GMT -->
</html>