
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-FBA52F3B-0A7A-5FE3-82CD-72F88788D432.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:05:10 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Accessing an RTP packet" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617" /><meta name="DC.Relation" scheme="URI" content="GUID-C467E6CD-6656-55F6-BDDF-BFA4F187B14F" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-FBA52F3B-0A7A-5FE3-82CD-72F88788D432" /><meta name="DC.Language" content="en" /><title>Accessing an RTP packet </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-FBA52F3B-0A7A-5FE3-82CD-72F88788D432">Accessing an RTP packet</h1><div><p>This page describes what information about the data in an RTP packet can be accessed. It also describes various types of RTCP packets used to carry a variety of data/control information. </p> <p>The data to be sent to an application is preceded by the RTP header. The data and header are packed into an RTP packet. To send any additional information about the RTP packet, the <a href="#GUID-8D449F84-5512-5697-80FB-FFA63B16DB32">header extension</a> is used. </p> <div><h3 class="section-title">Fixed header</h3> <p>An RTP packet's fixed header contains the following fields: </p> <ul><li id="GUID-719AA32D-6921-5AC7-B7EA-1FED9A2FB922"><a name="GUID-719AA32D-6921-5AC7-B7EA-1FED9A2FB922"><!-- --></a><p>Version: Represents the version of the RTP. </p> </li> <li id="GUID-097519AF-A150-571D-8538-94BD8203F9B0"><a name="GUID-097519AF-A150-571D-8538-94BD8203F9B0"><!-- --></a><p>Padding: Used to round off the bits. If this bit is set, it means the packet contains one or more additional padding octets at the end which are not part of the payload. </p> </li> <li id="GUID-ADCEB6AE-6733-5B57-81A4-1BDCA21DB52D"><a name="GUID-ADCEB6AE-6733-5B57-81A4-1BDCA21DB52D"><!-- --></a><p>Extension: If this bit is set, then the fixed header must be followed by the header extension. </p> </li> <li id="GUID-B7E29E06-0B2A-537B-86DB-D32FE1C92A5C"><a name="GUID-B7E29E06-0B2A-537B-86DB-D32FE1C92A5C"><!-- --></a><p>CSRC count: The number of CSRC (contributing sources) identifiers that follow the fixed header. </p> </li> <li id="GUID-BE615F1F-FCE3-5ADE-8745-76E0007AAF2D"><a name="GUID-BE615F1F-FCE3-5ADE-8745-76E0007AAF2D"><!-- --></a><p>Marker: Allow significant events to be marked in a packet stream. </p> </li> <li id="GUID-893809CF-5028-5EA8-8113-F0FD168551F8"><a name="GUID-893809CF-5028-5EA8-8113-F0FD168551F8"><!-- --></a><p>Payload type: Identifies the format of the RTP payload and determines its interpretation by the application. </p> </li> <li id="GUID-587F14CB-7FE6-56A5-94BD-CEB22B1836F8"><a name="GUID-587F14CB-7FE6-56A5-94BD-CEB22B1836F8"><!-- --></a><p>Sequence number: Is a random number which is incremented by one for each RTP data packet sent. The packet receiver uses it to detect packet loss and to restore packet sequence. </p> </li> <li id="GUID-5A4668FF-3B1F-589A-B716-E9B39246207E"><a name="GUID-5A4668FF-3B1F-589A-B716-E9B39246207E"><!-- --></a><p>Timestamp: reflects the sampling instant of the first octet in the RTP data packet. </p> </li> <li id="GUID-1D08EF82-62CC-50AE-ADA6-89E35DF96371"><a name="GUID-1D08EF82-62CC-50AE-ADA6-89E35DF96371"><!-- --></a><p>SSRC: A random ID to identify the synchronization source. No two synchronization sources within an RTP session have the same SSRC identifier. </p> </li> <li id="GUID-663948AF-20F9-5F8B-B764-76C3A1F43AEB"><a name="GUID-663948AF-20F9-5F8B-B764-76C3A1F43AEB"><!-- --></a><p>CSRC list: The list of CSRCs for the data contained in this packet. The number of identifiers is given by the CC field. </p> </li> </ul> <p>The format for a fixed header is depicted in the following code: </p> <pre class="codeblock">0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |V=2|P|X|  CC   |M|     PT      |       sequence number         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           timestamp                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           synchronization source (SSRC) identifier            |
   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
   |            contributing source (CSRC) identifiers             |
   |                     ....(data is put here)                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre> <p> <code class="codeph">RRtpPacket</code> class allows you to access and set the following fixed header fields for an RTP packet. </p> <ul><li id="GUID-7AEF82E5-E3EE-537F-B6A1-97AA0E774A1A"><a name="GUID-7AEF82E5-E3EE-537F-B6A1-97AA0E774A1A"><!-- --></a><p>Payload </p> </li> <li id="GUID-FD496541-064B-5893-B229-3B5D4BF0D9D5"><a name="GUID-FD496541-064B-5893-B229-3B5D4BF0D9D5"><!-- --></a><p>Sequence Number </p> </li> <li id="GUID-34619311-ED4B-56F8-ADA3-8FA09B99DD5C"><a name="GUID-34619311-ED4B-56F8-ADA3-8FA09B99DD5C"><!-- --></a><p>Time stamp </p> </li> <li id="GUID-4DA2A1BC-32C1-53C1-922E-A9F38DE4D6EA"><a name="GUID-4DA2A1BC-32C1-53C1-922E-A9F38DE4D6EA"><!-- --></a><p>SSRC </p> </li> <li id="GUID-7CE6849B-2DC7-5B54-98D3-D319EC29F354"><a name="GUID-7CE6849B-2DC7-5B54-98D3-D319EC29F354"><!-- --></a><p>CSRCs </p> </li> <li id="GUID-2EB309DB-3996-5B0E-A91A-23F96B4AC8F5"><a name="GUID-2EB309DB-3996-5B0E-A91A-23F96B4AC8F5"><!-- --></a><p>Header Extension </p> </li> <li id="GUID-C7332FFE-1662-5F54-9ACD-7E61F430F943"><a name="GUID-C7332FFE-1662-5F54-9ACD-7E61F430F943"><!-- --></a><p>Payload Type </p> </li> <li id="GUID-A24EEA18-A3E4-5E08-A9B3-9B7AAB72A5D8"><a name="GUID-A24EEA18-A3E4-5E08-A9B3-9B7AAB72A5D8"><!-- --></a><p>Marker </p> </li> </ul> <p>You can get the preceding RTP packet information if a call to <code class="codeph">IsOpen()</code> returns <code class="codeph">ETrue</code>. </p> </div> <div id="GUID-8D449F84-5512-5697-80FB-FFA63B16DB32"><h3 class="section-title">Header extension</h3> <p>To allow additional information to be carried in an RTP data header, an extension mechanism is provided. The header format would look like the following: </p> <pre class="codeblock">    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      defined by profile       |           length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        header extension                       |
   |                             ....                              |
</pre> <p> <code class="codeph">RRtpHeaderExtension</code> class allows you to set the header extension type. You can retrieve the extension type and a pointer descriptor representing the header extension data. </p> </div> <div id="GUID-352B33B6-D02B-5ECB-B154-6CB06C21A377"><h3 class="section-title">Types of RTCP packets</h3> <p>The different types of RTCP packets are used to carry different data or control information. They are described as follows: </p> <ol id="GUID-B17BBF80-0106-5829-8598-9D21E6F428C9"><li id="GUID-0071C9CC-F290-52F6-9DC3-A0EAA20C3C8B"><a name="GUID-0071C9CC-F290-52F6-9DC3-A0EAA20C3C8B"><!-- --></a><p>Receiver Report Packet: For reception statistics from senders who are not active, in combination with Send Report for active senders. </p> </li> <li id="GUID-AF2C44DD-3776-5E85-9E20-5E0FB765C5F7"><a name="GUID-AF2C44DD-3776-5E85-9E20-5E0FB765C5F7"><!-- --></a><p>Sender Report packet: For transmission and reception statistics from active senders. </p> </li> <li id="GUID-2C63BB0C-D0D2-55A9-896E-B5EEC87E3D34"><a name="GUID-2C63BB0C-D0D2-55A9-896E-B5EEC87E3D34"><!-- --></a><p>SDES (Source Description) packet: For sending source description items such as CNAME, NAME, EMAIL, PHONE and so on. </p> </li> <li id="GUID-BB7A9D18-78E3-5512-B25A-3CBA10A586C6"><a name="GUID-BB7A9D18-78E3-5512-B25A-3CBA10A586C6"><!-- --></a><p>Bye packet: For indicating the end of participation. </p> </li> <li id="GUID-4DA8D037-1FF8-5197-A691-CB3157906ED4"><a name="GUID-4DA8D037-1FF8-5197-A691-CB3157906ED4"><!-- --></a><p>APP packet: For sending the application specific data. </p> </li> </ol> </div> <div><h3 class="section-title">Contributed sources</h3> <p>A Contributed sources (CSRC) is a source of a stream of RTP packets that has contributed to the combined stream produced by an RTP mixer. The mixer inserts a list of the SSRC identifiers of the sources that contributed to the generation of a specific packet into the RTP header. This list is called the CSRC list. </p> <p>For example, in an audio conferencing a mixer indicates all the speakers whose speech is combined to produce the outgoing packet. This allows the receiver to indicate the current speaker, even though all the audio packets contain the same SSRC identifier of that of the mixer. </p> <p> <code class="codeph">RRtpCSRCs</code> allows you to retrieve the number of CSRCs in a given RTP packet. Get a specific CSRC using <code class="codeph">Count()</code> and index <code class="codeph">operator[]</code> respectively. </p> <pre class="codeblock">TUint operator[](TUInt aIndex) const;</pre> <p>Specify the index value. 0 indicates the first CSRC. </p> </div> </div></div></div><div class="footer"><p class="metadata">Last updated November 20th, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-FBA52F3B-0A7A-5FE3-82CD-72F88788D432.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:05:10 GMT -->
</html>