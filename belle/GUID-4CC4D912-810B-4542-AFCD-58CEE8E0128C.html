
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:15 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Open C libz Example" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609" /><meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E" /><meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C" /><meta name="DC.Language" content="en" /><title>Open C libz Example </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C">Open C libz Example</h1><div>
<p>The example demonstrates how to use the libz library to compress
a file and decompress it. The library can compress and decompress
any kind of file (txt, doc, xls, xml, mpeg, ppt, mp3 etc). </p>
<div id="GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-GUID-F0AFBFFC-792B-4486-A359-7823DD0B3B51"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-4e9f70e8-96f8-45be-90fc-00c9071cf562.zip" target="_blank"> openclibz.zip</a></p><p>Click: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-4e9f70e8-96f8-45be-90fc-00c9071cf562.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-4e9f70e8-96f8-45be-90fc-00c9071cf562.html">browse</a> to view the example code. </p> </div>
<div id="GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-GUID-F0AFBFFC-792B-4486-A359-7823DD0B3B51"><h3 class="section-title">Design
and Implementation</h3> <p>The following sections provide more
information about the steps that the example performs. </p> <p><strong>Capabilities</strong> </p>Program capabilities are defined in <code>openclibz.mmp</code>: <code class="codeph">CAPABILITY None</code><p><strong>Implementation
details of EXE</strong> </p>This example is a console based application.
This application can be launched from the icon (openclibz) in installed
folder and also from eshell.  When we launch it through icon it prompts
the user to enter the mode to process. The strategy parameter is used
to select the compression algorithm. For compressing a file, it reads
the file and then compresses it using the API of the libz library
and then stores the compressed content in a (.gz) file. If you want
to decompress, type d.  For decompressing a file, it opens the compressed
(.gz) file using libz API's  and then reads the content and decompresses
it . To check what happens to the content of the string after compression
then type s. Enter the string you want and see the data in compressed
format .   This option is to demonstrate compression of string using
libz API's.<p>To run this application through eshell: </p><div class="p"><pre class="codeblock"> Usage :  openclibz [-d] [-f] [-h] [-r] [-1 to -9] [files...]
   -d : decompress
   -f : compress with Z_FILTERED
   -h : compress with Huffman encoding
   -r : compress with run-length encoding
   -1 to -9 : compression level
   files : absolute path of files
</pre></div><p><strong>Some usage tips</strong></p><p>Once you choose compression
process, enter the file name. You should provide absolute path of
the file you want to compress.  <code>(drive letter):\[(folder
name)\]filename</code>.   To get : on phone you have to press
1 few times.  To get on phone you have to press 1 few times.  To get
on emulator is bit tricky. If you are lucky then pressing 1 will get
it for you, otherwise change the mode. using "\ BUTTON" (Just above
the enter button in the keyboard) and then try pressing 1.  To press
enter on phone we are supposed to press 0 four times. </p><p><strong>Cross
platform usage</strong></p><p>We can compress the file on any platform
and uncompress it on any other platform.  For example Unix's gzip
files can be compressed using the example application and decompressed
using Unix's gunzip.   Compression can be done in a single step, if
the buffers are large enough; or compression can be done by repeated
calls of the compression function. In the second scenario, application
must provide more input and consume the output (providing more output
space) before each call. </p></div>
<div id="GUID-D72E3F44-9925-456B-9B1D-FBCBAC2548DA"><h3 class="section-title"><!--no section title--></h3><strong>APIs Used</strong><p><code class="codeph">compress</code>, <code class="codeph">uncompress</code>, <code class="codeph">gzopen</code>, <code class="codeph">gzclose</code>, <code class="codeph">gzread</code>, <code class="codeph">gzwrite</code>, <code class="codeph">gzerror</code> from libz library</p><p> <code class="codeph">fopen</code>, <code class="codeph">fclose</code>, <code class="codeph">fread</code>, <code class="codeph">fwrite</code>, <code class="codeph">mmap</code>, <code class="codeph">munmap</code>, <code class="codeph">fstat</code>, <code class="codeph">unlink</code>, <code class="codeph">printf</code>, <code class="codeph">scanf</code> from libc library </p></div>
<div id="GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-GUID-F0AFBFFC-792B-4486-A359-7823DD0B3B51"><h3 class="section-title">Building
and Using</h3> <p>The Symbian build process describes how to build
this example application. </p> To build the example application, go
to the openclibz\group directory and build the application.  The definition
for the whole application can be found in the bld.inf file in the
group subdirectory of the applications main directory. </div>
</div></div></div><div class="footer"><p class="metadata">Last updated July 29th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:16 GMT -->
</html>