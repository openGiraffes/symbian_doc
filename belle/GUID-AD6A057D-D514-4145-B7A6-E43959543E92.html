
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-AD6A057D-D514-4145-B7A6-E43959543E92.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:59:26 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="HTTP Proxy Property" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C" /><meta name="DC.Relation" scheme="URI" content="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8" /><meta name="DC.Relation" scheme="URI" content="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639" /><meta name="DC.Relation" scheme="URI" content="GUID-F9184A82-A467-5022-B02F-2FDF52258618" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-AD6A057D-D514-4145-B7A6-E43959543E92" /><meta name="DC.Language" content="en" /><title>HTTP
Proxy Property </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92">HTTP
Proxy Property</h1><div>
<p>By default, a new <code class="codeph">RHTTPSession</code> is set to make direct connections
to an origin server. To switch it to use a proxy, the following two properties
must be set: <code class="codeph">HTTP::EProxyUsage</code> and <code class="codeph">HTTP::EProxyAddress</code>. </p>
<ul>
<li id="GUID-6E1C24B1-590B-5FFE-8C00-FDF030B22B19"><a name="GUID-6E1C24B1-590B-5FFE-8C00-FDF030B22B19"><!-- --></a><p> <code class="codeph">HTTP::EProxyUsage</code> can
take the values <code class="codeph">HTTP::EDoNotUseProxy</code> (the default) or <code class="codeph">HTTP::EUseProxy</code>. </p> </li>
<li id="GUID-DDAE87A1-A5E8-53CD-A6C7-464066930AB8"><a name="GUID-DDAE87A1-A5E8-53CD-A6C7-464066930AB8"><!-- --></a><p> <code class="codeph">HTTP::EProxyAddress</code> must
be set using an <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B886F0AA-DB9C-356C-9B96-33252820F93E.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B886F0AA-DB9C-356C-9B96-33252820F93E.html"><code class="apiname">RStringF</code></a> value that contains the proxy
address as an IP Address and port number separated by a colon, for example,
"10.158.7.4:9003". </p> </li>
</ul>
<pre class="codeblock">void CHttpClient::SetProxyL(RStringF aProxyAddr)
    {
    RHTTPConnectionInfo connInfo = iSess.ConnectionInfo();
    THTTPHdrVal proxyUsage(iSess.StringPool().StringF(HTTP::EUseProxy,RHTTPSession::GetTable()));
    connInfo.SetPropertyL(iSess.StringPool().StringF(HTTP::EProxyUsage,RHTTPSession::GetTable()), proxyUsage);

    THTTPHdrVal proxyAddr(aProxyAddr);
    connInfo.SetPropertyL(iSess.StringPool().StringF(HTTP::EProxyAddress,RHTTPSession::GetTable()), aProxyAddr);

    Printf(_L("Proxy set to:%S\n\n"), &amp;iProxyName);
    }</pre>
<p>Changes made to the proxy settings will affect only new transactions opened
on the session, and not any currently in progress. </p>
<div id="GUID-AEA826D4-0F86-4817-8B06-BB0FA0799525"><h3 class="section-title">Transaction proxy properties</h3><p>A proxy setting can
be set for an individual transaction by setting the proxy properties on the
transaction. Proxy properties set on the transaction override any proxy properties
set on the session. </p></div>
</div></div></div><div class="footer"><p class="metadata">Last updated December 7th, 2009</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-AD6A057D-D514-4145-B7A6-E43959543E92.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:59:26 GMT -->
</html>