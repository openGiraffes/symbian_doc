
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-BE893F87-E7F6-56E5-BD27-328B532F8332.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:07 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Hello World Example: Using P.I.P.S." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609" /><meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E" /><meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-BE893F87-E7F6-56E5-BD27-328B532F8332" /><meta name="DC.Language" content="en" /><title>Hello World Example: Using P.I.P.S. </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-BE893F87-E7F6-56E5-BD27-328B532F8332">Hello World Example: Using P.I.P.S.</h1><div>
<p>This example application shows a simple EXE and DLL written using
P.I.P.S. (P.I.P.S. Is POSIX on Symbian Platform). It also shows the
dynamic lookup of symbols by name mechanism used in Unix-like operating
systems, instead of the native Symbian Platform lookup by ordinal
mechanism. P.I.P.S., from Symbian OS v9.3, provides APIs from <code>libdl</code> library to implement this lookup by name mechanism. </p>
<p>The example defines a simple DLL using the P.I.P.S. <code class="codeph">STDDLL</code> target type, with an exported function. It also creates a simple
EXE, using the <code class="codeph">STDEXE</code> target type, which calls the
DLL's exported function using the lookup by name mechanism. These
P.I.P.S. specific target types are required to enable the specific
options for compilers and linkers to generate P.I.P.S. executables
and to make symbol information available in the executable image. </p>
<div id="GUID-F39633E1-9E29-45BA-9F11-66E011B16687"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-42af5ea2-87c6-46ef-b872-af35876c73c7.zip" target="_blank">HelloWorldExample.zip</a></p><p>Click: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-42af5ea2-87c6-46ef-b872-af35876c73c7.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-42af5ea2-87c6-46ef-b872-af35876c73c7.html">browse</a> to view the example code. </p> </div>
<div id="GUID-459D68E3-EC28-4F21-858A-10678A443EEE"><h3 class="section-title">Description</h3> <p>The following sections provide more information about the example. </p> <p><strong> Creating a simple DLL using P.I.P.S. STDDLL target type</strong> </p> <p>The example creates a DLL file that declares and defines
an exported function. The target type of this DLL file is <code class="codeph">STDDLL</code>. It contains a header and a source file: </p> <ul>
<li id="GUID-A0857840-AD8C-5313-A642-801A79382855"><a name="GUID-A0857840-AD8C-5313-A642-801A79382855"><!-- --></a><p> <code>helloworlddllexample.h</code>: this declares a function with external linkage. Note that for a <code class="codeph">STDDLL</code> library, functions and data with external linkage
are exported by default, without any requirement for <code class="codeph">IMPORT_C</code> and <code class="codeph">EXPORT_C</code> declarations in header or source files. </p> </li>
<li id="GUID-973CE8AE-5B87-5234-8145-20A6632E7F9C"><a name="GUID-973CE8AE-5B87-5234-8145-20A6632E7F9C"><!-- --></a><p> <code>helloworlddllexample.cpp</code>: this defines the function declared in the header file, which displays
a hello world message to the console. </p> </li>
</ul> <p><strong> Creating a simple EXE using P.I.P.S. STDEXE target type</strong> </p> <p>The example creates an EXE file which calls the exported
function of the loaded DLL. The target type of this EXE file is <code class="codeph">STDEXE</code>. It calls the following <code>libdl</code> functions to use the lookup by name mechanism: </p> <ul>
<li id="GUID-08422DA9-EE4F-502C-8D31-EB19BC86F98B"><a name="GUID-08422DA9-EE4F-502C-8D31-EB19BC86F98B"><!-- --></a><p> dlopen(): This function is used to load the DLL file which contains an exported
function. </p> </li>
</ul> <ul>
<li id="GUID-0EC17FCA-7B6A-5FBF-8693-1C4BD629F553"><a name="GUID-0EC17FCA-7B6A-5FBF-8693-1C4BD629F553"><!-- --></a><p> dlsysm(): This function gets the address of a symbol defined within the DLL
loaded by the <code class="codeph">dlopen()</code> call. </p> </li>
</ul> <ul>
<li id="GUID-EFC5BA53-F378-5D2B-A550-1055DA8CBAD7"><a name="GUID-EFC5BA53-F378-5D2B-A550-1055DA8CBAD7"><!-- --></a><p> dlclose(): This function informs the system that the DLL loaded by a previous <code class="codeph">dlopen()</code> call is no longer needed by the application. </p> </li>
</ul> <ul>
<li id="GUID-B6003F4A-8919-5D15-844E-294A9020A2C2"><a name="GUID-B6003F4A-8919-5D15-844E-294A9020A2C2"><!-- --></a><p> dlerror(): This function is used to get the last error that occurred from
any of the <code>libdl</code> APIs. </p> </li>
</ul> <p>The EXE links to <code>libdl.lib</code> to use these
functions. </p> </div>
<div id="GUID-15EDF774-BC24-4BD5-A185-697DCFDCF732"><h3 class="section-title">Build</h3> <p>The <code>HelloWorldExample</code> builds two files,
a DLL file <code>helloworlddllexample.dll</code>, and an EXE
file <code>helloworldexeexample.exe</code>, in the standard
locations. </p> <p>To run the example, start <code>helloworldexeexample.exe</code> from the file system or from your IDE. After launching the executable,
depending on the emulator you are using, you may need to navigate
away from the application launcher or shell screen to view the console. </p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated August 30th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-BE893F87-E7F6-56E5-BD27-328B532F8332.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:08 GMT -->
</html>