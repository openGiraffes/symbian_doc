
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-80F2A7AC-6E86-54F2-96F0-4417A2AEA017.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:33 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Handle-numbers" /><meta name="abstract" content="This document describes the use of handle-numbers to identify handles." /><meta name="description" content="This document describes the use of handle-numbers to identify handles." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783" /><meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87" /><meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D" /><meta name="DC.Relation" scheme="URI" content="GUID-2EAAE194-FAE1-5545-A678-72973E9B72A7" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-80F2A7AC-6E86-54F2-96F0-4417A2AEA017" /><meta name="DC.Language" content="en" /><title>Handle-numbers </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-80F2A7AC-6E86-54F2-96F0-4417A2AEA017">Handle-numbers</h1><div><p>This document describes the use of handle-numbers to identify handles.</p>
<p>A handle is a way in which a thread or process can identify an object that
is owned or managed by another thread or process. Such objects are Kernel
side objects.</p>
<p>A handle uses a number, the handle-number, to identify the associated Kernel
side object. The handle, an instance of a <code class="codeph">RHandleBase</code> derived
class, encapsulates the handle-number.</p>
<p>The objects referred to by handles are always instances of <code class="codeph">CObject</code> derived
classes, i.e. they are reference counting objects. The handle-number is created
when the object is created (or opened, if the object already exists) and added
to an object index.</p>
<p>Typically, calling <code class="codeph">Open()</code> or <code class="codeph">Create()</code> or
a similarly named function on an <code class="codeph">RHandleBase</code> <em>derived</em> class
causes the associated object to be created or opened and added to an object
index, owned either by the thread or the process. Adding the object to the
object index creates a handle-number and this is returned to, and encapsulated
by, the handle.</p>
<p>For example, <code class="codeph">RMutex</code> is the handle for a mutex; all user
side interaction with a specific mutex is directed through an instance of <code class="codeph">RMutex</code>.
The <code class="codeph">RMutex</code> object exists on the user side; the corresponding
mutex (a DMutex object) exists on the Kernel side.</p>
<div class="figure" id="GUID-86253ED0-C374-52C5-BF3E-463D09A3ECD3"><img src="GUID-8E907968-E6F8-5792-9B04-664971762FFF_d0e308064_href.png" /></div>
<p>Here, code running on the user side constructs an <code class="codeph">RMutex</code> and
calls its <code class="codeph">Create()</code> member function. This causes the Kernel
to:</p>
<ul>
<li id="GUID-69E652C5-BC3E-5C2C-95DE-8F0BC5DF6C13"><a name="GUID-69E652C5-BC3E-5C2C-95DE-8F0BC5DF6C13"><!-- --></a><p>construct the corresponding
Kernel object, a <code class="codeph">DMutex</code> </p> </li>
<li id="GUID-CA86B942-A4CA-5E9E-BA36-2E581C01C646"><a name="GUID-CA86B942-A4CA-5E9E-BA36-2E581C01C646"><!-- --></a><p>add the <code class="codeph">DMutex</code> to
the current thread's object index (a <code class="codeph">CObjectIx</code>)</p> </li>
<li id="GUID-6BD33635-074D-59CB-BB7E-1AF6F0290481"><a name="GUID-6BD33635-074D-59CB-BB7E-1AF6F0290481"><!-- --></a><p>return the handle-number
to the RMutex.</p> </li>
</ul>
<pre class="codeblock">...
RMutex m;
m.Create();
...</pre>
<p>See also:</p>
<ul>
<li id="GUID-B218DFCC-054D-53ED-9C36-9947C1BC2895"><a name="GUID-B218DFCC-054D-53ED-9C36-9947C1BC2895"><!-- --></a><p><a href="GUID-A95CDFDE-285F-5DE2-AADE-29B2B9663757.html">The
object index</a> </p> <p><a href="GUID-8C4EB8E0-78F0-553D-91AE-EC070A47B0EE.html">The
handle-number and the object index</a> </p> <p><a href="GUID-A52E8853-9A8A-5B66-A2B0-F943B32AA5C6.html">Reference
counting objects</a> </p> </li>
</ul>
</div></div></div><div class="footer"><p class="metadata">Last updated January 19th, 2010</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-80F2A7AC-6E86-54F2-96F0-4417A2AEA017.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:35 GMT -->
</html>