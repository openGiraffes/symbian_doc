
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-7918A2CD-0993-5909-ADC9-54D72D29226F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:49:56 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="IAS queries" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-227B6970-A536-470F-B5A1-A1871F65D7F3" /><meta name="DC.Relation" scheme="URI" content="GUID-7883F1FE-C12F-5E65-A1AD-AA3DCDC29868" /><meta name="DC.Relation" scheme="URI" content="GUID-D9BB06D6-8192-5559-A93B-7F50DF88A840" /><meta name="DC.Relation" scheme="URI" content="GUID-14647210-3DEB-5A66-916C-961F66D09990" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-7918A2CD-0993-5909-ADC9-54D72D29226F" /><meta name="DC.Language" content="en" /><title>IAS queries </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-7918A2CD-0993-5909-ADC9-54D72D29226F">IAS queries</h1><div><p>IrDA Information Acces Service (IAS) database queries are handled on the client side through the <code class="codeph">RNetDatabase</code> class. </p> <p>After instantiating and opening an <code class="codeph">RNetDatabase</code> object, an IAS query is constructed from a <code class="codeph">TIASQuery</code> object. The constructor of a <code class="codeph">TIASQuery</code> requires two descriptors containing the IAS query class name and attribute name. The <code class="codeph">TIASQuery</code> constructor also takes the remote device address of a discovered machine because when a query is made, the underlying IrLAP connection may not have been established.</p> <p>At the protocol level, the IAS query code has been designed to kick up IrLAP and IrLMP layer connections if they are not present. An <code class="codeph">RNetDatabase::Query()</code> call is invoked using a <code class="codeph">TIASResponse</code> instance and the previously constructed <code class="codeph">TIASQuery</code> object. This is an asynchronous call which completes with:</p> <ul><li id="GUID-D39D83F3-0C30-566E-8E64-C910D295D780"><a name="GUID-D39D83F3-0C30-566E-8E64-C910D295D780"><!-- --></a><p><code class="codeph">KErrNone</code>, if the query is successfully completed.</p> </li> <li id="GUID-95C40BFA-C296-5E40-8704-39761A6454AA"><a name="GUID-95C40BFA-C296-5E40-8704-39761A6454AA"><!-- --></a><p><code class="codeph">KErrBadName</code>, if no such class has been found on the remote device’s IAS.</p> </li> <li id="GUID-F98C39CB-4CF1-51C3-8608-ECE0B91F5CF7"><a name="GUID-F98C39CB-4CF1-51C3-8608-ECE0B91F5CF7"><!-- --></a><p><code class="codeph">KErrUnknown</code> ,if the class is present but not the queried attribute.</p> </li> </ul> <p>The application writer is assumed to have some knowledge of the format of IAS queries and responses even though comprehensive IAS response parsing functions are exported from the <code class="codeph">TIASResponse</code> class. IAS response strings have the following valid formats:</p> <div class="figure" id="GUID-A08AE0AF-7831-5448-AAEA-B62B04BF8EB8"><img src="GUID-D65DBB24-C56D-5593-BDA8-A03D41F97950_d0e63903_href.png" /></div> <p>Examples of key valid IAS queries and response types are given below with the Class and Attribute Names taking exactly the format they must pass on to a <code class="codeph">TIASQuery</code> constructor.</p> <div class="tablenoborder"><a name="GUID-A8BA686F-55C1-52BF-A7C6-F2BEF3069CC5"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-A8BA686F-55C1-52BF-A7C6-F2BEF3069CC5" frame="border" border="1" rules="all"><tbody><tr class=""><td class="cellrowborder" valign="top"><p><strong>IAS Class Name</strong> </p> </td> <td class="cellrowborder" valign="top"><p><strong>IAS Attribute Name</strong> </p> </td> <td class="cellrowborder" valign="top"><p><strong>Description of response</strong> </p> </td> <td class="cellrowborder" valign="top"><p><strong>Response Type and Offset</strong> </p> </td> </tr> <tr class="bg "><td class="cellrowborder" valign="top"><p><code class="codeph">Device</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">DeviceName*</code> </p> </td> <td class="cellrowborder" valign="top"><p>Remote machine’s device nickname.</p> </td> <td class="cellrowborder" valign="top"><p>Type 3. User string.</p> </td> </tr> <tr class=""><td class="cellrowborder" valign="top"><p><code class="codeph">Device</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrLMPSupport*</code> </p> </td> <td class="cellrowborder" valign="top"><p>Level of IrMUX and IAS supported by remote station.</p> </td> <td class="cellrowborder" valign="top"><p>Type 2. Octet sequence.</p> </td> </tr> <tr class="bg "><td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrCOMM</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">Parameters</code> </p> </td> <td class="cellrowborder" valign="top"><p>Collection of one or more parameters indicating the level of IrCOMM support</p> </td> <td class="cellrowborder" valign="top"><p>Type 2. Octet sequence.</p> </td> </tr> <tr class=""><td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrCOMM</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrLMP:LsapSel</code> </p> </td> <td class="cellrowborder" valign="top"><p>Range of remote IrMUX port numbers for IrCOMM service.</p> </td> <td class="cellrowborder" valign="top"><p>Type 1. Integer.</p> </td> </tr> <tr class="bg "><td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrCOMM</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:TinyTP:LsapSel</code> </p> </td> <td class="cellrowborder" valign="top"><p>Range of remote IrMUX port numbers for TinyTP service.</p> </td> <td class="cellrowborder" valign="top"><p>Type 1. Integer.</p> </td> </tr> <tr class=""><td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrCOMM</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:InstanceName</code> </p> </td> <td class="cellrowborder" valign="top"><p>Used to distinguish between otherwise identical IAS objects on remote station.</p> </td> <td class="cellrowborder" valign="top"><p>Type 3. User string.</p> </td> </tr> <tr class="bg "><td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrOBEX</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:TinyTP:LsapSel</code> </p> </td> <td class="cellrowborder" valign="top"><p>Range of IrMUX port numbers for IrOBEX service</p> </td> <td class="cellrowborder" valign="top"><p>Type 1. Integer.</p> </td> </tr> <tr class=""><td class="cellrowborder" valign="top"><p><code class="codeph">IrLPT</code> </p> </td> <td class="cellrowborder" valign="top"><p><code class="codeph">IrDA:IrLMP:LsapSel</code> </p> </td> <td class="cellrowborder" valign="top"><p>Range of remote IrMUX port numbers for remote station IrLPT (applies to IrDA printers only).</p> </td> <td class="cellrowborder" valign="top"><p>Type 1. Integer.</p> </td> </tr> </tbody> </table></div> <p>* Note that these two “Device” class attributes must be supported by an IrDA-compliant remote station.</p> <p>The classes <code class="codeph">RNetDatabase</code>, <code class="codeph">TIASQuery</code> and <code class="codeph">TIASResponse</code> are used for querying a remote station’s IAS server.</p> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-7918A2CD-0993-5909-ADC9-54D72D29226F.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:49:58 GMT -->
</html>