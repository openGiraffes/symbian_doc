
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:09:23 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="How to use wrapping" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D" /><meta name="DC.Relation" scheme="URI" content="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7" /><meta name="DC.Relation" scheme="URI" content="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025" /><meta name="DC.Relation" scheme="URI" content="GUID-136540F0-108A-5794-A0FE-D95260F4E59B" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96" /><meta name="DC.Language" content="en" /><title>How to use wrapping </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96">How to use wrapping</h1><div><p>After any operation which resizes the <em>text
        area</em>, the wrapping width may need to be changed. The code in this section resets the view rectangle, and then resets the wrapping width accordingly.</p> <ul><li id="GUID-0027B472-465C-537F-8F40-641997F362A1"><a name="GUID-0027B472-465C-537F-8F40-641997F362A1"><!-- --></a><p>Resize the view rectangle (an instance of class <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-101762DC-E498-3325-88AB-B0FF17DC62B6.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-101762DC-E498-3325-88AB-B0FF17DC62B6.html"><code class="apiname">TRect</code></a>) by shrinking it by forty pixels in both directions.</p> </li> <li id="GUID-49E7E1FD-C954-5097-B11F-AE0FF9ED9384"><a name="GUID-49E7E1FD-C954-5097-B11F-AE0FF9ED9384"><!-- --></a><p>Reset the view rectangle using <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html#GUID-3D04D758-B829-34C6-9B22-C51F58D0316C"><code class="apiname">CTextView::SetViewRect()</code></a>.</p> </li> </ul> <pre class="codeblock">iViewRect.Shrink(40,40);
iTextView-&gt;SetViewRect(iViewRect);
iTextView-&gt;HandleGlobalChangeL(); 
    // update formatting and draw the completely revamped view</pre> <p>The following code sets the wrapping width to be the width of the new view rectangle minus the total margin width, so that text wraps at the right hand edge of the view rectangle.</p> <ul><li id="GUID-BF3388F7-13D4-5C72-959E-751CDA7D9C10"><a name="GUID-BF3388F7-13D4-5C72-959E-751CDA7D9C10"><!-- --></a><p>To ensure that text wrapping is set, use <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html#GUID-B8C93ECC-1BEA-321F-AF2A-AF534212900F"><code class="apiname">CTextLayout::DisableWrapOverride(EFalse)</code></a>. By default, wrapping is set.</p> </li> <li id="GUID-B27EE3E1-0716-563B-9063-5A3463412636"><a name="GUID-B27EE3E1-0716-563B-9063-5A3463412636"><!-- --></a><p>As the wrapping width is a global document characteristic, changes to it may be handled using <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html#GUID-903D1087-42CB-32EB-8379-7B019936AD16"><code class="apiname">CTextView::HandleGlobalChangeL()</code></a>.</p> </li> </ul> <pre class="codeblock">// Wrap text to new view rectangle
TInt labelsWidth,lineCursorWidth;
// Get both margin widths
iTextView-&gt;MarginWidths(labelsWidth,lineCursorWidth);
// New wrap width = new view rect width minus total margin width
iLayout-&gt;SetWrapWidth(iViewRect.Width()-(labelsWidth+lineCursorWidth));
iLayout-&gt;DisableWrapOverride(EFalse); // Ensure wrapping on
iTextView-&gt;HandleGlobalChangeL();</pre> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1B58FBA8-4E2C-5A99-A4B7-D7475E1B8F96.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:09:23 GMT -->
</html>