
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:16 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Open C MessageQueue Library Example" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609" /><meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E" /><meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA" /><meta name="DC.Language" content="en" /><title>Open C MessageQueue Library Example </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA">Open C MessageQueue Library Example</h1><div>
<p>The Message Queue Library example demonstrates how to use Open
C APIs for developing applications that use Open C standard libraries
on Symbian platform. This example uses the APIs of the message queue
library to create/close message queues and send/receive messages and
also get information on created message queues. </p>
<div id="GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-GUID-6C2308FC-690F-41B6-84CB-775FFFADE3A0"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-9db026cc-ac23-4593-8bbc-4b251c085d4f.zip" target="_blank"> opencmessagequeuelibraryex.zip</a></p><p>Click: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-9db026cc-ac23-4593-8bbc-4b251c085d4f.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-9db026cc-ac23-4593-8bbc-4b251c085d4f.html">browse</a> to view the example code. </p> </div>
<div id="GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-GUID-6C2308FC-690F-41B6-84CB-775FFFADE3A0"><h3 class="section-title">Design
and Implementation</h3> <p>The following sections provide information
about the implementation of the example. </p><p><strong>Description</strong></p><p>OpenCMessageQueueClientEx is a C Application that uses the
 Message Queue library. This application uses main() as the entry
point for the application. This is a simple console based application.
The application uses Message Queue library (OpenCMessageQueueLibrary.dll)
APIs.  The Main thread of the application creates two message queues,
and two threads. Thread one will send message to message queue 1 and
waits for messages from message queue 2. Then thread one will send
message to message queue 2 and waits for messages from message queue
1. If a user tries to create a message queue using OpenCMessageQueueLibrary.dll
with the already existing name, it will just return the existing message
queue Id. The application has its own icon and can be launched from
the UI both in the emulator  and in the device. </p><p><strong>Capabilities</strong> </p> The program capabilities are defined in:  <code>MessageQueueLibrary.mmp</code> (DLL - library):<code class="codeph"> CAPABILITY ALL -TCB</code> <code>MessageQueueClient.mmp</code>(EXE - application): <code class="codeph">CAPABILITY
NONE</code>. <p><strong>Module hierarchy</strong> </p>This application has
2 modules as below:  <p>Message Queue Library (DLL) that exports set
of apis for the user.</p><p>OpenCMessageQueueLibraryEx\engine : The
application (EXE) that demonstrates the usage of Open C APIs and also
those APIs exported by Message Queue Library.</p><p> (OpenCMessageQueueLibraryEx\exe)
: This example will create a DLL which exports set of generic APIs
with which the user can do message queue related operations.   To
give a rough idea on how to use these apis, an EXE is provided that
creates threads and does send/receive on message queues using those
exported apis.</p><p><strong>APIs used</strong></p><p>msgget </p><p> msgctl
 </p><p>msgrcv  </p><p>msgsnd  </p><p>semget  </p><p>semctl </p><p> semop </p> </div>
<div id="GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-GUID-6C2308FC-690F-41B6-84CB-775FFFADE3A0"><h3 class="section-title">Building
and Using</h3> To build the Message Queue Library example application,
go to the <code>OpenCMessageQueueLibraryEx\group</code> directory
and build the application.  The Message Queue Library application
consists of two modules, which should be built in the following order:
  engine - which builds the generic message queue library  exe - which
builds an EXE that demonstrates the usage of this library  The definition
for the whole application can be found in the<code>bld.inf</code>in the group subdirectory of the applications main directory. </div>
</div></div></div><div class="footer"><p class="metadata">Last updated July 29th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:17 GMT -->
</html>