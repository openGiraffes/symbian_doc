
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-E161AB84-1B24-53AF-B313-D68CF9F8EE60.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:12 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Pointers to the start and end of contiguous regions" /><meta name="abstract" content="The Back() and End() functions point to locations in memory for flat and segmented arrays." /><meta name="description" content="The Back() and End() functions point to locations in memory for flat and segmented arrays." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783" /><meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87" /><meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D" /><meta name="DC.Relation" scheme="URI" content="GUID-2E085BAD-AAD7-5D1A-89A7-287EE42D1069" /><meta name="DC.Relation" scheme="URI" content="GUID-E3F403EE-717B-5EA6-BC4E-6840097CAC10" /><meta name="DC.Relation" scheme="URI" content="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-E161AB84-1B24-53AF-B313-D68CF9F8EE60" /><meta name="DC.Language" content="en" /><title>Pointers
to the start and end of contiguous regions </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-E161AB84-1B24-53AF-B313-D68CF9F8EE60">Pointers
to the start and end of contiguous regions</h1><div><p>The <code class="codeph">Back()</code> and <code class="codeph">End()</code> functions
point to locations in memory for flat and segmented arrays.</p>
<p>For those arrays of same length elements which are derived from <code class="codeph">CArrayFix&lt;class T&gt;</code>,
the elements are contained within an array buffer which can be implemented
as a flat buffer or as a segmented buffer. A flat buffer is implemented as
a single contiguous region of memory while a segmented buffer is implemented
as a set of separate but linked regions of memory </p>
<p>Given the position of an element within an array, it can be useful to fetch
a pointer to the first byte following the end of the contiguous region of
memory containing that element (the <em>end</em> pointer). Similarly, it can
be useful to fetch a pointer to the <em>beginning</em> of a contiguous region
of memory (the <em>back</em> pointer).</p>
<div id="GUID-DB6D5E2F-CFEE-47EC-B38D-9D0DC13B994D"><h3 class="section-title">Array of same length elements</h3> <p>An array of same
length elements uses the <code class="codeph">End()</code> function to fetch the end
pointer and the <code class="codeph">Back()</code> function to fetch the back pointer.
The implementation of these two functions differs between a fixed flat array
and a fixed segmented array.</p> </div>
<div id="GUID-48756A91-9B8F-4BA8-A0CF-52970F8B41CC"><h3 class="section-title">Flat array</h3> <p>For a flat array — i.e. an array whose
buffer is implemented using a flat buffer — the end pointer simply points
to the first byte following the single region of memory containing the array
buffer. The back pointer simply points to the first byte of the single region
of memory (as illustrated below); <code class="codeph">End()</code> always returns a
pointer to the first byte following the end of the buffer, while <code class="codeph">Back()</code> always
returns a pointer to the beginning of the buffer.</p> <div class="figure" id="GUID-D4084F4C-B928-5779-A58F-CB495A74EE68"><img src="GUID-81A5784D-A0C6-5108-9E7B-5D39C6743B1A_d0e288274_href.png" /><p class="figure-title"><strong>Figure: </strong>End() and Back() in fixed flat arrays</p></div> </div>
<div id="GUID-27F85346-3B08-4E06-A80D-A5B708105659"><h3 class="section-title">Segmented array</h3> <p>For a segmented array, the situation
is different (as illustrated below). Looking at the segment containing elements <code class="codeph">n</code> and <code class="codeph">n+1</code>, <code class="codeph">End()</code> returns a pointer to the first byte following the end of that segment. In
fact, <code class="codeph">End()</code> returns the same pointer value for all elements
in that segment. <code class="codeph">Back()</code> returns a pointer to the beginning
of that segment for element <code class="codeph">n+1</code> and for all <em>subsequent</em> elements
in that segment. However, for the <em>first</em> element in that segment, <code class="codeph">Back()</code> returns
a pointer to the beginning of the <em>previous</em> segment. For the very first
element in the array, <code class="codeph">Back()</code> returns a pointer with a NULL
value.</p> <div class="figure" id="GUID-90C05AF9-9048-557E-95DD-49A19F856EF0"><img src="GUID-C0CFFE13-579C-5A93-9B63-DC2DCF98EC61_d0e288323_href.png" /><p class="figure-title"><strong>Figure: </strong>End() and Back() in fixed segmented arrays</p></div> </div>
<div id="GUID-165D9F3E-3948-4DC0-9632-FF70480C495C"><h3 class="section-title">See also</h3> <p><a href="GUID-112AAFA5-B4C9-5B62-A106-FB5097C13A0E.html">Dynamic
Buffers Guide</a>.</p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated January 18th, 2010</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-E161AB84-1B24-53AF-B313-D68CF9F8EE60.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:13 GMT -->
</html>