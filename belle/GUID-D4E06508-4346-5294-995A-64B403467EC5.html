
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D4E06508-4346-5294-995A-64B403467EC5.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:15 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Light API Tutorial" /><meta name="abstract" content="This tutorial describes how to use the Light API of HWRM." /><meta name="description" content="This tutorial describes how to use the Light API of HWRM." /><meta name="DC.Relation" scheme="URI" content="GUID-CD87FAF6-A11D-4260-9472-CABA18BF86B1" /><meta name="DC.Relation" scheme="URI" content="GUID-4860A4E6-1641-47D9-8243-C03779276C6D" /><meta name="DC.Relation" scheme="URI" content="GUID-D21191CC-965A-4F92-9792-4B34D54114DA" /><meta name="DC.Relation" scheme="URI" content="GUID-6DA81F01-FBD7-4167-B722-832888DEC0AD" /><meta name="DC.Relation" scheme="URI" content="GUID-4FE4B515-EE2B-47DB-BECE-E390E4EB2C3E" /><meta name="DC.Relation" scheme="URI" content="GUID-056736E0-3DF0-49FE-A44D-1A8E47FE45A0" /><meta name="DC.Relation" scheme="URI" content="GUID-3715E8EE-FF0A-4344-90F1-1609D54C166B" /><meta name="DC.Relation" scheme="URI" content="GUID-CF6C76A5-AC87-4EBD-AECF-35B456219B94" /><meta name="DC.Relation" scheme="URI" content="GUID-2382F758-35CF-4378-A5D5-183121E3BF6A" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05" /><meta name="DC.Relation" scheme="URI" content="GUID-DC011D9C-6C39-5BB9-A7CC-4447AB97A2D2" /><meta name="DC.Relation" scheme="URI" content="GUID-F2289115-B1F0-595D-AA1C-3E01F08911CA" /><meta name="DC.Relation" scheme="URI" content="GUID-2E3BE23C-B9DC-5B5D-A56A-1DB819EFC9A6" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-D4E06508-4346-5294-995A-64B403467EC5" /><meta name="DC.Language" content="en" /><title>Light
API Tutorial </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-D4E06508-4346-5294-995A-64B403467EC5">Light
API Tutorial</h1><div><p>This tutorial describes how to use the Light API of HWRM. </p>
<div id="GUID-275E5AC3-0D51-5783-8E3F-DCEE6B37970B"><h3 class="section-title">Introduction</h3> <p>To
use the Light API, the client must first create an instance of <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">CHWRMLight</code></a> class. <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">CHWRMLight</code></a> can be used in two modes: </p> <ul>
<li id="GUID-BB6B2D97-C797-5C5C-9CB4-0DA5F7682814"><a name="GUID-BB6B2D97-C797-5C5C-9CB4-0DA5F7682814"><!-- --></a><p>With notify handling. </p> </li>
<li id="GUID-A22F084E-2204-5589-B664-053EC50DEE0C"><a name="GUID-A22F084E-2204-5589-B664-053EC50DEE0C"><!-- --></a><p>Without notify handling. </p> </li>
</ul> <p>An instance with notify handling is created if the client requires
up-to-date status information. Else, an instance without a callback pointer
is created. After an instance is created, lights can be directly controlled
through the provided class methods. </p> <p>There are three light control
methods, each with several overloads: </p> <ul>
<li id="GUID-FE777756-F97C-5B4E-8334-C061FFCC0EBB"><a name="GUID-FE777756-F97C-5B4E-8334-C061FFCC0EBB"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightOnL()</code></a> to
turn ON the lights. </p> </li>
<li id="GUID-FC98BD11-09E2-574D-9A05-5C48B39A6C7E"><a name="GUID-FC98BD11-09E2-574D-9A05-5C48B39A6C7E"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightBlinkL()</code></a> to
make lights blink. </p> </li>
<li id="GUID-EA1C4E36-1B59-57AC-B282-91FACF32A3E3"><a name="GUID-EA1C4E36-1B59-57AC-B282-91FACF32A3E3"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightOffL()</code></a> to
turn OFF the lights. </p> </li>
</ul> <p>Light intensity can be optionally controlled by the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightOnL()</code></a> and <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightBlinkL()</code></a> methods. Intensity is controlled
as a percentage. <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">KHWRMDefaultIntensity</code></a> can
use default intensity or ambient light sensor controlled intensity, depending
on general settings. </p> <p>Light fade can be optionally controlled by the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightOnL()</code></a> and <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightOffL()</code></a> methods.
Fade simply means that lights are turned ON or OFF over a short period of
time with multiple gradual intensity changes instead of single instant change. </p> <p> <strong>Note</strong>:
All devices do not support this functionality. The current status of any light
target can be obtained with the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">LightStatus()</code></a> method. </p> <p>All
control methods require at least a target mask as a parameter. Devices can
have multiple independent lights, called targets, such as device primary display
light or keyboard light. All devices do not support all possible light targets.
Supported targets may be queried with the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-3B241B7B-C5D3-33AE-9D51-3F3B78530F60.html"><code class="apiname">SupportedTargets()</code></a> method. </p> <p>All
control methods accept optional duration parameter also. Any infinite duration
call sets session base light state for targets it affects. This base state
is what the target is set to when any duration timer affecting it expires.
If there are no infinite duration calls for a target session, any timer expiry
for that target sets the target to the default state (which is either ON or
OFF), depending on the device inactivity time and the inactivity time-limit
defined by general settings. </p> <p>Each target can have only one duration
timer. Hence, if a target with ongoing timer is issued with new orders, the
ongoing timer is cancelled and a new one is set. </p><p>Using Light API, you
can perform any of the tasks listed in the Procedure section.</p> </div>
<div><h3 class="section-title">Procedure</h3> <ul id="GUID-95D4E107-AA25-51F0-B081-6889586420F8">
<li id="GUID-25998A3D-1DE9-52FA-8CC7-26657DF8724C"><a name="GUID-25998A3D-1DE9-52FA-8CC7-26657DF8724C"><!-- --></a><p><a href="GUID-CD87FAF6-A11D-4260-9472-CABA18BF86B1.html">Creating
a light instance</a> </p> </li>
<li id="GUID-8567BEBC-4992-5F8F-B9E2-EE1D20C120A8"><a name="GUID-8567BEBC-4992-5F8F-B9E2-EE1D20C120A8"><!-- --></a><p><a href="GUID-4860A4E6-1641-47D9-8243-C03779276C6D.html">Retrieving
the supported light targets of a device</a> </p> </li>
<li id="GUID-4A985353-C4E0-5ABA-AB97-49E24B99B924"><a name="GUID-4A985353-C4E0-5ABA-AB97-49E24B99B924"><!-- --></a><p><a href="GUID-D21191CC-965A-4F92-9792-4B34D54114DA.html">Retrieving
the current light status</a> </p> </li>
<li id="GUID-A22870FD-1722-5DCA-BA29-19C66792F148"><a name="GUID-A22870FD-1722-5DCA-BA29-19C66792F148"><!-- --></a><p><a href="GUID-6DA81F01-FBD7-4167-B722-832888DEC0AD.html">Reserving
light targets</a> </p> </li>
<li id="GUID-C136D460-E987-5A04-B6BE-0AB25115623E"><a name="GUID-C136D460-E987-5A04-B6BE-0AB25115623E"><!-- --></a><p><a href="GUID-4FE4B515-EE2B-47DB-BECE-E390E4EB2C3E.html">Switching
ON the lights</a> </p> </li>
<li id="GUID-125018AA-1FAC-5EB2-A6A9-F0A7E01A2484"><a name="GUID-125018AA-1FAC-5EB2-A6A9-F0A7E01A2484"><!-- --></a><p><a href="GUID-056736E0-3DF0-49FE-A44D-1A8E47FE45A0.html">Switching
OFF the lights</a> </p> </li>
<li id="GUID-B68A413F-892D-5F5A-8EF9-58C9549050A8"><a name="GUID-B68A413F-892D-5F5A-8EF9-58C9549050A8"><!-- --></a><p><a href="GUID-3715E8EE-FF0A-4344-90F1-1609D54C166B.html">Blinking
lights</a> </p> </li>
<li id="GUID-125ED39B-08F1-5AE6-8664-93EFC03E6016"><a name="GUID-125ED39B-08F1-5AE6-8664-93EFC03E6016"><!-- --></a><p><a href="GUID-CF6C76A5-AC87-4EBD-AECF-35B456219B94.html">Releasing
the reserved lights</a> </p> </li>
<li id="GUID-3F750C8E-6668-52A5-A7C5-DDD960DECD6E"><a name="GUID-3F750C8E-6668-52A5-A7C5-DDD960DECD6E"><!-- --></a><p><a href="GUID-2382F758-35CF-4378-A5D5-183121E3BF6A.html">Releasing
the instance</a> </p> </li>
</ul> </div>
<div><h3 class="section-title">See also</h3> <p><a href="GUID-1969956D-CDA0-5DA0-ACF8-69AFBBEC1408.html">Light
API</a> </p> </div>
</div><ul class="ullinks"><li class="ulchildlink"><a href="GUID-CD87FAF6-A11D-4260-9472-CABA18BF86B1.html">Creating
a light instance</a></li><li class="ulchildlink"><a href="GUID-4860A4E6-1641-47D9-8243-C03779276C6D.html">Retrieving
the supported light targets of a device</a></li><li class="ulchildlink"><a href="GUID-D21191CC-965A-4F92-9792-4B34D54114DA.html">Retrieving
the current light status</a></li><li class="ulchildlink"><a href="GUID-6DA81F01-FBD7-4167-B722-832888DEC0AD.html">Reserving
light targets</a></li><li class="ulchildlink"><a href="GUID-4FE4B515-EE2B-47DB-BECE-E390E4EB2C3E.html">Switching
ON the lights</a></li><li class="ulchildlink"><a href="GUID-056736E0-3DF0-49FE-A44D-1A8E47FE45A0.html">Switching
OFF the lights</a></li><li class="ulchildlink"><a href="GUID-3715E8EE-FF0A-4344-90F1-1609D54C166B.html">Blinking
lights</a></li><li class="ulchildlink"><a href="GUID-CF6C76A5-AC87-4EBD-AECF-35B456219B94.html">Releasing
the reserved lights</a></li><li class="ulchildlink"><a href="GUID-2382F758-35CF-4378-A5D5-183121E3BF6A.html">Releasing
the instance</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated October 21st, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D4E06508-4346-5294-995A-64B403467EC5.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:15 GMT -->
</html>