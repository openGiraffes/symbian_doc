
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-58ACE248-BF26-57BB-B5D2-C772FC046222.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:53 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Searching the Contact Database" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D" /><meta name="DC.Relation" scheme="URI" content="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B" /><meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-58ACE248-BF26-57BB-B5D2-C772FC046222" /><meta name="DC.Language" content="en" /><title>Searching the Contact Database </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-58ACE248-BF26-57BB-B5D2-C772FC046222">Searching the Contact Database</h1><div><p>The class <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B9762BE2-1C1B-36CD-95EA-F7C4A832AA0B.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B9762BE2-1C1B-36CD-95EA-F7C4A832AA0B.html"><code class="apiname">CContactFindView</code></a> provides a view of an existing <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-DA9AB241-DB29-3802-BF4F-195046341F78.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-DA9AB241-DB29-3802-BF4F-195046341F78.html"><code class="apiname">CContactViewBase</code></a> -derived object, populated using search criteria. The find view only contains Contact Items from the underlying view that match the search criteria. The find view observes its underlying view so that it is kept up to date if the contents of the underlying view change. </p> <p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-B9762BE2-1C1B-36CD-95EA-F7C4A832AA0B.html#GUID-B46629B1-4BF5-3A9A-BE2B-4E235B1AD816"><code class="apiname">CContactFindView::FindL()</code></a> searches the database for a text string. The function searches the fields contained in the field definition. The caller takes ownership of the returned object. There is a limit of 255 characters on the search string length. </p> <p>Email addresses are looked-up as follows: </p> <pre class="codeblock">_LIT(KEmailAddressToLookup,”email@symbian.com”);
CContactDatabase* database = CContactDatabase::OpenL();
CContactTextDef* def=CContactTextDef::NewL();
def-&gt;Append(KUidContactFieldEMailValue);
CContactIdArray* results;
results=database-&gt;FindLC(KEmailAddressToLookup, def);</pre> <p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-756E0437-1589-3CA2-98FA-0412213B1DF4"><code class="apiname">CContactDatabase::MatchPhoneNumberL()</code></a> returns an array of IDs for all the Contact Items that may contain the specified telephone number in a telephone, fax or SMS type field. The number is compared starting from the right side of the number field. The method returns an array of candidate matches. </p> <p>The recommended way to look up a contact ID that corresponds to a phone number is shown below. This example performs a 7 digit match: </p> <pre class="codeblock">const TInt KNumberOfDigitsToMatch=7;
_LIT(KPhoneNumberToMatch,”020 75632000”);
CContactDatabase* database = CContactDatabase::OpenL();
CContactIdArray* results;
results = database&gt;MatchPhoneNumberL(KPhoneNumberToMatch,KNumberOfDigitsToMatch);</pre> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-58ACE248-BF26-57BB-B5D2-C772FC046222.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:53 GMT -->
</html>