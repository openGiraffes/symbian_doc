
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-2D74594C-AFEB-550E-AD69-1C4A0455C5AC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:02:57 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Structure of a Message Store" /><meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387" /><meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388" /><meta name="DC.Relation" scheme="URI" content="GUID-44CF5471-564E-5790-935B-51193A4978D6" /><meta name="DC.Relation" scheme="URI" content="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4" /><meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388" /><meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387" /><meta name="DC.Relation" scheme="URI" content="GUID-44CF5471-564E-5790-935B-51193A4978D6" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-2D74594C-AFEB-550E-AD69-1C4A0455C5AC" /><meta name="DC.Language" content="en" /><title>Structure of a Message Store </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-2D74594C-AFEB-550E-AD69-1C4A0455C5AC">Structure of a Message Store</h1><div><p>This section provides information about the Message Store entries. </p> <p>Message Framework provides a tree view of entries in a Message Store. The tree is divided into three levels: root entry, service entry, and folder and message entry, which are provided <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html"><code class="apiname">TMsvEntry</code></a>. The child entries of the root entry must be service entries. A message client application can begin from the root entry, and by successively finding the children of an entry, can traverse the whole entry tree. The parent of each entry is recorded in the index entry's details. </p> <p>The following figure illustrates how services are placed below a root entry. </p> <div class="figure" id="GUID-7832A21A-381A-5B5B-96ED-CF238039944F"><img src="GUID-95580D64-315E-51E8-99C3-6C0B8FFF1522_d0e369516_href.png" /><p class="figure-title"><strong>Figure: </strong>
          Message Store 
        </p></div> <ul><li id="GUID-C5AE5A9E-F382-5D56-9EE3-C70C338E2D02"><a name="GUID-C5AE5A9E-F382-5D56-9EE3-C70C338E2D02"><!-- --></a><p> <strong>1:</strong> <strong>Root entry</strong> —This entry is just present to tie the tree structure together. </p> </li> <li id="GUID-F88FF1E1-D679-5413-BEE8-1574C54C9754"><a name="GUID-F88FF1E1-D679-5413-BEE8-1574C54C9754"><!-- --></a><p> <strong>2:</strong> <strong> Service entry</strong> —This level used for settings information, usually to set up communication protocols, for example, ISP settings. There is one local service under which local folders and messages are stored, and zero or more remote services. Remote services represent message accounts. </p> <p>There are two types of service entry: </p> <ul><li id="GUID-34454E69-A768-5102-84CD-D2F172C00BBE"><a name="GUID-34454E69-A768-5102-84CD-D2F172C00BBE"><!-- --></a><p> <strong>Remote Services:</strong> These represent message accounts stored on remote stores such as email servers and the SIM store of SMS messages. </p> </li> <li id="GUID-F4284F86-B486-5056-A3D9-681F07407112"><a name="GUID-F4284F86-B486-5056-A3D9-681F07407112"><!-- --></a><p> <strong>Local Services:</strong> There is a single local service under which local folders and messages are stored. </p> <p>The Message Server handles changes to local entries. Internally it may delegate changes to remote entries, such as copying and moving messages to and from a remote service, to the server MTM that owns that service. </p> </li> </ul> <div class="figure" id="GUID-E2FBA9E3-6AFB-56F4-A2B4-45FE4E41A024"><img src="GUID-19B2E0BF-9766-55C6-A37F-188A9EDAFF39_d0e369568_href.png" /><p class="figure-title"><strong>Figure: </strong>
                Remote and local entries 
             </p></div> </li> <li id="GUID-035D9E45-6546-5551-91FF-214AE81DCEE7"><a name="GUID-035D9E45-6546-5551-91FF-214AE81DCEE7"><!-- --></a><p> <strong>3: </strong> <strong> Folder entries and message entries</strong> — Folders entries are used to group a number of message entries. For more information on folders, see <a href="GUID-21C03739-FF80-5874-A32B-F22DED13D18D.html">Message folders</a>. Messages store the content of a message. Message entries can have child entries which represent the structure of a message. </p> <p>Folders and messages under the local service represent messages stored on the device. Folders and messages under remote services represent a local copy of messages that are present on a remote server. For example, under a POP3 email service you can have copies of all the messages present on the POP3 email server, and under an SMS service you can have SMS messages that are stored on a SIM. </p> <p>Each message entry also has an associated service ID. The service ID is associated with a service entry whose settings is used in all Messaging operations on that message entry. </p> </li> </ul> <div><h3 class="section-title">Validity of the Message Store</h3> <p>The structure of the Message store is considered to be valid only if an index entry conforms to the following rules: </p> <ul><li id="GUID-7DB69487-9E0B-5D8F-BD7A-83A62F1BF4D2"><a name="GUID-7DB69487-9E0B-5D8F-BD7A-83A62F1BF4D2"><!-- --></a><p>A non-service entry cannot be owned by root and must have its service ID field set. </p> </li> <li id="GUID-207256FE-42CB-56D3-9008-DB8B8F3A3171"><a name="GUID-207256FE-42CB-56D3-9008-DB8B8F3A3171"><!-- --></a><p>A service entry must be owned by root and have the service ID of itself. </p> </li> </ul> <p> <strong>Important:</strong> The Message Server controls access to the entries in the store. It enforces the three levels; therefore, attempts to create message or folder entries directly under the root entry fails. </p> </div> </div><h3>Related concepts</h3><ul><li><a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a></li><li><a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"> Messaging Framework</a></li><li><a href="GUID-44CF5471-564E-5790-935B-51193A4978D6.html">Message Server and Store
                Concepts</a></li><li><a href="GUID-DD27A452-8B0F-5C6D-A2E6-FC21145468B6.html">Message Server and Store
                Tutorials</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated December 30th, 2010</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-2D74594C-AFEB-550E-AD69-1C4A0455C5AC.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:03:01 GMT -->
</html>