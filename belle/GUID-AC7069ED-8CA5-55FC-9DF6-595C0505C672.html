
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-AC7069ED-8CA5-55FC-9DF6-595C0505C672.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:02:29 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Positioning Module Status" /><meta name="abstract" content="This document describes positioning technology module status, which applications access through the Location Acquisition API." /><meta name="description" content="This document describes positioning technology module status, which applications access through the Location Acquisition API." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B" /><meta name="DC.Relation" scheme="URI" content="GUID-D0318BB6-0B9F-5A1C-AB0B-61BA22D28661" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-AC7069ED-8CA5-55FC-9DF6-595C0505C672" /><meta name="DC.Language" content="en" /><title>Positioning Module Status </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-AC7069ED-8CA5-55FC-9DF6-595C0505C672">Positioning Module Status</h1><div><p>This document describes positioning technology module status, which applications access through the Location Acquisition API. </p><div><h3 class="section-title">Purpose</h3> <p>This document describes Positioning Module status, which applications access through the Location Acquisition API. </p> </div> <div><h3 class="section-title">Positioning Module status</h3> <p>A Positioning Module has a <em>status</em> which is represented by a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html"><code class="apiname">TPositionModuleStatus</code></a> object. The status describes the low-level state of a Positioning Module, such as whether it is disabled, initialising, or ready to retrieve location data, as well as its data quality status. </p> <p>A change in Positioning Module status is indicated by a <em>status event</em>. Details of the event are held in a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html"><code class="apiname">TPositionModuleStatusEvent</code></a> object. Client applications can receive notification of status events from the location server. </p> <p>Figure 1 illustrates Positioning Module status and event classes. </p> <div class="figure" id="GUID-C17083CB-4252-547F-BAAC-4388A105FEC1"><img src="GUID-7D13B61C-0C9E-5098-87F0-BB9D741E9281_d0e357208_href.png" /><p class="figure-title"><strong>Figure: </strong>
             Figure 1. TPositionModuleStatus and
             TPositionModuleStatusEvent classes 
          </p></div> <p><strong>TPositionModuleStatus </strong> </p> <p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html"><code class="apiname">TPositionModuleStatus</code></a> describes the status of a Positioning Module. An application gets information about a Positioning Module's current status by calling <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-0ADC4654-7F7B-3B53-A2F9-7035670F501B.html#GUID-676FAC1B-1989-3D3C-84A5-DF82B874D7A3"><code class="apiname">RPositionServer::GetModuleStatus()</code></a>. There are two status types - <em>device status</em> and <em>data quality status</em>. </p> <p><strong>Device status </strong> </p> <p>Device status is the status of the hardware device utilised by a Positioning Module, such as the chipset used by an A-GPS Positioning Module. </p> <p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-3702B7D3-EDE5-3FD9-B0D5-96C5FD4B32E6"><code class="apiname">TPositionModuleStatus::DeviceStatus()</code></a> returns the device status as a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-4C1E0860-4813-3B3F-A766-9F759ADC9E7C"><code class="apiname">TPositionModuleStatus::TDeviceStatus</code></a> value. The value returned can indicate a transient device status, such as whether the hardware is disabled, initialising, or ready. It can also indicate a more serious device error state. </p> <p><strong>Data quality status </strong> </p> <p>Data quality status describes the accuracy of the location data that a Positioning Module is able to provide at a point in time. </p> <p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-FE9B37E2-7302-3818-A5F1-95669500FB14"><code class="apiname">TPositionModuleStatus::DataQualityStatus()</code></a> returns the data quality status as a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-08F4C71A-86B1-3B4C-A6C4-E181E218C533"><code class="apiname">TPositionModuleStatus::TDataQualityStatus</code></a> value. This value indicates whether the quality of location data is normal (the ideal condition), partially degraded or completely degraded. Location data quality can become degraded because the mobile device has moved out of range of any base stations or is in a position where it cannot receive signals from positioning satellites. Note that loss of information quality does not indicate a device error, which would be flagged by a change in the device status. </p> </div> <div><h3 class="section-title">Positioning Module status events</h3> <p>When a Positioning Module's status changes, a Positioning Module status event occurs. </p> <p>There are three types of Positioning Module status events: </p> <ul><li id="GUID-0852F3C8-9301-53E8-8769-74387D8499F1"><a name="GUID-0852F3C8-9301-53E8-8769-74387D8499F1"><!-- --></a><p>Device status events </p> </li> <li id="GUID-21995DC6-54A5-5585-85D2-0B09E7008533"><a name="GUID-21995DC6-54A5-5585-85D2-0B09E7008533"><!-- --></a><p>Data quality status events </p> </li> <li id="GUID-66A5D75B-9E5D-588A-872D-CBF2D818A6DF"><a name="GUID-66A5D75B-9E5D-588A-872D-CBF2D818A6DF"><!-- --></a><p>System level events. These events indicate that a Positioning Module has been added or removed in the system. </p> </li> </ul> <p><strong>TPositionModuleStatusEvent </strong> </p> <p>An object of class <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html"><code class="apiname">TPositionModuleStatusEvent</code></a> has two functions: </p> <ul><li id="GUID-3389C877-68DE-505E-BB83-F8977D0E1C6D"><a name="GUID-3389C877-68DE-505E-BB83-F8977D0E1C6D"><!-- --></a><p>As the object on which an application defines the types of Positioning Module status events for which it requests notification. These are set by calling <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-132DB32E-6A60-3CEC-9445-146B82E6D9CC"><code class="apiname">TPositionModuleStatusEvent::SetRequestedEvents()</code></a> passing a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-33ED1FC9-3B34-3AB5-A924-C361C712BD1B.html#GUID-65DC3D52-46D8-33C9-BC70-6289022419A1"><code class="apiname">TPositionModuleStatusEventBase::TModuleEvent</code></a> bitmask value as a parameter to define the combination of events </p> </li> <li id="GUID-4E812AE8-5342-58DA-9690-EFA7E575DA46"><a name="GUID-4E812AE8-5342-58DA-9690-EFA7E575DA46"><!-- --></a><p>As the object on which the location framework sets the type of events that have occurred. These are retrieved by calling <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-56695C9E-B488-3F9A-ADB6-04BB33433BF3"><code class="apiname">TPositionModuleStatusEvent::OccurredEvents()</code></a> and checking the returned <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-33ED1FC9-3B34-3AB5-A924-C361C712BD1B.html#GUID-65DC3D52-46D8-33C9-BC70-6289022419A1"><code class="apiname">TPositionModuleStatusEventBase::TModuleEvent</code></a> value. </p> </li> </ul> <p><strong>Event notification </strong> </p> <p>An application calls <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-0ADC4654-7F7B-3B53-A2F9-7035670F501B.html#GUID-3AA81126-EB13-3F1B-9464-E86CC7769EB5"><code class="apiname">RPositionServer::NotifyModuleStatusEvent()</code></a> to receive notification of Positioning Module status changes, passing a reference to a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html"><code class="apiname">TPositionModuleStatusEvent</code></a> object on which it has set the requested events. An application also supplies a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html"><code class="apiname">TRequestStatus</code></a> object and optionally a TPositionModuleId object if status changes from only one Positioning Module are required. </p> <p>When the status of a Positioning Module changes, the client application is notified. The <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html"><code class="apiname">TPositionModuleStatusEvent</code></a> <code class="codeph"></code> object that was supplied to the location server now also contains details of the events that have occurred and these are obtained by calling <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-56695C9E-B488-3F9A-ADB6-04BB33433BF3"><code class="apiname">TPositionModuleStatusEvent::OccurredEvents()</code></a>. </p> <p>The Positioning Module status is obtained by calling <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E827E6E-69EF-3EA3-95FF-9A0B38B689EA.html#GUID-7707E844-34A2-3454-88C9-0456382ACD40"><code class="apiname">TPositionModuleStatusEvent::GetModuleStatus()</code></a> providing a <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html"><code class="apiname">TPositionModuleStatus</code></a> reference as a parameter. </p> <p>See <a href="GUID-F5944819-2942-5ADA-A0AD-510D20BFBDEB.html">How to Get Positioning Module Status Changes</a> for an example. </p> </div> <div><h3 class="section-title">Uses of Positioning Module status</h3> <p>Quality status events are useful for applications that need to modify their behaviour based on the quality of location information that can be received. For example, an application may need to show a message when a user moves into an area where the accuracy of location information is degraded to a lower quality than is required because of distance from a base station or inability to receive satellite signals. </p> <p>Device status events and system Positioning Module events are most useful to software components that perform administrative operations, such as taking a Positioning Module online or offline. The events can be used to notify when such an administrative operation is complete. </p> <p>Device status events can also be used to keep a user informed as to the status of a particular Positioning Module. For example, a phone status bar could be updated to show that GPS is active when location information is being received. </p> </div> <div><h3 class="section-title">See also</h3> <p><a href="GUID-BADAAC2D-8614-5036-95BC-3889457F7ED0.html">Positioning Modules</a> </p> </div> </div></div></div><div class="footer"><p class="metadata">Last updated November 4th, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-AC7069ED-8CA5-55FC-9DF6-595C0505C672.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:02:30 GMT -->
</html>