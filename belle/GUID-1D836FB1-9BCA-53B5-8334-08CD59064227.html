
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1D836FB1-9BCA-53B5-8334-08CD59064227.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:35 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="What are transactions" /><meta name="abstract" content="This topic describes the purpose of transactions when accessing the Comms Database." /><meta name="description" content="This topic describes the purpose of transactions when accessing the Comms Database." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04" /><meta name="DC.Relation" scheme="URI" content="GUID-C3018CEE-865B-595A-A735-40E11665E50A" /><meta name="DC.Relation" scheme="URI" content="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138" /><meta name="DC.Relation" scheme="URI" content="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-1D836FB1-9BCA-53B5-8334-08CD59064227" /><meta name="DC.Language" content="en" /><title>What are transactions </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-1D836FB1-9BCA-53B5-8334-08CD59064227">What are transactions</h1><div><p>This topic describes the purpose of transactions when accessing the Comms Database. </p> <p>The CommsDat API provides the behaviour known as transactions. Tools and applications use transactions to make sure that read and write operations are consistent. </p> <p>More than one application can use the Comms Database at the same time. Transactions implement a lock that allows applications to perform a set of read and write operations safely. In a transaction, other applications cannot change the data. </p> <p>The CMDBSession class provides the functions that implement transactions. </p> <p>You must create a session with the Comms Database before you start your first transaction. </p> <p>A transaction starts with a call to CMDBSession::OpenTransactionL(), and ends with a call to CMDBSession::CommitTransactionL() or CMDBSession::RollbackTransactionL(). </p> <p>A call to CMDBSession::OpenTransactionL() starts a transaction. </p> <p>A call to CMDBSession::CommitTransactionL() or CMDBSession::RollbackTransactionL() ends a transaction. </p> <p>Between the start and end of a transaction, the CommsDat API makes sure that: </p> <ul><li id="GUID-B5C8B70D-00D0-5494-B5F4-F9AACD9EFD82"><a name="GUID-B5C8B70D-00D0-5494-B5F4-F9AACD9EFD82"><!-- --></a><p>a write operation started by another session cannot interrupt a read operation or a read/write operation started by this session. </p> </li> <li id="GUID-5B44CDC8-8209-5D0D-AEEB-93561B8BAFC6"><a name="GUID-5B44CDC8-8209-5D0D-AEEB-93561B8BAFC6"><!-- --></a><p>all read/write operations succeed after a succesful call to CMDBSession::CommitTransactionL(). </p> </li> <li id="GUID-E11D6C59-92AB-54A6-BFFE-D2252ADDC531"><a name="GUID-E11D6C59-92AB-54A6-BFFE-D2252ADDC531"><!-- --></a><p>all read/write operations are discarded after a successful call to CMDBSession::RollbackTransactionL() / </p> </li> <li id="GUID-70FC20C5-F311-5565-84D5-39364B0A44FC"><a name="GUID-70FC20C5-F311-5565-84D5-39364B0A44FC"><!-- --></a><p>the changes are visible only to the tool or application that started the transaction. To the tool or application, the changes appear to have been written to the Comms Database. </p> </li> <li id="GUID-95086549-87D6-5B4D-B9C1-182512CE0603"><a name="GUID-95086549-87D6-5B4D-B9C1-182512CE0603"><!-- --></a><p>other users of the Comms Database cannot see the changes made by a transaction until that transaction is committed. </p> </li> </ul> <p>The CommsDat API cannot make other guarantees. Tools and applications must not make assumptions about the lock mechanism used by the implementation of the Comms Database. </p> <p>Tools and applications must make sure that transactions are short. The Comms Database is a shared resource, and long transactions cause performance problems. The Comms Database implements a timeout to protect the database. The Comms Database can terminate very long transactions. The timeout does not affect the normal operation. </p> <p>It is more efficient to wrap several write operations in one transaction, because data is only written to the Comms Database in a call to CMDBSession::CommitTransactionL(). Tools and applications must not hold a transaction open for longer than is necessary. </p> <p>All read and write functions provided by MMetaDatabase use transactions internally and are consistent. </p> </div></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1D836FB1-9BCA-53B5-8334-08CD59064227.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:54:35 GMT -->
</html>