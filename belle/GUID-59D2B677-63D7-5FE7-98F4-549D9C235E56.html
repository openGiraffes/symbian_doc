
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:38 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Alarm Play Tutorials" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7" /><meta name="DC.Relation" scheme="URI" content="GUID-1FB321DE-4A02-5468-9AF1-F3786EB678CF" /><meta name="DC.Relation" scheme="URI" content="GUID-CFE3A216-E637-51C1-B258-2ADF4E0F4150" /><meta name="DC.Relation" scheme="URI" content="GUID-63730EBD-E5C1-5BA9-AB71-8FF668ECEF00" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56" /><meta name="DC.Language" content="en" /><title>Alarm
Play Tutorials </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56">Alarm
Play Tutorials</h1><div>
<p>This tutorial assists the device creators in customizing the Alarm Server
behavior for playing an alarm continuously. </p>
<p>The <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">RASCliSession</code></a> class provides
functions to set and get the continuous state for a previously created alarm. </p>
<div><h3 class="section-title">Introduction</h3> <p>It is possible to customize or disable
the UI application’s control of alarm sound intervals and durations. In certain
scenarios, it may be preferable for the alarm sound to have an infinite duration.
For more information on intervals and durations, refer to <a href="GUID-A5F65344-BE05-5295-85BB-E8114505FB82.html">Sound
Control</a>. </p> </div>
<div><h3 class="section-title">Procedure</h3> <p>To play an alarm continuously, or to
disable alarm play control, refer the following respective sections: </p> <ul>
<li id="GUID-31AA12C8-38AE-5735-985B-40CB58A0D459"><a name="GUID-31AA12C8-38AE-5735-985B-40CB58A0D459"><!-- --></a><p><strong>Playing an alarm
continuously</strong> - A continuous alarm is one that does not follow the pattern
of sound play defined as a series of intervals and durations in the <code>alarmserver.rsc</code> file.
Instead, the alarm sound is played once and has an infinite interval and duration.
 </p> <p>Follow the steps given below to create a continuous alarm: </p><ol id="GUID-87FE2F8F-7181-5162-A312-AC0F0021640A">
<li id="GUID-4B696D1D-F852-5609-BEA1-C31AE072AC2F"><a name="GUID-4B696D1D-F852-5609-BEA1-C31AE072AC2F"><!-- --></a><p>Connect to the Alarm
Server using <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">RASCliSession</code></a>. </p> </li>
<li id="GUID-44DC069A-FB71-566B-8B2A-22D84D02C85F"><a name="GUID-44DC069A-FB71-566B-8B2A-22D84D02C85F"><!-- --></a><p>Add a new <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">TASShdAlarm</code></a> alarm. </p> </li>
<li id="GUID-1014B745-72A6-52E8-8C19-F9667DB7E895"><a name="GUID-1014B745-72A6-52E8-8C19-F9667DB7E895"><!-- --></a><p>Use the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">SetContinuous()</code></a> function
to set the alarm as a continuous alarm. </p> <p>The <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">EAlarmRepeatDefintionRepeatDaily</code></a> value
makes the alarm repeat daily. </p> </li>
<li id="GUID-F57517DA-9C66-5276-A7B3-882F9F7C1DD0"><a name="GUID-F57517DA-9C66-5276-A7B3-882F9F7C1DD0"><!-- --></a><p>Add the alarm to the
Alarm Server by using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">AlarmAdd()</code></a> function. </p> </li>
</ol> <p>The following code snippet explains how to play an alarm continuously: </p> <pre class="codeblock">#include &lt;ASCliSession.h&gt; // For RASCliSession.
#include &lt;ASShdAlarm.h&gt;   // For TASShdAlarm.

…

// Connect to Alarm Server.
RASCliSession alarmSession;
User::LeaveIfError( alarmSession.Connect() );
CleanupClosePushL( alarmSession );

// Create a daily alarm that once activated is continuous.
TASShdAlarm alarm;
alarm.RepeatDefinition() = EAlarmRepeatDefintionRepeatDaily; 
alarm.SetContinuous( ETrue );

// Add the alarm to Alarm Server.
User::LeaveIfError( alarmSession.AlarmAdd( alarm ) );

CleanupStack::PopAndDestroy();
</pre><p></p></li>
<li id="GUID-3795991B-7CCD-57A9-B9D4-7ACE26A5CC06"><a name="GUID-3795991B-7CCD-57A9-B9D4-7ACE26A5CC06"><!-- --></a><p><strong>Disable alarm play
control</strong> - This is a special case of Alarm Play Interval configuration
described in <a href="GUID-A5F65344-BE05-5295-85BB-E8114505FB82.html">Sound
Control</a> section. Disabling the Alarm Play control requires an empty
interval list as shown in the following code snippet:</p> <pre class="codeblock">RESOURCE sound_controller
    {
    // disable alarm server control of alarm intervals
    intervals = {};
    }</pre> <p>This configuration cannot be overridden at runtime. <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><code class="apiname">RASCliSession::SetAlarmPlayIntervalsL()</code></a> cannot
be used to change this option, that is, the function can neither turn OFF
the alarm sound control by specifying an empty sequence, nor turn ON the alarm
sound control by overriding an empty sequence in the resource file. </p> <p>Durations
that extend into the next interval cause the whole sequence to revert to the
default hard-coded values. </p></li>
</ul> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated October 23rd, 2009</p><hr /><div class="copy">© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:38 GMT -->
</html>