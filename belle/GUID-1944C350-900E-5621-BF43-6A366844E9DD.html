
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1944C350-900E-5621-BF43-6A366844E9DD.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:28 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="MenuApp: An Application with a Menu" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7" /><meta name="DC.Relation" scheme="URI" content="GUID-58CA15F8-D984-5D07-8C00-161FA16A8FD3" /><meta name="DC.Relation" scheme="URI" content="GUID-1578590A-FC00-5C3B-8BF9-F6E43CA9D9A0" /><meta name="DC.Relation" scheme="URI" content="GUID-737ADA8D-5B7E-5408-9929-3EB9A3B4FCB1" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-1944C350-900E-5621-BF43-6A366844E9DD" /><meta name="DC.Language" content="en" /><title>MenuApp: An Application with a Menu </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-1944C350-900E-5621-BF43-6A366844E9DD">MenuApp: An Application with a Menu</h1><div>
<div id="GUID-4DA645E1-7FBA-4777-BF59-87B54A04E539"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-a13df6fa-ad69-40b4-8923-11dbd4775915.zip" target="_blank">MenuApp.zip</a></p><p>Click: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-a13df6fa-ad69-40b4-8923-11dbd4775915.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-a13df6fa-ad69-40b4-8923-11dbd4775915.html">browse</a> to view the example code. </p> </div>
<div id="GUID-B412BBB6-7A38-451F-8501-4BB4B017B790"><h3 class="section-title">Description</h3> <p>This example builds on the <a href="GUID-1D7BD70F-40A3-53FF-8150-A9CAFA4D01D8.html">minimal</a> UI
application by adding a menu bar and menu pane. The menu bar is defined
in a resource file, and the menu pane is populated dynamically in
the app UI's <code class="codeph">DynInitMenuPaneL()</code> function. The menu
pane contains a list of all applications present on the device. If
a menu item is selected by the user, the corresponding application
is launched. </p> <p>The menu application displays a list of applications
on the menu pane: </p> <div class="figure" id="GUID-B2DD173E-A5FE-5DF3-9750-491E0A18A2B6"><img src="GUID-2183F898-48C2-53A3-ADA0-1132EF7D4380_d0e180245_href.png" /></div> </div>
<div id="GUID-FE3F5411-B575-4284-A841-158A65F5A9C0"><h3 class="section-title">Class
Summary</h3><p><a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5EEE8745-F483-33C0-A5B1-AEB5544DE2BA.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5EEE8745-F483-33C0-A5B1-AEB5544DE2BA.html"><code class="apiname">RApaLsSession</code></a></p><p><a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-1185F595-0488-3E93-8D60-6B3A1A3AC32E.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-1185F595-0488-3E93-8D60-6B3A1A3AC32E.html"><code class="apiname">CEikAppUi</code></a></p><p>CEikMenuPane</p></div>
<div id="GUID-8B7554ED-99FA-41A0-94A5-529FD719A40B"><h3 class="section-title">Application
list</h3> <p>To create the application list, the app UI first makes
a connection to the application architecture server, using <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-5EEE8745-F483-33C0-A5B1-AEB5544DE2BA.html#GUID-A92887D0-694C-3792-B3C9-46B155FE83B9"><code class="apiname">RApaLsSession::Connect()</code></a>. Then, it requests notification
from the server that the application list is fully populated, using <code class="codeph">RApaLsSession::RegisterListPopulationCompleteObserver()</code>.
When the request completes, <code class="codeph">RApaLsSession::GetNextApp()</code> is called in a loop to get a list of application names and UIDs.
This list is used to populate the menu pane. </p> </div>
<div id="GUID-BA8A16BE-F0A3-429A-9D78-1E4AD833A095"><h3 class="section-title">Launching
an application</h3> <p> <code class="codeph">CEikAppUi::HandleCommandL()</code> handles commands based on a command ID. The <code class="codeph">EEikCmdExit</code> command ID is generated by the <tt class="sysout">Close</tt> menu option, and <code class="codeph">HandleCommandL()</code> responds to it
by exiting the application. The other possible command IDs are the
UIDs of the applications in the list. This allows <code class="codeph">CEikAppUi::HandleCommandL()</code> to launch applications based on the command ID. </p> <p>An application
is launched by getting the executable name (using <code class="codeph">RApaLsSession::GetAppInfo()</code>), creating a command line (<code class="codeph">CApaCommandLine</code>) containing
the executable name, and passing this to <code class="codeph">RApaLsSession::StartApp()</code>. </p> </div>
<div id="GUID-6BD34EA5-E1B4-47C1-8D64-CFDB0E26B786"><h3 class="section-title">Build</h3> <p>The Symbian build process describes how to build an application. </p> <p>The <code>MenuApp</code> example builds an executable
called <code>MenuApp.exe</code> in the standard location (<code>\epoc32\release\winscw\</code> <em>&lt;build_variant&gt;</em> for
CodeWarrior). Either launch the executable itself, or launch the emulator
and then select the <code>MenuApp</code> application from
the Emulator's extras bar. </p> </div>
</div></div></div><div class="footer"><p class="metadata">Last updated August 16th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-1944C350-900E-5621-BF43-6A366844E9DD.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:55:32 GMT -->
</html>