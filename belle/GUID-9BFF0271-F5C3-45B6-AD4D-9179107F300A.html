
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:17 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Open C Producer Consumer Example" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609" /><meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E" /><meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A" /><meta name="DC.Language" content="en" /><title>Open C Producer Consumer Example </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A">Open C Producer Consumer Example</h1><div>
<p>OpenCProducerConsumerEx is a hybrid application that depicts solution
for producer consumer problem using Open C. This application uses
main() as an entry point for the application. It uses <code class="codeph">libc</code> and <code class="codeph">libpthread</code> </p>
<div id="GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-GUID-D68DBDDA-5220-4106-BF20-BDCD3B114884"><h3 class="section-title">Download</h3> <p>Click on the following link to download the example: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-b9259541-c444-400a-8f6e-8daaa5381a79.zip" target="_blank">opencproducerconsumerex.zip</a></p><p>Click: <a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-b9259541-c444-400a-8f6e-8daaa5381a79.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-b9259541-c444-400a-8f6e-8daaa5381a79.html">browse</a> to view the example code. </p> </div>
<div id="GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-GUID-D68DBDDA-5220-4106-BF20-BDCD3B114884"><h3 class="section-title">Design
and Implementation</h3> <p>The following sections provide information
about the implementation of the example. </p> <p><strong>Capabilities</strong> </p> The program capability is defined in: <code>ProducerConsumer.mmp</code> (EXE - application):<code class="codeph"> CAPABILITY NONE</code>. <p><strong>Implementation
details of EXE</strong> </p>This is a simple console based application.
Main thread of the application will create a thread named as Producer
that will produce the item and push it on to the stack. There will
be N consumers which want to consume some N(i) items from the Producer.
Producer will produce N items at a time and pushes them to the stack
and totally it will produce sum(N(i)) items. The consumer thread will
try to pop items from the stack and each consumer will pop N(i) items
from the stack. The application will create one thread for each consumer.
Producer and all the consumer threads will be synchronized using a
semaphore. The main thread, Producer and the consumer codes are pure
C-code. the stack used by Producer and the consumer threads is Standard
C++ code. Apart from these threads, there is another thread named
as Observer that is created using Symbian platform API. Producer and
the consumers will establish a message queue with this thread and
Observer will read message from all other threads and will log them
to a file wich is opened/written using Symbian APIs. Hence, this application
is a hybrid application with:  <p>Standard C code -&gt; <code>Consumer.c</code>, <code>Producer.c</code>, <code>ProducerConsumer.c</code>, <code>CommanHeader.h</code> </p><p>Standard C++ code -&gt; <code>Stack.cpp</code>,<code>Stack.h</code>, <code>CommanHeader.h</code></p><p>Symbian platform code that uses <code class="codeph">libc</code> APIs
and Observer.cpp.</p><p>  The application has its own icon and can
be launched from the UI both in the emulator and in the device. </p><p><strong>API Usage</strong></p><p><code class="codeph">string APIs</code> </p><p><code class="codeph">IPC APIs (message queue and semaphore)</code> </p><p> <code class="codeph">Threading
APIs (from pthread)</code> </p><p><code class="codeph">console I/O APIs</code> </p><p><code class="codeph">File APIs of Symbian platform</code></p><p> <code class="codeph">Threading APIs of Symbian platform</code></p></div>
<div id="GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-GUID-D68DBDDA-5220-4106-BF20-BDCD3B114884"><h3 class="section-title">Building
and Using</h3> To build the OpenCProducerConsumerEx application,
go to the OpenCProducerConsumerEx\group directory and build the application.
The definition for the whole application can be found in the<code> bld.inf</code>in the group subdirectory of the applications
main directory. <p>The application is simple console based application.
It has its own default icon and can be launched from the UI both in
the emulator and in the device. The application can be launched by:
Executing OpenCProducerConsumerEx from eshell. Clicking default icon
with display text OpenCProducerConsumerEx within the install folder
launcher application. </p></div>
</div></div></div><div class="footer"><p class="metadata">Last updated July 29th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-9BFF0271-F5C3-45B6-AD4D-9179107F300A.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:18 GMT -->
</html>