
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-EA3419BD-D757-5AC3-AE6F-DF21F794AE47.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:15 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Descriptor basics" /><meta name="abstract" content="This document describes buffer descriptors, heap descriptors, pointer descriptors and resizable buffer descriptors." /><meta name="description" content="This document describes buffer descriptors, heap descriptors, pointer descriptors and resizable buffer descriptors." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783" /><meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87" /><meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D" /><meta name="DC.Relation" scheme="URI" content="GUID-DBF88873-21B1-5493-8EBF-C9071D314A09" /><meta name="DC.Relation" scheme="URI" content="GUID-11EEFB3D-0414-5BEB-9D78-56A4B9154008" /><meta name="DC.Relation" scheme="URI" content="GUID-79BAF19D-F003-5468-9C01-6E918B06C36D" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-EA3419BD-D757-5AC3-AE6F-DF21F794AE47" /><meta name="DC.Language" content="en" /><title>Descriptor
basics </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-EA3419BD-D757-5AC3-AE6F-DF21F794AE47">Descriptor
basics</h1><div><p>This document describes buffer descriptors, heap descriptors, pointer
descriptors and resizable buffer descriptors.</p>
<p>Descriptors provide a safe, consistent and economical mechanism for accessing
and manipulating strings and general binary data. </p>
<p>A descriptor represents data which can reside in any memory location, either
ROM or RAM. A descriptor object maintains pointer and length information to
describe the data. All access to the data is made through the descriptor object. </p>
<p>The area occupied by data represented by a given descriptor is considered
to be non-expandable, even though the length of data represented can shrink
or expand to fill that area. </p>
<p>The set of operations which can be performed on data represented by a descriptor
is divided into those that can modify the data and those which provide access
but do not modify the data. This split is reflected in the structure of the
descriptor classes. </p>
<p>Operations on data represented by a descriptor are safe. Accidental or
deliberate attempts to access memory outside the data area represented by
a descriptor are caught. An illegal access is treated as bad programming rather
than an environment or resource problem and raises an exception known as a
panic. </p>
<p>Descriptors make no distinction between the type of data represented; both
strings and binary data are treated in the same way. Although some operations
on a descriptor are intended to operate on a string, they also work on binary
data. This unifies the handling of both strings and binary data and increases
efficiency by allowing code to be shared. This also means that data can consist
of a mix of string data and binary data. </p>
<p>The concrete descriptors that programs create come in four types: </p>
<ul>
<li id="GUID-FFBB1AD9-1B31-5B37-8DA5-2B441385BE06"><a name="GUID-FFBB1AD9-1B31-5B37-8DA5-2B441385BE06"><!-- --></a><p>Buffer descriptors -
where the data is part of the descriptor object and the descriptor object
lives on the program stack. </p> </li>
<li id="GUID-2E7EF74C-0079-597F-B15A-4351D9682BA6"><a name="GUID-2E7EF74C-0079-597F-B15A-4351D9682BA6"><!-- --></a><p>Heap descriptors - where
the data is part of the descriptor object and the descriptor object lives
on the heap. </p> </li>
<li id="GUID-DFB5D25C-FBF9-54F6-B0A4-51E58602935C"><a name="GUID-DFB5D25C-FBF9-54F6-B0A4-51E58602935C"><!-- --></a><p>Pointer descriptors
- where the descriptor object is separate from the data it represents. </p> </li>
<li id="GUID-AF5F3732-5E41-5E1A-AA88-C2A900C7F004"><a name="GUID-AF5F3732-5E41-5E1A-AA88-C2A900C7F004"><!-- --></a><p>Resizable buffer descriptors
- where the descriptor is separate from the data it represents, and the data
resides in a buffer allocated on the heap. </p> </li>
</ul>
<div class="figure" id="GUID-3FE00A17-DC27-5AB3-AAC8-05B4259C0834"><img src="GUID-F392355C-C499-555A-85B7-1DF40492E9B2_d0e293579_href.png" /><p class="figure-title"><strong>Figure: </strong>           Buffer descriptor         </p></div>
<div class="figure" id="GUID-646F7A87-3D87-5856-886D-F3844D5D046C"><img src="GUID-084C5F8F-3310-5BDE-BB4B-110361D45AB0_d0e293587_href.png" /><p class="figure-title"><strong>Figure: </strong>           Heap descriptor         </p></div>
<div class="figure" id="GUID-6A2463A0-CF76-5746-9BF3-2FC24F714A73"><img src="GUID-29E54156-DF94-5B34-ACAB-1417265C950D_d0e293595_href.png" /><p class="figure-title"><strong>Figure: </strong>           Pointer descriptor         </p></div>
<div class="figure" id="GUID-5EE9C2A2-E654-5736-A72B-4F7A705E12DE"><img src="GUID-245FC4CA-EB57-5745-AD2E-79E33D43D912_d0e293603_href.png" /><p class="figure-title"><strong>Figure: </strong>           Resizable buffer descriptor         </p></div>
<p>Although the four types seem to be different, the underlying class structure
makes such differences transparent allowing them to be treated in the same
way. </p>
<p>Descriptor objects generally, behave as built-in types, as they can be
safely created on the program stack and can also be safely orphaned. The heap
descriptor is an exception to this rule. </p>
<p>The design also avoids the memory overhead associated with virtual functions. </p>
</div></div></div><div class="footer"><p class="metadata">Last updated January 20th, 2010</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-EA3419BD-D757-5AC3-AE6F-DF21F794AE47.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:00:20 GMT -->
</html>