
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:08:08 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Introduction to Transactions" /><meta name="abstract" content="A transaction is a series of operations on a store, normally completed by committing them using the store's CommitL() function." /><meta name="description" content="A transaction is a series of operations on a store, normally completed by committing them using the store's CommitL() function." /><meta name="DC.Relation" scheme="URI" content="GUID-79F39C97-75E8-5DB1-B976-8FE76E6E60C9" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE" /><meta name="DC.Relation" scheme="URI" content="GUID-3FAB9077-3EC3-5539-B391-D11456362513" /><meta name="DC.Relation" scheme="URI" content="GUID-E9C608C0-AC22-5267-BEC4-207C9758F968" /><meta name="DC.Relation" scheme="URI" content="GUID-6EE0CB66-A759-5E0C-884D-90895F35F267" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B" /><meta name="DC.Language" content="en" /><title>Introduction
to Transactions </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B">Introduction
to Transactions</h1><div><p>A transaction is a series of operations on a store, normally completed
by committing them using the store's <code class="codeph">CommitL()</code> function. </p>
<p>Transactions are supported by the commit and revert protocol. The series
of operations forming a transaction must all succeed for the transaction to
be successful. </p>
<p>If a leave occurs during an operation on the store during a transaction,
or if the store's <code class="codeph">RevertL()</code> function is called explicitly,
the transaction is reverted. This facility parallels the commit and rollback
functions which are conventional in databases. However, reverting is not quite
the same as rolling back; integrity of data is guaranteed, but some indexes
may be corrupted. </p>
<p>The commit and revert protocol is useful for ensuring that persistent data
moves from one consistent state to another and for guaranteeing the integrity
of persistent store data in the event of failures. </p>
<p>Typically, changes to a store are not made permanent until they are committed,
establishing what is called a commit point. Until such changes are committed,
they can be rolled back or reverted, effectively causing the store to revert
back to its state before the changes were made. If a process termination or
a media failure occurs, the store reverts automatically to its state at the
last successful commit point. </p>
<p>In permanent file stores the protocol applies to: </p>
<ul>
<li id="GUID-F16D4A25-8103-563C-9DC5-D79F7C275ACB"><a name="GUID-F16D4A25-8103-563C-9DC5-D79F7C275ACB"><!-- --></a><p>generating new streams </p> </li>
<li id="GUID-A0EA4352-D06B-59D3-9E04-D0B42131AF5B"><a name="GUID-A0EA4352-D06B-59D3-9E04-D0B42131AF5B"><!-- --></a><p>deleting streams </p> </li>
<li id="GUID-83307858-E18D-5F78-8E30-F6754EB6926E"><a name="GUID-83307858-E18D-5F78-8E30-F6754EB6926E"><!-- --></a><p>creating new streams </p> </li>
<li id="GUID-FAD15660-6405-5C11-A72D-40471D5FE2E5"><a name="GUID-FAD15660-6405-5C11-A72D-40471D5FE2E5"><!-- --></a><p>replacing streams </p> </li>
<li id="GUID-A00822E2-2FE7-55CA-9144-7B9F6DA7C3F7"><a name="GUID-A00822E2-2FE7-55CA-9144-7B9F6DA7C3F7"><!-- --></a><p>setting the root stream </p> </li>
</ul>
<p>The protocol also applies to creating new streams or replacing existing
streams in dictionary stores. </p>
<p>The protocol does<em> not</em> apply to overwriting existing streams. </p>
<p>The following diagram shows the idea: </p>
<div class="figure" id="GUID-9F093A25-C9C6-5590-9427-EBC4BD26AC73"><img src="GUID-6FC62A2F-E27F-54A8-A97F-0F42426D1F63_d0e459075_href.png" /><p class="figure-title"><strong>Figure: </strong>Transaction Commit and Revert</p></div>
</div><h3>Related concepts</h3><ul><li><a href="GUID-79F39C97-75E8-5DB1-B976-8FE76E6E60C9.html">Dictionary
stores</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated January 21st, 2010</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 04:08:09 GMT -->
</html>