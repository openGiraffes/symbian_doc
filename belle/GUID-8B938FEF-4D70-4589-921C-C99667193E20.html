
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-8B938FEF-4D70-4589-921C-C99667193E20.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:44 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="TaskSchedulerExample: Using Task Scheduler for Creating and Executing Tasks" /><meta name="abstract" content="This example application demonstrates the usage of the Task Scheduler API." /><meta name="description" content="This example application demonstrates the usage of the Task Scheduler API." /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013" /><meta name="DC.Relation" scheme="URI" content="GUID-D049392D-2DA4-5E9C-8E3E-FEDF79BC5086" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-8B938FEF-4D70-4589-921C-C99667193E20" /><meta name="DC.Language" content="en" /><title>TaskSchedulerExample: Using Task Scheduler for
Creating and Executing Tasks </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-8B938FEF-4D70-4589-921C-C99667193E20">TaskSchedulerExample: Using Task Scheduler for
Creating and Executing Tasks</h1><div><p> This example application demonstrates the usage of the
Task Scheduler API. </p>
<div id="GUID-A94DDB0C-4F00-44FC-AF2F-B53AD1AEC659"><h3 class="section-title">Download</h3><p>Click on the following link to download the examples: </p><p><a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/zips/guid-c863a545-b00c-4065-8f95-04bd026abf82.zip" target="_blank">TaskSchedulerExample.zip </a></p><p>Click the
following links to view the example code.</p><p><a href="GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-c863a545-b00c-4065-8f95-04bd026abf82.html#GUID-6013A680-57F9-415B-8851-C4FA63356636/guid-c863a545-b00c-4065-8f95-04bd026abf82.html">TaskSchedulerExample</a> </p> </div>
<div id="GUID-2E31A36A-39FE-4C66-A56A-019A335F4F0D"><h3 class="section-title">Purpose</h3>The scheduler example has two applications; one to schedule the tasks,
and the other to run the scheduled tasks. The scheduler application
launches the application that runs the scheduled tasks, when the tasks
are due to be completed. </div>
<div id="GUID-DD9255F2-8BAC-4FAB-B02B-C6AF94271362"><h3 class="section-title"><!--no section title--></h3>		  The scheduler
application is the client of the scheduler server. It connects and
registers itself with the scheduler server using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-C4EEE075-3B47-3964-AFCC-0CDF09DEDA0F"><code class="apiname">RScheduler::Connect()</code></a> and 	<a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-C19048C5-DC9F-3B8A-B4AD-02C0D943B7AC"><code class="apiname">RScheduler::Register()</code></a>  methods, respectively.
While registering itself with the scheduler server, the scheduler
application provides the name of the application that runs the scheduled
tasks, along with its complete path and its priority relative to other
clients. </div>
<div id="GUID-05A24707-1FD1-4B7B-BF4E-F79442B38EE7"><h3 class="section-title"><!--no section title--></h3>When a session
with the scheduler server is started, the scheduler creates a persistent
time-based schedule using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-2DBDC4BB-3E58-30E4-88A4-024F8A8514A4"><code class="apiname">RScheduler::CreatePersistentSchedule()</code></a> method. Then, it 	adds a task to the persistent schedule using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-F86AED90-2992-380B-B9FD-2763EA041FE7"><code class="apiname">RScheduler::ScheduleTask()</code></a>method. </div>
<div id="GUID-4ECA6484-733F-453E-B2D2-3FE5EA613873"><h3 class="section-title"><!--no section title--></h3> The scheduler
application also creates a transient time-based schedule using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-F86AED90-2992-380B-B9FD-2763EA041FE7"><code class="apiname">RScheduler::ScheduleTask()</code></a> method. The application passes
the schedule information to the method using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EA5C4B46-AC42-3D0F-8C48-E182D0D30A12.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-EA5C4B46-AC42-3D0F-8C48-E182D0D30A12.html"><code class="apiname">TScheduleEntryInfo2</code></a>and<a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html"><code class="apiname">TTaskInfo</code></a>    objects. It also edits the transient
schedule entry to change its validity using <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-50B287A9-F62F-3C49-AD22-2760C96846EA"><code class="apiname">RScheduler::EditSchedule()</code></a></div>
<div id="GUID-0428D799-8988-4161-8A4B-4C77F8C9060B"><h3 class="section-title"><!--no section title--></h3>The scheduler
application launches the executor application, which runs 	 the scheduled
tasks when they are due to be completed. The executor checks whether
it has the necessary capability to run the scheduled tasks using the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-049FF2D7-8444-3E87-BF2F-DD0EA9B10ED0.html#GUID-97B29D4C-FEA0-3103-BA54-31B1EA8C827C"><code class="apiname">CScheduledTask::SecurityInfo()</code></a> method. The executor application
also checks whether the Secure ID (SID) is the same as that of the
task requester, to be able to run the tasks. If these security checks
pass, the executor prints the details of the scheduled task to the
console. </div>
<div id="GUID-4365B42F-818A-4F4E-BEBC-5B97F735BB85"><h3 class="section-title"><!--no section title--></h3>Finally, the
scheduled tasks are deleted using the 	<a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-B4CECD92-82C6-3CEC-8DA6-E4D1580BEC00"><code class="apiname">RScheduler::DeleteSchedule()</code></a>	  and 	<a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-BE934053-79EA-3101-899D-18BC91359BB7"><code class="apiname">RScheduler::DeleteTask()</code></a>methods, respectively. </div>
<div id="GUID-40866CA9-3C2A-48BA-9513-10292862300F"><h3 class="section-title">Class
summary </h3><p>The example shows the following APIs: </p><ul>
<li><p>RScheduler</p></li>
<li><p>CScheduledTask</p></li>
<li><p>TScheduleEntryInfo2</p></li>
<li><p>TTaskInfo</p></li>
<li><p>TSchedulerItemRef</p></li>
<li><p>TSecurityInfo</p></li>
</ul></div>
<div id="GUID-906FFDA7-A68A-4553-B46A-B41A136C931B"><h3 class="section-title">Building
and configuring </h3><p>To build the example:</p><ul>
<li><p>You can build the example from the Carbide.c++ IDE or the command
line.</p><p>If you use an IDE, import the bld.inf file of the example
into your IDE, and use the build command of the IDE. If you use the
command line, open a command prompt, and set the current directory
to examples\SysLibs\TaskSchedulerExample folder which contains the
bld.inf file. You can then build the example with the following build
commands:</p> <div class="p"><pre class="codeblock">bldmake bldfiles
abld build winsw (For WINSCW platforms)
abld build ARMV5 (For hardware)</pre></div><p>for running the
obtained .exe, go to epoc32\release\winscw\udeb\ (or urel\), launch
taskexecutor.exe :</p><div class="p"><pre class="codeblock">taskexecutor.exe</pre></div></li>
</ul></div>
</div></div></div><div class="footer"><p class="metadata">Last updated August 26th, 2011</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-8B938FEF-4D70-4589-921C-C99667193E20.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:56:45 GMT -->
</html>