
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-A18153C0-230C-51FB-9384-A48BB4E42F03.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:57:07 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Cleanup Strategy" /><meta name="abstract" content="The support for custom cleanup strategies is based on a template-based implementation of the Strategy design pattern. Cleanup strategies can be specified as an optional template parameter of the class templates for automatic resource management." /><meta name="description" content="The support for custom cleanup strategies is based on a template-based implementation of the Strategy design pattern. Cleanup strategies can be specified as an optional template parameter of the class templates for automatic resource management." /><meta name="DC.Relation" scheme="URI" content="GUID-3799F0DA-B99C-55BB-B44F-63B971DF1865" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657" /><meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF" /><meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD" /><meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C" /><meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03" /><meta name="DC.Language" content="en" /><title>Cleanup
Strategy </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-A18153C0-230C-51FB-9384-A48BB4E42F03">Cleanup
Strategy</h1><div><p>The support for custom cleanup strategies is based on a template-based
implementation of the Strategy design pattern. Cleanup strategies can be specified
as an optional template parameter of the class templates for automatic resource
management. </p>
<div><h3 class="section-title">Default Cleanup Strategy </h3> <p>The default cleanup strategy
is determined by the <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-72BC7E43-1ABA-334A-B8ED-F9A152505FE6.html#GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-72BC7E43-1ABA-334A-B8ED-F9A152505FE6.html"><code class="apiname">TResourceCleanupStrategy</code></a> class template
which by default calls a function named Cleanup() function.
The DEFINE_CLEANUP_FUNCTION macro defines an inline function
named Cleanup() function which is invoked for cleanup of the managed object
in place of the default CallCleanupFunction function defined in the header
file. </p> </div>
<div><h3 class="section-title">DEFINE_CLEANUP_FUNCTION Macro</h3> <p> DEFINE_CLEANUP_FUNCTION is
provided in order to enable Symbian Developers to easily define the default
cleanup member function for a class type, such as an R-class. The macro can
be used in the same namespace in which the R-class is defined or in a namespace
in which the R-class is used. The DEFINE_CLEANUP_FUNCTION can be used by class
designers, but if a class does not have a cleanup function specified, then
the class users can use the DEFINE_CLEANUP_FUNCTION in order to define the
default cleanup function for that class. </p> </div>
<div><h3 class="section-title">Clean-up Strategy example</h3> <pre class="codeblock">DEFINE_CLEANUP_FUNCTION(RSimple, ReleaseData);</pre> <p>This sets the default cleanup behaviour for the RSimple class to be RSimple::ReleaseData().
If this Macro is not used then the default cleanup behaviour would be to call RSimple::Close(). </p> </div>
</div><h3>Related tasks</h3><ul><li><a href="GUID-3799F0DA-B99C-55BB-B44F-63B971DF1865.html">Cleanup Strategy
Tutorial</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated October 15th, 2009</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-A18153C0-230C-51FB-9384-A48BB4E42F03.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:57:07 GMT -->
</html>