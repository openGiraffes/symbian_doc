
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-6E8807F5-9CC0-5A70-8182-22230D43AA9E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:58:31 GMT -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="(C) Copyright 2012" /><meta name="DC.rights.owner" content="(C) Copyright 2012" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Setting Up Window Server Logging" /><meta name="DC.Relation" scheme="URI" content="GUID-AA02BFA9-E62E-56FC-BF22-8FE092ABD9DA" /><meta name="DC.Relation" scheme="URI" content="GUID-1D529BDC-6665-58E2-AB3F-7023D8A84F69" /><meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7" /><meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595" /><meta name="DC.Relation" scheme="URI" content="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B" /><meta name="DC.Relation" scheme="URI" content="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0" /><meta name="DC.Relation" scheme="URI" content="GUID-862D3B3B-3369-5FF4-B81A-ED5BE415B035" /><meta name="DC.Relation" scheme="URI" content="GUID-85E1E45B-DD05-5B7D-84E7-9911E0A3E3CC" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="GUID-6E8807F5-9CC0-5A70-8182-22230D43AA9E" /><meta name="DC.Language" content="en" /><title>Setting Up Window Server Logging </title><link href="css/s60/style.css" rel="stylesheet" type="text/css" /><link href="PLUGINS_ROOT/com.nokia.forum.library/css/category_cpp5.html" rel="stylesheet" type="text/css" /></head><body><div class="body"><div class="contentLeft prTxt"><h1 class="pageHeading" id="GUID-6E8807F5-9CC0-5A70-8182-22230D43AA9E">Setting Up Window Server Logging</h1><div><p>This topic shows an example <code>wsini.ini</code> configuration file to explain how to set up Window Server logging. </p> <p>Here is the example: </p> <pre class="codeblock">LOG FL
LOGP C:\DATA\WSERV.LOG
LOGENABLE
REBOOT 1
AUTOCLEAR 1
SCREENMODE COLOR256</pre> <p>The first three lines control respectively, the choice of logging DLL, the location of the generated log file, and the time at which logging begins. <code class="codeph">LOGENABLE</code> ensures that logging begins as soon as the Window Server boots. If no log file location is specified, the default on the emulator is <code>epoc32\winscw\c\private\ </code> and on phones is <code>c:\system\data\</code>. </p> <p>To enable logging on the emulator, add these settings to the default <code>wsini.ini</code> file, located in <code>\epoc32\release\winscw\</code> <em>variant</em> <code>\z\system\data\</code> (where <em>variant</em> is either <code>udeb</code> or <code>urel</code>). On a target phone, copy the <code>wsini.ini</code> file into <code>Z:\system\data\</code>, overriding the version in ROM, and restart the Window Server. </p> <p>In order to carry out logging on a target phone, after making any necessary changes to the <code>wsini.ini</code> file, copy the logging DLL to the <code>\sys\bin\</code> directory on the phone. </p> <p>To enable and disable logging, the following shortcut keys can be used: </p> <p> <kbd class="userinput">Alt</kbd> +<kbd class="userinput">Ctrl</kbd> +<kbd class="userinput">Shift</kbd> +<kbd class="userinput">E</kbd> ("<kbd class="userinput">E</kbd> " for Enable) </p> <p> <kbd class="userinput">Alt</kbd> +<kbd class="userinput">Ctrl</kbd> +<kbd class="userinput">Shift</kbd> +<kbd class="userinput">D</kbd> ("<kbd class="userinput">D</kbd> " for Disable) </p> <p>Other useful shortcut keys are: </p> <ul><li id="GUID-4DD20C41-4FB2-58FC-B262-397191966246"><a name="GUID-4DD20C41-4FB2-58FC-B262-397191966246"><!-- --></a><p> <kbd class="userinput">Alt</kbd> +<kbd class="userinput">Ctrl</kbd> +<kbd class="userinput">Shift</kbd> +<kbd class="userinput">W</kbd> (dumps the full window tree) </p> </li> <li id="GUID-B127233F-A28D-5357-9FD6-1CBB1DE7CCE4"><a name="GUID-B127233F-A28D-5357-9FD6-1CBB1DE7CCE4"><!-- --></a><p> <kbd class="userinput">Alt</kbd> +<kbd class="userinput">Ctrl</kbd> +<kbd class="userinput">Shift</kbd> +<kbd class="userinput">H</kbd> (dumps the contents of the Window Server's heap) </p> </li> </ul> <p>These two options work whether or not logging is enabled, provided a logging DLL has been specified. </p> <p>Note that in Window Server client code, invoking </p> <ul><li id="GUID-70882334-1192-5ADA-8CB9-97F1F0BB493B"><a name="GUID-70882334-1192-5ADA-8CB9-97F1F0BB493B"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html#GUID-6BCABC6F-E33D-3CD6-A1C5-FE8D883307BD"><code class="apiname">RWsSession::LogCommand()</code></a> allows the Window Server client to enable or disable logging of Window Server events. </p> </li> <li id="GUID-36F31D32-2B1A-5F5D-B9D3-0BBDBDE64151"><a name="GUID-36F31D32-2B1A-5F5D-B9D3-0BBDBDE64151"><!-- --></a><p> <a href="GUID-C6E5F800-0637-419E-8FE5-1EBB40E725AA/GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html#GUID-F88F3A17-6010-3A0C-89DD-956E7092A862"><code class="apiname">RWsSession::LogMessage()</code></a> writes the buffer descriptor specified to the log file. </p> </li> </ul> </div><h3>Related concepts</h3><ul><li><a href="GUID-AA02BFA9-E62E-56FC-BF22-8FE092ABD9DA.html">The wsini.ini File</a></li></ul><h3>Related reference</h3><ul><li><a href="GUID-1D529BDC-6665-58E2-AB3F-7023D8A84F69.html">The wsini.ini File
                Reference</a></li></ul></div></div><div class="footer"><p class="metadata">Last updated October 9th, 2009</p><hr /><div class="copy">Â© Nokia 2012.</div></div></body>
<!-- Mirrored from devlib.symbian.slions.net/belle/GUID-6E8807F5-9CC0-5A70-8182-22230D43AA9E.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 27 Mar 2020 03:58:31 GMT -->
</html>